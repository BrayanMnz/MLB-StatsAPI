<!doctype html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />

    <title>statsapi API documentation</title>
    <meta name="description" content="# MLB-StatsAPI

Python wrapper for MLB Stats API

Created by Todd Roberts

https://pypi.org/project/..." />

  <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,300' rel='stylesheet' type='text/css'>
  
  <style type="text/css">
  
* {
  box-sizing: border-box;
}
/*! normalize.css v1.1.1 | MIT License | git.io/normalize */

/* ==========================================================================
   HTML5 display definitions
   ========================================================================== */

/**
 * Correct `block` display not defined in IE 6/7/8/9 and Firefox 3.
 */

article,
aside,
details,
figcaption,
figure,
footer,
header,
hgroup,
main,
nav,
section,
summary {
    display: block;
}

/**
 * Correct `inline-block` display not defined in IE 6/7/8/9 and Firefox 3.
 */

audio,
canvas,
video {
    display: inline-block;
    *display: inline;
    *zoom: 1;
}

/**
 * Prevent modern browsers from displaying `audio` without controls.
 * Remove excess height in iOS 5 devices.
 */

audio:not([controls]) {
    display: none;
    height: 0;
}

/**
 * Address styling not present in IE 7/8/9, Firefox 3, and Safari 4.
 * Known issue: no IE 6 support.
 */

[hidden] {
    display: none;
}

/* ==========================================================================
   Base
   ========================================================================== */

/**
 * 1. Prevent system color scheme's background color being used in Firefox, IE,
 *    and Opera.
 * 2. Prevent system color scheme's text color being used in Firefox, IE, and
 *    Opera.
 * 3. Correct text resizing oddly in IE 6/7 when body `font-size` is set using
 *    `em` units.
 * 4. Prevent iOS text size adjust after orientation change, without disabling
 *    user zoom.
 */

html {
    background: #fff; /* 1 */
    color: #000; /* 2 */
    font-size: 100%; /* 3 */
    -webkit-text-size-adjust: 100%; /* 4 */
    -ms-text-size-adjust: 100%; /* 4 */
}

/**
 * Address `font-family` inconsistency between `textarea` and other form
 * elements.
 */

html,
button,
input,
select,
textarea {
    font-family: sans-serif;
}

/**
 * Address margins handled incorrectly in IE 6/7.
 */

body {
    margin: 0;
}

/* ==========================================================================
   Links
   ========================================================================== */

/**
 * Address `outline` inconsistency between Chrome and other browsers.
 */

a:focus {
    outline: thin dotted;
}

/**
 * Improve readability when focused and also mouse hovered in all browsers.
 */

a:active,
a:hover {
    outline: 0;
}

/* ==========================================================================
   Typography
   ========================================================================== */

/**
 * Address font sizes and margins set differently in IE 6/7.
 * Address font sizes within `section` and `article` in Firefox 4+, Safari 5,
 * and Chrome.
 */

h1 {
    font-size: 2em;
    margin: 0.67em 0;
}

h2 {
    font-size: 1.5em;
    margin: 0.83em 0;
}

h3 {
    font-size: 1.17em;
    margin: 1em 0;
}

h4 {
    font-size: 1em;
    margin: 1.33em 0;
}

h5 {
    font-size: 0.83em;
    margin: 1.67em 0;
}

h6 {
    font-size: 0.67em;
    margin: 2.33em 0;
}

/**
 * Address styling not present in IE 7/8/9, Safari 5, and Chrome.
 */

abbr[title] {
    border-bottom: 1px dotted;
}

/**
 * Address style set to `bolder` in Firefox 3+, Safari 4/5, and Chrome.
 */

b,
strong {
    font-weight: bold;
}

blockquote {
    margin: 1em 40px;
}

/**
 * Address styling not present in Safari 5 and Chrome.
 */

dfn {
    font-style: italic;
}

/**
 * Address differences between Firefox and other browsers.
 * Known issue: no IE 6/7 normalization.
 */

hr {
    -moz-box-sizing: content-box;
    box-sizing: content-box;
    height: 0;
}

/**
 * Address styling not present in IE 6/7/8/9.
 */

mark {
    background: #ff0;
    color: #000;
}

/**
 * Address margins set differently in IE 6/7.
 */

p,
pre {
    margin: 1em 0;
}

/**
 * Correct font family set oddly in IE 6, Safari 4/5, and Chrome.
 */

code,
kbd,
pre,
samp {
    font-family: monospace, serif;
    _font-family: 'courier new', monospace;
    font-size: 1em;
}

/**
 * Improve readability of pre-formatted text in all browsers.
 */

pre {
    white-space: pre;
    white-space: pre-wrap;
    word-wrap: break-word;
}

/**
 * Address CSS quotes not supported in IE 6/7.
 */

q {
    quotes: none;
}

/**
 * Address `quotes` property not supported in Safari 4.
 */

q:before,
q:after {
    content: '';
    content: none;
}

/**
 * Address inconsistent and variable font size in all browsers.
 */

small {
    font-size: 80%;
}

/**
 * Prevent `sub` and `sup` affecting `line-height` in all browsers.
 */

sub,
sup {
    font-size: 75%;
    line-height: 0;
    position: relative;
    vertical-align: baseline;
}

sup {
    top: -0.5em;
}

sub {
    bottom: -0.25em;
}

/* ==========================================================================
   Lists
   ========================================================================== */

/**
 * Address margins set differently in IE 6/7.
 */

dl,
menu,
ol,
ul {
    margin: 1em 0;
}

dd {
    margin: 0 0 0 40px;
}

/**
 * Address paddings set differently in IE 6/7.
 */

menu,
ol,
ul {
    padding: 0 0 0 40px;
}

/**
 * Correct list images handled incorrectly in IE 7.
 */

nav ul,
nav ol {
    list-style: none;
    list-style-image: none;
}

/* ==========================================================================
   Embedded content
   ========================================================================== */

/**
 * 1. Remove border when inside `a` element in IE 6/7/8/9 and Firefox 3.
 * 2. Improve image quality when scaled in IE 7.
 */

img {
    border: 0; /* 1 */
    -ms-interpolation-mode: bicubic; /* 2 */
}

/**
 * Correct overflow displayed oddly in IE 9.
 */

svg:not(:root) {
    overflow: hidden;
}

/* ==========================================================================
   Figures
   ========================================================================== */

/**
 * Address margin not present in IE 6/7/8/9, Safari 5, and Opera 11.
 */

figure {
    margin: 0;
}

/* ==========================================================================
   Forms
   ========================================================================== */

/**
 * Correct margin displayed oddly in IE 6/7.
 */

form {
    margin: 0;
}

/**
 * Define consistent border, margin, and padding.
 */

fieldset {
    border: 1px solid #c0c0c0;
    margin: 0 2px;
    padding: 0.35em 0.625em 0.75em;
}

/**
 * 1. Correct color not being inherited in IE 6/7/8/9.
 * 2. Correct text not wrapping in Firefox 3.
 * 3. Correct alignment displayed oddly in IE 6/7.
 */

legend {
    border: 0; /* 1 */
    padding: 0;
    white-space: normal; /* 2 */
    *margin-left: -7px; /* 3 */
}

/**
 * 1. Correct font size not being inherited in all browsers.
 * 2. Address margins set differently in IE 6/7, Firefox 3+, Safari 5,
 *    and Chrome.
 * 3. Improve appearance and consistency in all browsers.
 */

button,
input,
select,
textarea {
    font-size: 100%; /* 1 */
    margin: 0; /* 2 */
    vertical-align: baseline; /* 3 */
    *vertical-align: middle; /* 3 */
}

/**
 * Address Firefox 3+ setting `line-height` on `input` using `!important` in
 * the UA stylesheet.
 */

button,
input {
    line-height: normal;
}

/**
 * Address inconsistent `text-transform` inheritance for `button` and `select`.
 * All other form control elements do not inherit `text-transform` values.
 * Correct `button` style inheritance in Chrome, Safari 5+, and IE 6+.
 * Correct `select` style inheritance in Firefox 4+ and Opera.
 */

button,
select {
    text-transform: none;
}

/**
 * 1. Avoid the WebKit bug in Android 4.0.* where (2) destroys native `audio`
 *    and `video` controls.
 * 2. Correct inability to style clickable `input` types in iOS.
 * 3. Improve usability and consistency of cursor style between image-type
 *    `input` and others.
 * 4. Remove inner spacing in IE 7 without affecting normal text inputs.
 *    Known issue: inner spacing remains in IE 6.
 */

button,
html input[type="button"], /* 1 */
input[type="reset"],
input[type="submit"] {
    -webkit-appearance: button; /* 2 */
    cursor: pointer; /* 3 */
    *overflow: visible;  /* 4 */
}

/**
 * Re-set default cursor for disabled elements.
 */

button[disabled],
html input[disabled] {
    cursor: default;
}

/**
 * 1. Address box sizing set to content-box in IE 8/9.
 * 2. Remove excess padding in IE 8/9.
 * 3. Remove excess padding in IE 7.
 *    Known issue: excess padding remains in IE 6.
 */

input[type="checkbox"],
input[type="radio"] {
    box-sizing: border-box; /* 1 */
    padding: 0; /* 2 */
    *height: 13px; /* 3 */
    *width: 13px; /* 3 */
}

/**
 * 1. Address `appearance` set to `searchfield` in Safari 5 and Chrome.
 * 2. Address `box-sizing` set to `border-box` in Safari 5 and Chrome
 *    (include `-moz` to future-proof).
 */

input[type="search"] {
    -webkit-appearance: textfield; /* 1 */
    -moz-box-sizing: content-box;
    -webkit-box-sizing: content-box; /* 2 */
    box-sizing: content-box;
}

/**
 * Remove inner padding and search cancel button in Safari 5 and Chrome
 * on OS X.
 */

input[type="search"]::-webkit-search-cancel-button,
input[type="search"]::-webkit-search-decoration {
    -webkit-appearance: none;
}

/**
 * Remove inner padding and border in Firefox 3+.
 */

button::-moz-focus-inner,
input::-moz-focus-inner {
    border: 0;
    padding: 0;
}

/**
 * 1. Remove default vertical scrollbar in IE 6/7/8/9.
 * 2. Improve readability and alignment in all browsers.
 */

textarea {
    overflow: auto; /* 1 */
    vertical-align: top; /* 2 */
}

/* ==========================================================================
   Tables
   ========================================================================== */

/**
 * Remove most spacing between table cells.
 */

table {
    border-collapse: collapse;
    border-spacing: 0;
}

  </style>

  <style type="text/css">
  
  html, body {
    margin: 0;
    padding: 0;
    min-height: 100%;
  }
  body {
    background: #fff;
    font-family: "Source Sans Pro", "Helvetica Neueue", Helvetica, sans;
    font-weight: 300;
    font-size: 16px;
    line-height: 1.6em;
  }
  #content {
    width: 70%;
    max-width: 850px;
    float: left;
    padding: 30px 60px;
    border-left: 1px solid #ddd;
  }
  #sidebar {
    width: 25%;
    float: left;
    padding: 30px;
    overflow: hidden;
  }
  #nav {
    font-size: 130%;
    margin: 0 0 15px 0;
  }

  #top {
    display: block;
    position: fixed;
    bottom: 5px;
    left: 5px;
    font-size: .85em;
    text-transform: uppercase;
  }

  #footer {
    font-size: .75em;
    padding: 5px 30px;
    border-top: 1px solid #ddd;
    text-align: right;
  }
    #footer p {
      margin: 0 0 0 30px;
      display: inline-block;
    }

  h1, h2, h3, h4, h5 {
    font-weight: 300;
  }
  h1 {
    font-size: 2.5em;
    line-height: 1.1em;
    margin: 0 0 .50em 0;
  }

  h2 {
    font-size: 1.75em;
    margin: 1em 0 .50em 0;
  }

  h3 {
    margin: 25px 0 10px 0;
  }

  h4 {
    margin: 0;
    font-size: 105%;
  }

  a {
    color: #058;
    text-decoration: none;
    transition: color .3s ease-in-out;
  }

  a:hover {
    color: #e08524;
    transition: color .3s ease-in-out;
  }

  pre, code, .mono, .name {
    font-family: "Ubuntu Mono", "Cousine", "DejaVu Sans Mono", monospace;
  }

  .title .name {
    font-weight: bold;
  }
  .section-title {
    margin-top: 2em;
  }
  .ident {
    color: #900;
  }

  code {
    background: #f9f9f9;
  } 

  pre {
    background: #fefefe;
    border: 1px solid #ddd;
    box-shadow: 2px 2px 0 #f3f3f3;
    margin: 0 30px;
    padding: 15px 30px;
  }

  .codehilite {
    margin: 0 30px 10px 30px;
  }

    .codehilite pre {
      margin: 0;
    }
    .codehilite .err { background: #ff3300; color: #fff !important; } 

  table#module-list {
    font-size: 110%;
  }

    table#module-list tr td:first-child {
      padding-right: 10px;
      white-space: nowrap;
    }

    table#module-list td {
      vertical-align: top;
      padding-bottom: 8px;
    }

      table#module-list td p {
        margin: 0 0 7px 0;
      }

  .def {
    display: table;
  }

    .def p {
      display: table-cell;
      vertical-align: top;
      text-align: left;
    }

    .def p:first-child {
      white-space: nowrap;
    }

    .def p:last-child {
      width: 100%;
    }


  #index {
    list-style-type: none;
    margin: 0;
    padding: 0;
  }
    ul#index .class_name {
      /* font-size: 110%; */
      font-weight: bold;
    }
    #index ul {
      margin: 0;
    }

  .item {
    margin: 0 0 15px 0;
  }

    .item .class {
      margin: 0 0 25px 30px;
    }

      .item .class ul.class_list {
        margin: 0 0 20px 0;
      }

    .item .name {
      background: #fafafa;
      margin: 0;
      font-weight: bold;
      padding: 5px 10px;
      border-radius: 3px;
      display: inline-block;
      min-width: 40%;
    }
      .item .name:hover {
        background: #f6f6f6;
      }

    .item .empty_desc {
      margin: 0 0 5px 0;
      padding: 0;
    }

    .item .inheritance {
      margin: 3px 0 0 30px;
    }

    .item .inherited {
      color: #666;
    }

    .item .desc {
      padding: 0 8px;
      margin: 0;
    }

      .item .desc p {
        margin: 0 0 10px 0;
      }

    .source_cont {
      margin: 0;
      padding: 0;
    }

    .source_link a {
      background: #ffc300;
      font-weight: 400;
      font-size: .75em;
      text-transform: uppercase;
      color: #fff;
      text-shadow: 1px 1px 0 #f4b700;
      
      padding: 3px 8px;
      border-radius: 2px;
      transition: background .3s ease-in-out;
    }
      .source_link a:hover {
        background: #FF7200;
        text-shadow: none;
        transition: background .3s ease-in-out;
      }

    .source {
      display: none;
      max-height: 600px;
      overflow-y: scroll;
      margin-bottom: 15px;
    }

      .source .codehilite {
        margin: 0;
      }

  .desc h1, .desc h2, .desc h3 {
    font-size: 100% !important;
  }
  .clear {
    clear: both;
  }

  @media all and (max-width: 950px) {
    #sidebar {
      width: 35%;
    }
    #content {
      width: 65%;
    }
  }
  @media all and (max-width: 650px) {
    #top {
      display: none;
    }
    #sidebar {
      float: none;
      width: auto;
    }
    #content {
      float: none;
      width: auto;
      padding: 30px;
    }

    #index ul {
      padding: 0;
      margin-bottom: 15px;
    }
    #index ul li {
      display: inline-block;
      margin-right: 30px;
    }
    #footer {
      text-align: left;
    }
    #footer p {
      display: block;
      margin: inherit;
    }
  }

  /*****************************/

  </style>

  <style type="text/css">
  .codehilite .hll { background-color: #ffffcc }
.codehilite  { background: #f8f8f8; }
.codehilite .c { color: #408080; font-style: italic } /* Comment */
.codehilite .err { border: 1px solid #FF0000 } /* Error */
.codehilite .k { color: #008000; font-weight: bold } /* Keyword */
.codehilite .o { color: #666666 } /* Operator */
.codehilite .ch { color: #408080; font-style: italic } /* Comment.Hashbang */
.codehilite .cm { color: #408080; font-style: italic } /* Comment.Multiline */
.codehilite .cp { color: #BC7A00 } /* Comment.Preproc */
.codehilite .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
.codehilite .c1 { color: #408080; font-style: italic } /* Comment.Single */
.codehilite .cs { color: #408080; font-style: italic } /* Comment.Special */
.codehilite .gd { color: #A00000 } /* Generic.Deleted */
.codehilite .ge { font-style: italic } /* Generic.Emph */
.codehilite .gr { color: #FF0000 } /* Generic.Error */
.codehilite .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.codehilite .gi { color: #00A000 } /* Generic.Inserted */
.codehilite .go { color: #888888 } /* Generic.Output */
.codehilite .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.codehilite .gs { font-weight: bold } /* Generic.Strong */
.codehilite .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.codehilite .gt { color: #0044DD } /* Generic.Traceback */
.codehilite .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.codehilite .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.codehilite .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.codehilite .kp { color: #008000 } /* Keyword.Pseudo */
.codehilite .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.codehilite .kt { color: #B00040 } /* Keyword.Type */
.codehilite .m { color: #666666 } /* Literal.Number */
.codehilite .s { color: #BA2121 } /* Literal.String */
.codehilite .na { color: #7D9029 } /* Name.Attribute */
.codehilite .nb { color: #008000 } /* Name.Builtin */
.codehilite .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.codehilite .no { color: #880000 } /* Name.Constant */
.codehilite .nd { color: #AA22FF } /* Name.Decorator */
.codehilite .ni { color: #999999; font-weight: bold } /* Name.Entity */
.codehilite .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.codehilite .nf { color: #0000FF } /* Name.Function */
.codehilite .nl { color: #A0A000 } /* Name.Label */
.codehilite .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.codehilite .nt { color: #008000; font-weight: bold } /* Name.Tag */
.codehilite .nv { color: #19177C } /* Name.Variable */
.codehilite .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.codehilite .w { color: #bbbbbb } /* Text.Whitespace */
.codehilite .mb { color: #666666 } /* Literal.Number.Bin */
.codehilite .mf { color: #666666 } /* Literal.Number.Float */
.codehilite .mh { color: #666666 } /* Literal.Number.Hex */
.codehilite .mi { color: #666666 } /* Literal.Number.Integer */
.codehilite .mo { color: #666666 } /* Literal.Number.Oct */
.codehilite .sa { color: #BA2121 } /* Literal.String.Affix */
.codehilite .sb { color: #BA2121 } /* Literal.String.Backtick */
.codehilite .sc { color: #BA2121 } /* Literal.String.Char */
.codehilite .dl { color: #BA2121 } /* Literal.String.Delimiter */
.codehilite .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.codehilite .s2 { color: #BA2121 } /* Literal.String.Double */
.codehilite .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.codehilite .sh { color: #BA2121 } /* Literal.String.Heredoc */
.codehilite .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.codehilite .sx { color: #008000 } /* Literal.String.Other */
.codehilite .sr { color: #BB6688 } /* Literal.String.Regex */
.codehilite .s1 { color: #BA2121 } /* Literal.String.Single */
.codehilite .ss { color: #19177C } /* Literal.String.Symbol */
.codehilite .bp { color: #008000 } /* Name.Builtin.Pseudo */
.codehilite .fm { color: #0000FF } /* Name.Function.Magic */
.codehilite .vc { color: #19177C } /* Name.Variable.Class */
.codehilite .vg { color: #19177C } /* Name.Variable.Global */
.codehilite .vi { color: #19177C } /* Name.Variable.Instance */
.codehilite .vm { color: #19177C } /* Name.Variable.Magic */
.codehilite .il { color: #666666 } /* Literal.Number.Integer.Long */
  </style>

  <style type="text/css">
  
/* ==========================================================================
   EXAMPLE Media Queries for Responsive Design.
   These examples override the primary ('mobile first') styles.
   Modify as content requires.
   ========================================================================== */

@media only screen and (min-width: 35em) {
    /* Style adjustments for viewports that meet the condition */
}

@media print,
       (-o-min-device-pixel-ratio: 5/4),
       (-webkit-min-device-pixel-ratio: 1.25),
       (min-resolution: 120dpi) {
    /* Style adjustments for high resolution devices */
}

/* ==========================================================================
   Print styles.
   Inlined to avoid required HTTP connection: h5bp.com/r
   ========================================================================== */

@media print {
    * {
        background: transparent !important;
        color: #000 !important; /* Black prints faster: h5bp.com/s */
        box-shadow: none !important;
        text-shadow: none !important;
    }

    a,
    a:visited {
        text-decoration: underline;
    }

    a[href]:after {
        content: " (" attr(href) ")";
    }

    abbr[title]:after {
        content: " (" attr(title) ")";
    }

    /*
     * Don't show links for images, or javascript/internal links
     */

    .ir a:after,
    a[href^="javascript:"]:after,
    a[href^="#"]:after {
        content: "";
    }

    pre,
    blockquote {
        border: 1px solid #999;
        page-break-inside: avoid;
    }

    thead {
        display: table-header-group; /* h5bp.com/t */
    }

    tr,
    img {
        page-break-inside: avoid;
    }

    img {
        max-width: 100% !important;
    }

    @page {
        margin: 0.5cm;
    }

    p,
    h2,
    h3 {
        orphans: 3;
        widows: 3;
    }

    h2,
    h3 {
        page-break-after: avoid;
    }
}

  </style>

  <script type="text/javascript">
  function toggle(id, $link) {
    $node = document.getElementById(id);
    if (!$node)
    return;
    if (!$node.style.display || $node.style.display == 'none') {
    $node.style.display = 'block';
    $link.innerHTML = 'Hide source &nequiv;';
    } else {
    $node.style.display = 'none';
    $link.innerHTML = 'Show source &equiv;';
    }
  }
  </script>
</head>
<body>
<a href="#" id="top">Top</a>

<div id="container">
    
  
  <div id="sidebar">
    <h1>Index</h1>
    <ul id="index">
    <li class="set"><h3><a href="#header-variables">Module variables</a></h3>
      
  <ul>
    <li class="mono"><a href="#statsapi.BASE_URL">BASE_URL</a></li>
    <li class="mono"><a href="#statsapi.DEBUG">DEBUG</a></li>
    <li class="mono"><a href="#statsapi.ENDPOINTS">ENDPOINTS</a></li>
  </ul>

    </li>

    <li class="set"><h3><a href="#header-functions">Functions</a></h3>
      
  <ul>
    <li class="mono"><a href="#statsapi.boxscore">boxscore</a></li>
    <li class="mono"><a href="#statsapi.boxscore_data">boxscore_data</a></li>
    <li class="mono"><a href="#statsapi.game_highlight_data">game_highlight_data</a></li>
    <li class="mono"><a href="#statsapi.game_highlights">game_highlights</a></li>
    <li class="mono"><a href="#statsapi.game_pace">game_pace</a></li>
    <li class="mono"><a href="#statsapi.game_pace_data">game_pace_data</a></li>
    <li class="mono"><a href="#statsapi.game_scoring_play_data">game_scoring_play_data</a></li>
    <li class="mono"><a href="#statsapi.game_scoring_plays">game_scoring_plays</a></li>
    <li class="mono"><a href="#statsapi.get">get</a></li>
    <li class="mono"><a href="#statsapi.last_game">last_game</a></li>
    <li class="mono"><a href="#statsapi.league_leader_data">league_leader_data</a></li>
    <li class="mono"><a href="#statsapi.league_leaders">league_leaders</a></li>
    <li class="mono"><a href="#statsapi.linescore">linescore</a></li>
    <li class="mono"><a href="#statsapi.lookup_player">lookup_player</a></li>
    <li class="mono"><a href="#statsapi.lookup_team">lookup_team</a></li>
    <li class="mono"><a href="#statsapi.meta">meta</a></li>
    <li class="mono"><a href="#statsapi.next_game">next_game</a></li>
    <li class="mono"><a href="#statsapi.notes">notes</a></li>
    <li class="mono"><a href="#statsapi.player_stat_data">player_stat_data</a></li>
    <li class="mono"><a href="#statsapi.player_stats">player_stats</a></li>
    <li class="mono"><a href="#statsapi.roster">roster</a></li>
    <li class="mono"><a href="#statsapi.schedule">schedule</a></li>
    <li class="mono"><a href="#statsapi.standings">standings</a></li>
    <li class="mono"><a href="#statsapi.standings_data">standings_data</a></li>
    <li class="mono"><a href="#statsapi.team_leader_data">team_leader_data</a></li>
    <li class="mono"><a href="#statsapi.team_leaders">team_leaders</a></li>
  </ul>

    </li>


    <li class="set"><h3><a href="#header-submodules">Sub-modules</a></h3>
      <ul>
        <li class="mono"><a href="endpoints.m.html">statsapi.endpoints</a></li>
        <li class="mono"><a href="version.m.html">statsapi.version</a></li>
      </ul>
    </li>
    </ul>
  </div>

    <article id="content">
      
  

  


  <header id="section-intro">
  <h1 class="title"><span class="name">statsapi</span> module</h1>
  <h1>MLB-StatsAPI</h1>
<p>Python wrapper for MLB Stats API</p>
<p>Created by Todd Roberts</p>
<p>https://pypi.org/project/MLB-StatsAPI/</p>
<p>https://github.com/toddrob99/MLB-StatsAPI</p>
<p>Documentation: https://toddrob99.github.io/MLB-StatsAPI/</p>
  
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-statsapi', this);">Show source &equiv;</a></p>
  <div id="source-statsapi" class="source">
    <div class="codehilite"><pre><span></span><span class="c1"># encoding=utf-8</span>
<span class="sd">&quot;&quot;&quot;# MLB-StatsAPI</span>

<span class="sd">Python wrapper for MLB Stats API</span>

<span class="sd">Created by Todd Roberts</span>

<span class="sd">https://pypi.org/project/MLB-StatsAPI/</span>

<span class="sd">https://github.com/toddrob99/MLB-StatsAPI</span>

<span class="sd">Documentation: https://toddrob99.github.io/MLB-StatsAPI/</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">version_info</span><span class="o">.</span><span class="n">major</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">:</span>
    <span class="nb">reload</span><span class="p">(</span><span class="n">sys</span><span class="p">)</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">setdefaultencoding</span><span class="p">(</span><span class="s1">&#39;utf8&#39;</span><span class="p">)</span>
<span class="c1"># Trying to support Python 2.7</span>

<span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">version</span>
<span class="n">__version__</span> <span class="o">=</span> <span class="n">version</span><span class="o">.</span><span class="n">VERSION</span>
<span class="sd">&quot;&quot;&quot;Installed version of MLB-StatsAPI&quot;&quot;&quot;</span>

<span class="n">DEBUG</span> <span class="o">=</span> <span class="bp">False</span>
<span class="sd">&quot;&quot;&quot;To enable debug: statsapi.DEBUG=True&quot;&quot;&quot;</span>

<span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">endpoints</span>
<span class="n">BASE_URL</span> <span class="o">=</span> <span class="n">endpoints</span><span class="o">.</span><span class="n">BASE_URL</span>
<span class="sd">&quot;&quot;&quot;Base MLB Stats API URL&quot;&quot;&quot;</span>
<span class="n">ENDPOINTS</span> <span class="o">=</span> <span class="n">endpoints</span><span class="o">.</span><span class="n">ENDPOINTS</span>
<span class="sd">&quot;&quot;&quot;MLB Stats API endpoint configuration&quot;&quot;&quot;</span>

<span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>

<span class="k">def</span> <span class="nf">schedule</span><span class="p">(</span><span class="n">date</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">start_date</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">end_date</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">team</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">opponent</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">sportId</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">game_id</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get list of games for a given date/range and/or team/opponent.</span>

<span class="sd">    Include a game_id to get data for that game.</span>

<span class="sd">    Output will be a list containing a dict for each game. Fields in the dict:</span>

<span class="sd">    &#39;game_id&#39;: unique MLB game id (primary key, or gamePk)</span>
<span class="sd">    &#39;game_datetime&#39;: date and timestamp in UTC (be careful if you truncate the time--the date may be the next day for a late game)</span>
<span class="sd">    &#39;game_date&#39;: date of game (YYYY-MM-DD)</span>
<span class="sd">    &#39;game_type&#39;: Preseason, Regular season, Postseason, etc. Look up possible values using the meta endpoint with type=gameTypes</span>
<span class="sd">    &#39;status&#39;: Scheduled, Warmup, In Progress, Final, etc. Look up possible values using the meta endpoint with type=gameStatus</span>
<span class="sd">    &#39;away_name&#39;: team name for the away team (e.g. Philadelphia Phillies)</span>
<span class="sd">    &#39;home_name&#39;: team name for the home team (e.g. Philadelphia Phillies)</span>
<span class="sd">    &#39;away_id&#39;: team id for the away team, e.g. 143. Use this to look up other info about a team using the team endpoint with teamId=143</span>
<span class="sd">    &#39;home_id&#39;: team id for the home team, e.g. 143. Use this to look up other info about a team using the team endpoint with teamId=143</span>
<span class="sd">    &#39;doubleheader&#39;: indicates if the game is part of a straight doubleheader (Y), a split doubleheader (S), or not part of a doubleheader</span>
<span class="sd">    &#39;game_num&#39;: game sequence (1, 2) if part of a doubleheader (will be 1 when not part of a doubleheader)</span>
<span class="sd">    &#39;away_score&#39;: runs scored by the away team (even when game is in progress)</span>
<span class="sd">    &#39;home_score&#39;: runs scored by the home team (even when game is in progress)</span>
<span class="sd">    &#39;winning_team&#39;: team name for the winning team, if the game is final (e.g. Philadelphia Phillies)</span>
<span class="sd">    &#39;losing_team&#39;: team name for the losing team, if the game is final (e.g. Philadelphia Phillies)</span>
<span class="sd">    &#39;winning_pitcher&#39;: full name of the winning pitcher, if the game is final and has a winner (not postponed/tied)</span>
<span class="sd">    &#39;losing_pitcher&#39;: full name of the losing pitcher, if the game is final and has a winner (not postponed/tied)</span>
<span class="sd">    &#39;save_pitcher&#39;: full name of the pitcher credited with a save, if the game is final and has a winner (not postponed/tied)</span>
<span class="sd">    &#39;home_probable_pitcher&#39;: full name of the probable pitcher for the home team, if available</span>
<span class="sd">    &#39;away_probable_pitcher&#39;: full name of the probable pitcher for the away team, if available</span>
<span class="sd">    &#39;home_pitcher_note&#39;: pitching report for the home team probable pitcher, if available</span>
<span class="sd">    &#39;away_pitcher_note&#39;: pitching report for the away team probable pitcher, if available</span>
<span class="sd">    &#39;current_inning&#39;: current inning (applies best to in-progress games)</span>
<span class="sd">    &#39;inning_state&#39;: state of current inning: top, middle, bottom, end (applies best to in-progress games)</span>
<span class="sd">    &#39;summary&#39;:  if the game is final or in progress, the summary will include &quot;&lt;Date&gt; - &lt;Away Team Name&gt; (&lt;Away Score&gt;) @ &lt;Home Team Name&gt; (&lt;Home Score&gt;) (&lt;Game Status&gt;)&quot;</span>
<span class="sd">                if the game has not started yet, the summary will include &quot;&lt;Date&gt; - &lt;Away Team Name&gt; @ &lt;Home Team Name&gt; (&lt;Game Status&gt;)&quot;</span>

<span class="sd">    Example use:</span>

<span class="sd">    Games between Phillies and Mets in July 2018:</span>

<span class="sd">    games = statsapi.schedule(start_date=&#39;07/01/2018&#39;,end_date=&#39;07/31/2018&#39;,team=143,opponent=121)</span>

<span class="sd">    Print a list of those games with final score or game status:</span>

<span class="sd">    for x in games:</span>
<span class="sd">        print(x[&#39;summary&#39;])</span>

<span class="sd">    Output:</span>

<span class="sd">    2018-07-09 - Philadelphia Phillies (3) @ New York Mets (4) (Final)</span>
<span class="sd">    2018-07-09 - Philadelphia Phillies (3) @ New York Mets (1) (Final)</span>
<span class="sd">    2018-07-10 - Philadelphia Phillies (7) @ New York Mets (3) (Final)</span>
<span class="sd">    2018-07-11 - Philadelphia Phillies (0) @ New York Mets (3) (Final)</span>

<span class="sd">    Print a list of decisions for those games:</span>

<span class="sd">    for x in games:</span>
<span class="sd">        print(&quot;%s Game %s - WP: %s, LP: %s&quot; % (x[&#39;game_date&#39;],x[&#39;game_num&#39;],x[&#39;winning_pitcher&#39;],x[&#39;losing_pitcher&#39;]))</span>

<span class="sd">    Output:</span>

<span class="sd">    2018-07-09 Game 1 - WP: Tim Peterson, LP: Victor Arano</span>
<span class="sd">    2018-07-09 Game 2 - WP: Aaron Nola, LP: Corey Oswalt</span>
<span class="sd">    2018-07-10 Game 1 - WP: Enyel De Los Santos, LP: Drew Gagnon</span>
<span class="sd">    2018-07-11 Game 1 - WP: Robert Gsellman, LP: Mark Leiter Jr.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">end_date</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">start_date</span><span class="p">:</span>
        <span class="n">date</span> <span class="o">=</span> <span class="n">end_date</span>
        <span class="n">end_date</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="k">if</span> <span class="n">start_date</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">end_date</span><span class="p">:</span>
        <span class="n">date</span> <span class="o">=</span> <span class="n">start_date</span>
        <span class="n">start_date</span> <span class="o">=</span> <span class="bp">None</span>

    <span class="n">params</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">if</span> <span class="n">date</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;date&#39;</span><span class="p">:</span><span class="n">date</span><span class="p">})</span>
    <span class="k">elif</span> <span class="n">start_date</span> <span class="ow">and</span> <span class="n">end_date</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;startDate&#39;</span><span class="p">:</span><span class="n">start_date</span><span class="p">,</span> <span class="s1">&#39;endDate&#39;</span><span class="p">:</span><span class="n">end_date</span><span class="p">})</span>

    <span class="k">if</span> <span class="n">team</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
        <span class="n">params</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;teamId&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">team</span><span class="p">)})</span>

    <span class="k">if</span> <span class="n">opponent</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
        <span class="n">params</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;opponentId&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">opponent</span><span class="p">)})</span>

    <span class="k">if</span> <span class="n">game_id</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;gamePks&#39;</span><span class="p">:</span><span class="n">game_id</span><span class="p">})</span>

    <span class="n">params</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;sportId&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">sportId</span><span class="p">),</span> <span class="s1">&#39;hydrate&#39;</span><span class="p">:</span><span class="s1">&#39;decisions,probablePitcher(note),linescore&#39;</span><span class="p">})</span>

    <span class="n">r</span> <span class="o">=</span> <span class="n">get</span><span class="p">(</span><span class="s1">&#39;schedule&#39;</span><span class="p">,</span><span class="n">params</span><span class="p">)</span>

    <span class="n">games</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="n">r</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;totalItems&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">games</span> <span class="c1">#TODO: ValueError(&#39;No games to parse from schedule object.&#39;) instead?</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">date</span> <span class="ow">in</span> <span class="n">r</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;dates&#39;</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">game</span> <span class="ow">in</span> <span class="n">date</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;games&#39;</span><span class="p">):</span>
                <span class="n">game_info</span> <span class="o">=</span> <span class="p">{</span>
                                <span class="s1">&#39;game_id&#39;</span><span class="p">:</span> <span class="n">game</span><span class="p">[</span><span class="s1">&#39;gamePk&#39;</span><span class="p">],</span>
                                <span class="s1">&#39;game_datetime&#39;</span><span class="p">:</span> <span class="n">game</span><span class="p">[</span><span class="s1">&#39;gameDate&#39;</span><span class="p">],</span>
                                <span class="s1">&#39;game_date&#39;</span><span class="p">:</span> <span class="n">date</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">],</span>
                                <span class="s1">&#39;game_type&#39;</span><span class="p">:</span> <span class="n">game</span><span class="p">[</span><span class="s1">&#39;gameType&#39;</span><span class="p">],</span>
                                <span class="s1">&#39;status&#39;</span><span class="p">:</span> <span class="n">game</span><span class="p">[</span><span class="s1">&#39;status&#39;</span><span class="p">][</span><span class="s1">&#39;detailedState&#39;</span><span class="p">],</span>
                                <span class="s1">&#39;away_name&#39;</span><span class="p">:</span> <span class="n">game</span><span class="p">[</span><span class="s1">&#39;teams&#39;</span><span class="p">][</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;team&#39;</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">],</span>
                                <span class="s1">&#39;home_name&#39;</span><span class="p">:</span> <span class="n">game</span><span class="p">[</span><span class="s1">&#39;teams&#39;</span><span class="p">][</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;team&#39;</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">],</span>
                                <span class="s1">&#39;away_id&#39;</span><span class="p">:</span> <span class="n">game</span><span class="p">[</span><span class="s1">&#39;teams&#39;</span><span class="p">][</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;team&#39;</span><span class="p">][</span><span class="s1">&#39;id&#39;</span><span class="p">],</span>
                                <span class="s1">&#39;home_id&#39;</span><span class="p">:</span> <span class="n">game</span><span class="p">[</span><span class="s1">&#39;teams&#39;</span><span class="p">][</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;team&#39;</span><span class="p">][</span><span class="s1">&#39;id&#39;</span><span class="p">],</span>
                                <span class="s1">&#39;doubleheader&#39;</span><span class="p">:</span> <span class="n">game</span><span class="p">[</span><span class="s1">&#39;doubleHeader&#39;</span><span class="p">],</span>
                                <span class="s1">&#39;game_num&#39;</span><span class="p">:</span> <span class="n">game</span><span class="p">[</span><span class="s1">&#39;gameNumber&#39;</span><span class="p">],</span>
                                <span class="s1">&#39;home_probable_pitcher&#39;</span><span class="p">:</span> <span class="n">game</span><span class="p">[</span><span class="s1">&#39;teams&#39;</span><span class="p">][</span><span class="s1">&#39;home&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;probablePitcher&#39;</span><span class="p">,{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;fullName&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">),</span>
                                <span class="s1">&#39;away_probable_pitcher&#39;</span><span class="p">:</span> <span class="n">game</span><span class="p">[</span><span class="s1">&#39;teams&#39;</span><span class="p">][</span><span class="s1">&#39;away&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;probablePitcher&#39;</span><span class="p">,{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;fullName&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">),</span>
                                <span class="s1">&#39;home_pitcher_note&#39;</span><span class="p">:</span> <span class="n">game</span><span class="p">[</span><span class="s1">&#39;teams&#39;</span><span class="p">][</span><span class="s1">&#39;home&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;probablePitcher&#39;</span><span class="p">,{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;note&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">),</span>
                                <span class="s1">&#39;away_pitcher_note&#39;</span><span class="p">:</span> <span class="n">game</span><span class="p">[</span><span class="s1">&#39;teams&#39;</span><span class="p">][</span><span class="s1">&#39;away&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;probablePitcher&#39;</span><span class="p">,{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;note&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">),</span>
                                <span class="s1">&#39;away_score&#39;</span><span class="p">:</span> <span class="n">game</span><span class="p">[</span><span class="s1">&#39;teams&#39;</span><span class="p">][</span><span class="s1">&#39;away&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;score&#39;</span><span class="p">,</span><span class="s1">&#39;0&#39;</span><span class="p">),</span>
                                <span class="s1">&#39;home_score&#39;</span><span class="p">:</span> <span class="n">game</span><span class="p">[</span><span class="s1">&#39;teams&#39;</span><span class="p">][</span><span class="s1">&#39;home&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;score&#39;</span><span class="p">,</span><span class="s1">&#39;0&#39;</span><span class="p">),</span>
                                <span class="s1">&#39;current_inning&#39;</span><span class="p">:</span> <span class="n">game</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;linescore&#39;</span><span class="p">,{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;currentInning&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">),</span>
                                <span class="s1">&#39;inning_state&#39;</span><span class="p">:</span> <span class="n">game</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;linescore&#39;</span><span class="p">,{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;inningState&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
                            <span class="p">}</span>
                <span class="k">if</span> <span class="n">game_info</span><span class="p">[</span><span class="s1">&#39;status&#39;</span><span class="p">]</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;Final&#39;</span><span class="p">,</span><span class="s1">&#39;Game Over&#39;</span><span class="p">]:</span>
                    <span class="k">if</span> <span class="n">game</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;isTie&#39;</span><span class="p">):</span>
                        <span class="n">game_info</span><span class="o">.</span><span class="n">update</span><span class="p">({</span>
                                            <span class="s1">&#39;winning_team&#39;</span><span class="p">:</span> <span class="s1">&#39;Tie&#39;</span><span class="p">,</span>
                                            <span class="s1">&#39;losing_Team&#39;</span><span class="p">:</span> <span class="s1">&#39;Tie&#39;</span>
                                        <span class="p">})</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">game_info</span><span class="o">.</span><span class="n">update</span><span class="p">({</span>
                                            <span class="s1">&#39;winning_team&#39;</span><span class="p">:</span> <span class="n">game</span><span class="p">[</span><span class="s1">&#39;teams&#39;</span><span class="p">][</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;team&#39;</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="k">if</span> <span class="n">game</span><span class="p">[</span><span class="s1">&#39;teams&#39;</span><span class="p">][</span><span class="s1">&#39;away&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;isWinner&#39;</span><span class="p">)</span> <span class="k">else</span> <span class="n">game</span><span class="p">[</span><span class="s1">&#39;teams&#39;</span><span class="p">][</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;team&#39;</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">],</span>
                                            <span class="s1">&#39;losing_team&#39;</span><span class="p">:</span> <span class="n">game</span><span class="p">[</span><span class="s1">&#39;teams&#39;</span><span class="p">][</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;team&#39;</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="k">if</span> <span class="n">game</span><span class="p">[</span><span class="s1">&#39;teams&#39;</span><span class="p">][</span><span class="s1">&#39;away&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;isWinner&#39;</span><span class="p">)</span> <span class="k">else</span> <span class="n">game</span><span class="p">[</span><span class="s1">&#39;teams&#39;</span><span class="p">][</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;team&#39;</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">],</span>
                                            <span class="s1">&#39;winning_pitcher&#39;</span><span class="p">:</span> <span class="n">game</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;decisions&#39;</span><span class="p">,{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;winner&#39;</span><span class="p">,{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;fullName&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">),</span>
                                            <span class="s1">&#39;losing_pitcher&#39;</span><span class="p">:</span> <span class="n">game</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;decisions&#39;</span><span class="p">,{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;loser&#39;</span><span class="p">,{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;fullName&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">),</span>
                                            <span class="s1">&#39;save_pitcher&#39;</span><span class="p">:</span> <span class="n">game</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;decisions&#39;</span><span class="p">,{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;save&#39;</span><span class="p">,{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;fullName&#39;</span><span class="p">)</span>
                                        <span class="p">})</span>
                    <span class="n">summary</span> <span class="o">=</span> <span class="n">date</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39; - &#39;</span> <span class="o">+</span> <span class="n">game</span><span class="p">[</span><span class="s1">&#39;teams&#39;</span><span class="p">][</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;team&#39;</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39; (&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">game</span><span class="p">[</span><span class="s1">&#39;teams&#39;</span><span class="p">][</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;score&#39;</span><span class="p">])</span> <span class="o">+</span> <span class="s1">&#39;) @ &#39;</span> <span class="o">+</span> <span class="n">game</span><span class="p">[</span><span class="s1">&#39;teams&#39;</span><span class="p">][</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;team&#39;</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39; (&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">game</span><span class="p">[</span><span class="s1">&#39;teams&#39;</span><span class="p">][</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;score&#39;</span><span class="p">])</span> <span class="o">+</span> <span class="s1">&#39;) (&#39;</span> <span class="o">+</span> <span class="n">game</span><span class="p">[</span><span class="s1">&#39;status&#39;</span><span class="p">][</span><span class="s1">&#39;detailedState&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;)&#39;</span>
                    <span class="n">game_info</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;summary&#39;</span><span class="p">:</span> <span class="n">summary</span><span class="p">})</span>
                <span class="k">elif</span> <span class="n">game_info</span><span class="p">[</span><span class="s1">&#39;status&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;In Progress&#39;</span><span class="p">:</span>
                    <span class="n">game_info</span><span class="o">.</span><span class="n">update</span><span class="p">({</span>
                                        <span class="s1">&#39;summary&#39;</span><span class="p">:</span> <span class="n">date</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39; - &#39;</span> <span class="o">+</span> <span class="n">game</span><span class="p">[</span><span class="s1">&#39;teams&#39;</span><span class="p">][</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;team&#39;</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39; (&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">game</span><span class="p">[</span><span class="s1">&#39;teams&#39;</span><span class="p">][</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;score&#39;</span><span class="p">])</span> <span class="o">+</span> <span class="s1">&#39;) @ &#39;</span> <span class="o">+</span> <span class="n">game</span><span class="p">[</span><span class="s1">&#39;teams&#39;</span><span class="p">][</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;team&#39;</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39; (&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">game</span><span class="p">[</span><span class="s1">&#39;teams&#39;</span><span class="p">][</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;score&#39;</span><span class="p">])</span> <span class="o">+</span> <span class="s1">&#39;) (&#39;</span> <span class="o">+</span> <span class="n">game</span><span class="p">[</span><span class="s1">&#39;linescore&#39;</span><span class="p">][</span><span class="s1">&#39;inningState&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39; of the &#39;</span> <span class="o">+</span> <span class="n">game</span><span class="p">[</span><span class="s1">&#39;linescore&#39;</span><span class="p">][</span><span class="s1">&#39;currentInningOrdinal&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;)&#39;</span>
                                    <span class="p">})</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">summary</span> <span class="o">=</span> <span class="n">date</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39; - &#39;</span> <span class="o">+</span> <span class="n">game</span><span class="p">[</span><span class="s1">&#39;teams&#39;</span><span class="p">][</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;team&#39;</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39; @ &#39;</span> <span class="o">+</span> <span class="n">game</span><span class="p">[</span><span class="s1">&#39;teams&#39;</span><span class="p">][</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;team&#39;</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39; (&#39;</span> <span class="o">+</span> <span class="n">game</span><span class="p">[</span><span class="s1">&#39;status&#39;</span><span class="p">][</span><span class="s1">&#39;detailedState&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;)&#39;</span>
                    <span class="n">game_info</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;summary&#39;</span><span class="p">:</span> <span class="n">summary</span><span class="p">})</span>
                        
                <span class="n">games</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">game_info</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">games</span>

<span class="k">def</span> <span class="nf">boxscore</span><span class="p">(</span><span class="n">gamePk</span><span class="p">,</span><span class="n">battingBox</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span><span class="n">battingInfo</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span><span class="n">fieldingInfo</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span><span class="n">pitchingBox</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span><span class="n">gameInfo</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span><span class="n">timecode</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get a formatted boxscore for a given game.</span>

<span class="sd">    Note: This function uses the game endpoint instead of game_box,</span>
<span class="sd">    because game_box does not contain the players&#39; names as they should be </span>
<span class="sd">    displayed in the box score (e.g. Last name only or Last, F)</span>

<span class="sd">    It is possible to get the boxscore as it existed at a specific time by including the timestamp in the timecode parameter.</span>
<span class="sd">    The timecode should be in the format YYYYMMDD_HHMMSS, and in the UTC timezone</span>
<span class="sd">    For example, 4/24/19 10:32:40 EDT (-4) would be: 20190425_012240</span>
<span class="sd">    A list of timestamps for game events can be found through the game_timestamps endpoint:</span>
<span class="sd">    statsapi.get(&#39;game_timestamps&#39;,{&#39;gamePk&#39;:565997})</span>

<span class="sd">    Example use:</span>

<span class="sd">    Print the full box score for Phillies @ Mets game on 4/24/2019 (gamePk=565997):</span>

<span class="sd">    print( statsapi.boxscore(565997) )</span>

<span class="sd">    Output:</span>

<span class="sd">    ------------------------------------------------------------------------------- | -------------------------------------------------------------------------------</span>
<span class="sd">    Phillies Batters                         AB   R   H  RBI BB   K  LOB AVG   OPS  | Mets Batters                             AB   R   H  RBI BB   K  LOB AVG   OPS</span>
<span class="sd">    ------------------------------------------------------------------------------- | -------------------------------------------------------------------------------</span>
<span class="sd">    1 McCutchen  LF                           5   0   1   0   0   1   3  .250 .830  | 1 McNeil  LF                              4   0   1   0   0   0   1  .363 .928</span>
<span class="sd">    2 Realmuto  C                             3   1   1   0   1   1   2  .282 .786  | 2 Conforto  RF                            3   0   0   0   1   1   1  .292 .986</span>
<span class="sd">    3 Harper  RF                              4   1   1   1   1   3   4  .261 .909  | 3 Canó  2B                                3   0   3   0   1   0   0  .272 .758</span>
<span class="sd">    4 Hoskins  1B                             4   2   2   2   1   1   3  .273 .982  | 4 Ramos, W  C                             4   0   0   0   0   3   6  .278 .687</span>
<span class="sd">    5 Franco  3B                              5   1   1   1   0   0   3  .271 .905  | 5 Smith, Do  1B                           2   0   0   0   1   1   2  .400 .996</span>
<span class="sd">    6 Hernández, C  2B                        5   1   1   0   0   1   2  .267 .730  |     c-Alonso, P  1B                       1   0   0   0   0   1   1  .306 1.086</span>
<span class="sd">    7 Rodríguez, S  SS                        4   0   1   0   0   1   1  .250 .750  | 6 Frazier, T  3B                          3   0   0   0   0   0   4  .182 .705</span>
<span class="sd">    8 Velasquez  P                            1   0   0   0   0   0   0  .167 .453  | 7 Rosario, A  SS                          4   0   1   0   0   0   1  .261 .676</span>
<span class="sd">        a-Williams, N  PH                     1   0   0   0   0   0   1  .150 .427  | 8 Lagares  CF                             2   0   0   0   0   1   1  .244 .653</span>
<span class="sd">        Neshek  P                             0   0   0   0   0   0   0  .000 .000  |     a-Nimmo  CF                           2   0   0   0   0   0   1  .203 .714</span>
<span class="sd">        Domínguez  P                          0   0   0   0   0   0   0  .000 .000  | 9 Vargas  P                               2   0   0   0   0   1   1  .000 .000</span>
<span class="sd">        b-Gosselin  PH                        1   0   1   1   0   0   0  .211 .474  |     Lugo, S  P                            0   0   0   0   0   0   0  .000 .000</span>
<span class="sd">        Morgan  P                             0   0   0   0   0   0   0  .000 .000  |     Zamora  P                             0   0   0   0   0   0   0  .000 .000</span>
<span class="sd">        c-Knapp  PH                           1   0   0   0   0   1   1  .222 .750  |     b-Guillorme  PH                       1   0   1   0   0   0   0  .167 .378</span>
<span class="sd">        Nicasio  P                            0   0   0   0   0   0   0  .000 .000  |     Gsellman  P                           0   0   0   0   0   0   0  .000 .000</span>
<span class="sd">    9 Quinn  CF                               4   0   1   1   0   1   1  .120 .305  |     Rhame  P                              0   0   0   0   0   0   0  .000 .000</span>
<span class="sd">        1-Altherr  CF                         0   0   0   0   0   0   0  .042 .163  |     d-Davis, J  PH                        1   0   0   0   0   1   0  .276 .865</span>
<span class="sd">    ------------------------------------------------------------------------------- | -------------------------------------------------------------------------------</span>
<span class="sd">    Totals                                   38   6  10   6   3  10  21             | Totals                                   32   0   6   0   3   9  19</span>
<span class="sd">    ------------------------------------------------------------------------------- | -------------------------------------------------------------------------------</span>
<span class="sd">    a-Popped out for Velasquez in the 6th.                                          | a-Flied out for Lagares in the 6th.</span>
<span class="sd">    b-Singled for Domínguez in the 8th.                                             | b-Singled for Zamora in the 7th.</span>
<span class="sd">    c-Struck out for Morgan in the 9th.                                             | c-Struck out for Smith, Do in the 8th.</span>
<span class="sd">    1-Ran for Quinn in the 8th.                                                     | d-Struck out for Rhame in the 9th.</span>
<span class="sd">                                                                                    |</span>
<span class="sd">    BATTING                                                                         | BATTING</span>
<span class="sd">    2B: Harper (7, Vargas); Rodríguez, S (1, Rhame); Realmuto (4, Vargas).          | TB: Canó 3; Guillorme; McNeil; Rosario, A.</span>
<span class="sd">    3B: Hoskins (1, Gsellman).                                                      | Runners left in scoring position, 2 out: Frazier, T 2; Vargas; Smith, Do 2.</span>
<span class="sd">    HR: Hoskins (7, 9th inning off Rhame, 1 on, 0 out).                             | GIDP: McNeil.</span>
<span class="sd">    TB: Franco; Gosselin; Harper 2; Hernández, C; Hoskins 7; McCutchen; Quinn;      | Team RISP: 0-for-6.</span>
<span class="sd">        Realmuto 2; Rodríguez, S 2.                                                 | Team LOB: 9.</span>
<span class="sd">    RBI: Franco (19); Gosselin (4); Harper (15); Hoskins 2 (20); Quinn (1).         |</span>
<span class="sd">    Runners left in scoring position, 2 out: Hoskins; Hernández, C; Knapp; Realmuto | FIELDING</span>
<span class="sd">        2; McCutchen.                                                               | E: Canó (3, fielding); Rosario, A 2 (7, throw, throw).</span>
<span class="sd">    SAC: Rodríguez, S; Velasquez.                                                   |</span>
<span class="sd">    Team RISP: 4-for-13.                                                            |</span>
<span class="sd">    Team LOB: 11.                                                                   |</span>
<span class="sd">                                                                                    |</span>
<span class="sd">    FIELDING                                                                        |</span>
<span class="sd">    DP: (Hernández, C-Rodríguez, S-Hoskins).                                        |</span>
<span class="sd">    ------------------------------------------------------------------------------- | -------------------------------------------------------------------------------</span>
<span class="sd">    ------------------------------------------------------------------------------- | -------------------------------------------------------------------------------</span>
<span class="sd">    Phillies Pitchers                            IP   H   R  ER  BB   K  HR   ERA   | Mets Pitchers                                IP   H   R  ER  BB   K  HR   ERA</span>
<span class="sd">    ------------------------------------------------------------------------------- | -------------------------------------------------------------------------------</span>
<span class="sd">    Velasquez  (W, 1-0)                         5.0   3   0   0   3   6   0   1.99  | Vargas  (L, 1-1)                            4.2   3   1   1   2   4   0   7.20</span>
<span class="sd">    Neshek  (H, 2)                              1.0   1   0   0   0   0   0   2.70  | Lugo, S                                     2.0   0   0   0   0   2   0   4.60</span>
<span class="sd">    Domínguez  (H, 3)                           1.0   1   0   0   0   0   0   4.32  | Zamora                                      0.1   0   0   0   0   1   0   0.00</span>
<span class="sd">    Morgan                                      1.0   1   0   0   0   2   0   0.00  | Gsellman                                    1.0   5   3   3   0   1   0   4.20</span>
<span class="sd">    Nicasio                                     1.0   0   0   0   0   1   0   5.84  | Rhame                                       1.0   2   2   2   1   2   1   8.10</span>
<span class="sd">    ------------------------------------------------------------------------------- | -------------------------------------------------------------------------------</span>
<span class="sd">    Totals                                      9.0   6   0   0   3   9   0         | Totals                                      9.0  10   6   6   3  10   1</span>
<span class="sd">    ------------------------------------------------------------------------------- | -------------------------------------------------------------------------------</span>
<span class="sd">    WP: Velasquez; Gsellman.</span>
<span class="sd">    HBP: Realmuto (by Vargas); Frazier, T (by Velasquez).</span>
<span class="sd">    Pitches-strikes: Velasquez 97-53; Neshek 13-8; Domínguez 9-6; Morgan 14-10; Nicasio 15-10; Vargas 89-53; Lugo, S 32-23; Zamora 5-3; Gsellman 25-17; Rhame 19-12.</span>
<span class="sd">    Groundouts-flyouts: Velasquez 6-3; Neshek 1-2; Domínguez 1-1; Morgan 1-0; Nicasio 2-0; Vargas 8-3; Lugo, S 3-2; Zamora 0-0; Gsellman 1-1; Rhame 0-0.</span>
<span class="sd">    Batters faced: Velasquez 22; Neshek 4; Domínguez 3; Morgan 4; Nicasio 3; Vargas 21; Lugo, S 8; Zamora; Gsellman 8; Rhame 6.</span>
<span class="sd">    Inherited runners-scored: Lugo, S 2-0; Zamora 1-0.</span>
<span class="sd">    Umpires: HP: Brian Gorman. 1B: Jansen Visconti. 2B: Mark Carlson. 3B: Scott Barry.</span>
<span class="sd">    Weather: 66 degrees, Clear.</span>
<span class="sd">    Wind: 12 mph, L To R.</span>
<span class="sd">    First pitch: 7:11 PM.</span>
<span class="sd">    T: 3:21.</span>
<span class="sd">    Att: 27,685.</span>
<span class="sd">    Venue: Citi Field.</span>
<span class="sd">    April 24, 2019</span>
<span class="sd">    -----------------------------------------------------------------------------------------------------------------------------------------------------------------</span>

<span class="sd">    Which sections are included can be customized using the battingBox, battingInfo, pitchingBox, and gameInfo parameters</span>
<span class="sd">    All default to True; set to False to exclude from the results</span>
<span class="sd">    For example, to retrieve only the batting box: statsapi.boxscore(565997,battingInfo=False,fieldingInfo=False,pitchingBox=False,gameInfo=False)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">boxData</span> <span class="o">=</span> <span class="n">boxscore_data</span><span class="p">(</span><span class="n">gamePk</span><span class="p">,</span><span class="n">timecode</span><span class="p">)</span>

    <span class="n">rowLen</span> <span class="o">=</span> <span class="mi">79</span>
    <span class="sd">&quot;&quot;&quot;rowLen is the total width of each side of the box score, excluding the &quot; | &quot; separator&quot;&quot;&quot;</span>
    <span class="n">fullRowLen</span> <span class="o">=</span> <span class="n">rowLen</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">3</span>
    <span class="sd">&quot;&quot;&quot;fullRowLen is the full table width&quot;&quot;&quot;</span>
    <span class="n">boxscore</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="sd">&quot;&quot;&quot;boxscore will hold the string to be returned&quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">battingBox</span><span class="p">:</span>
        <span class="c1">#Add away column headers</span>
        <span class="n">awayBatters</span> <span class="o">=</span> <span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;awayBatters&#39;</span><span class="p">]</span>
        <span class="n">homeBatters</span> <span class="o">=</span> <span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;homeBatters&#39;</span><span class="p">]</span>

        <span class="c1">#Make sure the home and away batter lists are the same length</span>
        <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">awayBatters</span><span class="p">)</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">homeBatters</span><span class="p">):</span>
            <span class="n">homeBatters</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s1">&#39;namefield&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;ab&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;r&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;h&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;rbi&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;bb&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;k&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;lob&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;avg&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;ops&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">})</span>
        <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">awayBatters</span><span class="p">)</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">homeBatters</span><span class="p">):</span>
            <span class="n">awayBatters</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s1">&#39;namefield&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;ab&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;r&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;h&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;rbi&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;bb&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;k&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;lob&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;avg&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;ops&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">})</span>

        <span class="c1">#Get team totals</span>
        <span class="n">awayBatters</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;awayBattingTotals&#39;</span><span class="p">])</span>
        <span class="n">homeBatters</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;homeBattingTotals&#39;</span><span class="p">])</span>

        <span class="c1">#Build the batting box!</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">awayBatters</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">i</span><span class="o">==</span><span class="mi">0</span> <span class="ow">or</span> <span class="n">i</span><span class="o">==</span><span class="nb">len</span><span class="p">(</span><span class="n">awayBatters</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                <span class="n">boxscore</span> <span class="o">+=</span> <span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="n">rowLen</span> <span class="o">+</span> <span class="s1">&#39; | &#39;</span> <span class="o">+</span> <span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="n">rowLen</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
            <span class="n">boxscore</span> <span class="o">+=</span> <span class="s1">&#39;{namefield:&lt;40} {ab:^3} {r:^3} {h:^3} {rbi:^3} {bb:^3} {k:^3} {lob:^3} {avg:^4} {ops:^5} | &#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">awayBatters</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="n">boxscore</span> <span class="o">+=</span> <span class="s1">&#39;{namefield:&lt;40} {ab:^3} {r:^3} {h:^3} {rbi:^3} {bb:^3} {k:^3} {lob:^3} {avg:^4} {ops:^5}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">homeBatters</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="k">if</span> <span class="n">i</span><span class="o">==</span><span class="mi">0</span> <span class="ow">or</span> <span class="n">i</span><span class="o">==</span><span class="nb">len</span><span class="p">(</span><span class="n">awayBatters</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                <span class="n">boxscore</span> <span class="o">+=</span> <span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="n">rowLen</span> <span class="o">+</span> <span class="s1">&#39; | &#39;</span> <span class="o">+</span> <span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="n">rowLen</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>

        <span class="c1">#Get batting notes</span>
        <span class="n">awayBattingNotes</span> <span class="o">=</span> <span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;awayBattingNotes&#39;</span><span class="p">]</span>
        <span class="n">homeBattingNotes</span> <span class="o">=</span> <span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;homeBattingNotes&#39;</span><span class="p">]</span>

        <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">awayBattingNotes</span><span class="p">)</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">homeBattingNotes</span><span class="p">):</span>
            <span class="n">homeBattingNotes</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="nb">len</span><span class="p">(</span><span class="n">homeBattingNotes</span><span class="p">)</span> <span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">})</span>
        <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">awayBattingNotes</span><span class="p">)</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">homeBattingNotes</span><span class="p">):</span>
            <span class="n">awayBattingNotes</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="nb">len</span><span class="p">(</span><span class="n">awayBattingNotes</span><span class="p">)</span> <span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">})</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">awayBattingNotes</span><span class="p">)):</span>
            <span class="n">boxscore</span> <span class="o">+=</span> <span class="s1">&#39;{:&lt;79} | &#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">awayBattingNotes</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="n">boxscore</span> <span class="o">+=</span> <span class="s1">&#39;{:&lt;79}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">homeBattingNotes</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>

        <span class="n">boxscore</span> <span class="o">+=</span> <span class="s1">&#39; &#39;</span><span class="o">*</span><span class="n">rowLen</span> <span class="o">+</span> <span class="s1">&#39; | &#39;</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span><span class="o">*</span><span class="n">rowLen</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>

    <span class="c1">#Get batting and fielding info</span>
    <span class="n">awayBoxInfo</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">homeBoxInfo</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">infoType</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;BATTING&#39;</span><span class="p">,</span><span class="s1">&#39;FIELDING&#39;</span><span class="p">]:</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">infoType</span><span class="o">==</span><span class="s1">&#39;BATTING&#39;</span> <span class="ow">and</span> <span class="n">battingInfo</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">infoType</span><span class="o">==</span><span class="s1">&#39;FIELDING&#39;</span> <span class="ow">and</span> <span class="n">fieldingInfo</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">z</span> <span class="ow">in</span> <span class="p">(</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;info&#39;</span><span class="p">]</span> <span class="k">if</span> <span class="n">x</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">)</span><span class="o">==</span><span class="n">infoType</span><span class="p">):</span>
                <span class="n">awayBoxInfo</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="nb">len</span><span class="p">(</span><span class="n">awayBoxInfo</span><span class="p">):</span> <span class="n">z</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]})</span>
                <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">z</span><span class="p">[</span><span class="s1">&#39;fieldList&#39;</span><span class="p">]:</span>
                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;: &#39;</span> <span class="o">+</span> <span class="n">x</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;value&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">))</span> <span class="o">&gt;</span> <span class="n">rowLen</span><span class="p">:</span>
                        <span class="n">words</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">((</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;: &#39;</span> <span class="o">+</span> <span class="n">x</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;value&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">split</span><span class="p">())</span>
                        <span class="n">check</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
                        <span class="n">lines</span> <span class="o">=</span> <span class="p">[]</span>
                        <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">words</span><span class="p">:</span>
                            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">check</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="n">rowLen</span><span class="p">:</span>
                                <span class="k">if</span> <span class="n">check</span><span class="o">==</span><span class="s1">&#39;&#39;</span><span class="p">:</span> <span class="n">check</span> <span class="o">=</span> <span class="n">word</span>
                                <span class="k">else</span><span class="p">:</span> <span class="n">check</span> <span class="o">+=</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> <span class="n">word</span>
                            <span class="k">else</span><span class="p">:</span>
                                <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">check</span><span class="p">)</span>
                                <span class="n">check</span> <span class="o">=</span> <span class="s1">&#39;    &#39;</span> <span class="o">+</span> <span class="n">word</span>
                        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">check</span><span class="p">):</span> <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">check</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">lines</span><span class="p">)):</span>
                            <span class="n">awayBoxInfo</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="nb">len</span><span class="p">(</span><span class="n">awayBoxInfo</span><span class="p">):</span> <span class="n">lines</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">})</span>
                            
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">awayBoxInfo</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="nb">len</span><span class="p">(</span><span class="n">awayBoxInfo</span><span class="p">):</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;: &#39;</span> <span class="o">+</span> <span class="n">x</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;value&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="p">})</span>

            <span class="k">for</span> <span class="n">z</span> <span class="ow">in</span> <span class="p">(</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;info&#39;</span><span class="p">]</span> <span class="k">if</span> <span class="n">x</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">)</span><span class="o">==</span><span class="n">infoType</span><span class="p">):</span>
                <span class="n">homeBoxInfo</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="nb">len</span><span class="p">(</span><span class="n">homeBoxInfo</span><span class="p">):</span> <span class="n">z</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]})</span>
                <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">z</span><span class="p">[</span><span class="s1">&#39;fieldList&#39;</span><span class="p">]:</span>
                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;: &#39;</span> <span class="o">+</span> <span class="n">x</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;value&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">))</span> <span class="o">&gt;</span> <span class="n">rowLen</span><span class="p">:</span>
                        <span class="n">words</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">((</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;: &#39;</span> <span class="o">+</span> <span class="n">x</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;value&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">split</span><span class="p">())</span>
                        <span class="n">check</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
                        <span class="n">lines</span> <span class="o">=</span> <span class="p">[]</span>
                        <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">words</span><span class="p">:</span>
                            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">check</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="n">rowLen</span><span class="p">:</span>
                                <span class="k">if</span> <span class="n">check</span><span class="o">==</span><span class="s1">&#39;&#39;</span><span class="p">:</span> <span class="n">check</span> <span class="o">=</span> <span class="n">word</span>
                                <span class="k">else</span><span class="p">:</span> <span class="n">check</span> <span class="o">+=</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> <span class="n">word</span>
                            <span class="k">else</span><span class="p">:</span>
                                <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">check</span><span class="p">)</span>
                                <span class="n">check</span> <span class="o">=</span> <span class="s1">&#39;    &#39;</span> <span class="o">+</span> <span class="n">word</span>
                        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">check</span><span class="p">):</span> <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">check</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">lines</span><span class="p">)):</span>
                            <span class="n">homeBoxInfo</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="nb">len</span><span class="p">(</span><span class="n">homeBoxInfo</span><span class="p">):</span> <span class="n">lines</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">})</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">homeBoxInfo</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="nb">len</span><span class="p">(</span><span class="n">homeBoxInfo</span><span class="p">):</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;: &#39;</span> <span class="o">+</span> <span class="n">x</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;value&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="p">})</span>

            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">awayBoxInfo</span><span class="p">)</span> <span class="ow">and</span> <span class="n">infoType</span> <span class="o">==</span> <span class="s1">&#39;BATTING&#39;</span><span class="p">:</span>
                <span class="n">awayBoxInfo</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="nb">len</span><span class="p">(</span><span class="n">awayBoxInfo</span><span class="p">)</span> <span class="p">:</span> <span class="s1">&#39; &#39;</span><span class="p">})</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">homeBoxInfo</span><span class="p">)</span> <span class="ow">and</span> <span class="n">infoType</span> <span class="o">==</span> <span class="s1">&#39;BATTING&#39;</span><span class="p">:</span>
                <span class="n">homeBoxInfo</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="nb">len</span><span class="p">(</span><span class="n">homeBoxInfo</span><span class="p">)</span> <span class="p">:</span> <span class="s1">&#39; &#39;</span><span class="p">})</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">awayBoxInfo</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">awayBoxInfo</span><span class="p">)</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">homeBoxInfo</span><span class="p">):</span>
            <span class="n">homeBoxInfo</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="nb">len</span><span class="p">(</span><span class="n">homeBoxInfo</span><span class="p">)</span> <span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">})</span>
        <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">awayBoxInfo</span><span class="p">)</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">homeBoxInfo</span><span class="p">):</span>
            <span class="n">awayBoxInfo</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="nb">len</span><span class="p">(</span><span class="n">awayBoxInfo</span><span class="p">)</span> <span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">})</span>

        <span class="c1">#Build info box</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">awayBoxInfo</span><span class="p">)):</span>
            <span class="n">boxscore</span> <span class="o">+=</span> <span class="p">(</span><span class="s1">&#39;{:&lt;</span><span class="si">%s</span><span class="s1">} | &#39;</span><span class="o">%</span><span class="n">rowLen</span><span class="p">)</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">awayBoxInfo</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="n">boxscore</span> <span class="o">+=</span> <span class="p">(</span><span class="s1">&#39;{:&lt;</span><span class="si">%s</span><span class="s1">}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">%</span><span class="n">rowLen</span><span class="p">)</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">homeBoxInfo</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="k">if</span> <span class="n">i</span><span class="o">==</span><span class="nb">len</span><span class="p">(</span><span class="n">awayBoxInfo</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                <span class="n">boxscore</span> <span class="o">+=</span> <span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="n">rowLen</span> <span class="o">+</span> <span class="s1">&#39; | &#39;</span> <span class="o">+</span> <span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="n">rowLen</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>

    <span class="c1">#Get pitching box</span>
    <span class="k">if</span> <span class="n">pitchingBox</span><span class="p">:</span>
        <span class="n">awayPitchers</span> <span class="o">=</span> <span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;awayPitchers&#39;</span><span class="p">]</span>
        <span class="n">homePitchers</span> <span class="o">=</span> <span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;homePitchers&#39;</span><span class="p">]</span>

        <span class="c1">#Make sure the home and away pitcher lists are the same length</span>
        <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">awayPitchers</span><span class="p">)</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">homePitchers</span><span class="p">):</span>
            <span class="n">homePitchers</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s1">&#39;namefield&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;ip&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;h&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;r&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;er&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;bb&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;k&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;hr&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;era&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">})</span>
        <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">awayPitchers</span><span class="p">)</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">homePitchers</span><span class="p">):</span>
            <span class="n">awayPitchers</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s1">&#39;namefield&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;ip&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;h&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;r&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;er&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;bb&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;k&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;hr&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;era&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">})</span>

        <span class="c1">#Get team totals</span>
        <span class="n">awayPitchers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;awayPitchingTotals&#39;</span><span class="p">])</span>
        <span class="n">homePitchers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;homePitchingTotals&#39;</span><span class="p">])</span>

        <span class="c1">#Build the pitching box!</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">awayPitchers</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">i</span><span class="o">==</span><span class="mi">0</span> <span class="ow">or</span> <span class="n">i</span><span class="o">==</span><span class="nb">len</span><span class="p">(</span><span class="n">awayPitchers</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                <span class="n">boxscore</span> <span class="o">+=</span> <span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="n">rowLen</span> <span class="o">+</span> <span class="s1">&#39; | &#39;</span> <span class="o">+</span> <span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="n">rowLen</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
            <span class="n">boxscore</span> <span class="o">+=</span> <span class="s1">&#39;{namefield:&lt;43} {ip:^4} {h:^3} {r:^3} {er:^3} {bb:^3} {k:^3} {hr:^3} {era:^6} | &#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">awayPitchers</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="n">boxscore</span> <span class="o">+=</span> <span class="s1">&#39;{namefield:&lt;43} {ip:^4} {h:^3} {r:^3} {er:^3} {bb:^3} {k:^3} {hr:^3} {era:^6}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">homePitchers</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="k">if</span> <span class="n">i</span><span class="o">==</span><span class="mi">0</span> <span class="ow">or</span> <span class="n">i</span><span class="o">==</span><span class="nb">len</span><span class="p">(</span><span class="n">awayPitchers</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                <span class="n">boxscore</span> <span class="o">+=</span> <span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="n">rowLen</span> <span class="o">+</span> <span class="s1">&#39; | &#39;</span> <span class="o">+</span> <span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="n">rowLen</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>

    <span class="c1">#Get game info</span>
    <span class="k">if</span> <span class="n">gameInfo</span><span class="p">:</span>
        <span class="n">z</span> <span class="o">=</span> <span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;gameBoxInfo&#39;</span><span class="p">]</span>
        <span class="n">gameBoxInfo</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">z</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="p">(</span><span class="s1">&#39;: &#39;</span> <span class="k">if</span> <span class="n">x</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;value&#39;</span><span class="p">)</span> <span class="k">else</span> <span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="n">x</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;value&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">))</span> <span class="o">&gt;</span> <span class="n">fullRowLen</span><span class="p">:</span>
                <span class="n">words</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">((</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="p">(</span><span class="s1">&#39;: &#39;</span> <span class="k">if</span> <span class="n">x</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;value&#39;</span><span class="p">)</span> <span class="k">else</span> <span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="n">x</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;value&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">split</span><span class="p">())</span>
                <span class="n">check</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
                <span class="n">lines</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">words</span><span class="p">:</span>
                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">check</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="n">fullRowLen</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">check</span><span class="o">==</span><span class="s1">&#39;&#39;</span><span class="p">:</span> <span class="n">check</span> <span class="o">=</span> <span class="n">word</span>
                        <span class="k">else</span><span class="p">:</span> <span class="n">check</span> <span class="o">+=</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> <span class="n">word</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">check</span><span class="p">)</span>
                        <span class="n">check</span> <span class="o">=</span> <span class="s1">&#39;    &#39;</span> <span class="o">+</span> <span class="n">word</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">check</span><span class="p">):</span> <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">check</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">lines</span><span class="p">)):</span>
                    <span class="n">gameBoxInfo</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="nb">len</span><span class="p">(</span><span class="n">gameBoxInfo</span><span class="p">):</span> <span class="n">lines</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">})</span>
                    
            <span class="k">else</span><span class="p">:</span>
                <span class="n">gameBoxInfo</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="nb">len</span><span class="p">(</span><span class="n">gameBoxInfo</span><span class="p">):</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="p">(</span><span class="s1">&#39;: &#39;</span> <span class="k">if</span> <span class="n">x</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;value&#39;</span><span class="p">)</span> <span class="k">else</span> <span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="n">x</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;value&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="p">})</span>

        <span class="c1">#Build the game info box</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">gameBoxInfo</span><span class="p">)):</span>
            <span class="n">boxscore</span> <span class="o">+=</span> <span class="p">(</span><span class="s1">&#39;{:&lt;</span><span class="si">%s</span><span class="s1">}&#39;</span><span class="o">%</span><span class="n">fullRowLen</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">gameBoxInfo</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="k">if</span> <span class="n">i</span><span class="o">==</span><span class="nb">len</span><span class="p">(</span><span class="n">gameBoxInfo</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                <span class="n">boxscore</span> <span class="o">+=</span> <span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="n">fullRowLen</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>

    <span class="k">return</span> <span class="n">boxscore</span>

<span class="k">def</span> <span class="nf">boxscore_data</span><span class="p">(</span><span class="n">gamePk</span><span class="p">,</span><span class="n">timecode</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get a python dict containing boxscore data for a given game.</span>

<span class="sd">    Note: This function uses the game endpoint instead of game_box,</span>
<span class="sd">    because game_box does not contain the players&#39; names as they should be </span>
<span class="sd">    displayed in the box score (e.g. Last name only or Last, F)</span>

<span class="sd">    It is possible to get the boxscore as it existed at a specific time by including the timestamp in the timecode parameter.</span>
<span class="sd">    The timecode should be in the format YYYYMMDD_HHMMSS, and in the UTC timezone</span>
<span class="sd">    For example, 4/24/19 10:32:40 EDT (-4) would be: 20190425_012240</span>
<span class="sd">    A list of timestamps for game events can be found through the game_timestamps endpoint:</span>
<span class="sd">    statsapi.get(&#39;game_timestamps&#39;,{&#39;gamePk&#39;:565997})</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">boxData</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="sd">&quot;&quot;&quot;boxData holds the dict to be returned&quot;&quot;&quot;</span>

    <span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;gamePk&#39;</span><span class="p">:</span><span class="n">gamePk</span><span class="p">,</span><span class="s1">&#39;fields&#39;</span><span class="p">:</span><span class="s1">&#39;gameData,teams,teamName,shortName,teamStats,batting,atBats,runs,hits,rbi,strikeOuts,baseOnBalls,leftOnBase,pitching,inningsPitched,earnedRuns,homeRuns,players,boxscoreName,liveData,boxscore,teams,players,id,fullName,allPositions,abbreviation,seasonStats,batting,avg,ops,era,battingOrder,info,title,fieldList,note,label,value&#39;</span><span class="p">}</span>
    <span class="k">if</span> <span class="n">timecode</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;timecode&#39;</span><span class="p">:</span><span class="n">timecode</span><span class="p">})</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">get</span><span class="p">(</span><span class="s1">&#39;game&#39;</span><span class="p">,</span><span class="n">params</span><span class="p">)</span>

    <span class="n">boxData</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;teamInfo&#39;</span><span class="p">:</span><span class="n">r</span><span class="p">[</span><span class="s1">&#39;gameData&#39;</span><span class="p">][</span><span class="s1">&#39;teams&#39;</span><span class="p">]})</span>
    <span class="n">boxData</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;playerInfo&#39;</span><span class="p">:</span><span class="n">r</span><span class="p">[</span><span class="s1">&#39;gameData&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">]})</span>
    <span class="n">boxData</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;away&#39;</span><span class="p">:</span><span class="n">r</span><span class="p">[</span><span class="s1">&#39;liveData&#39;</span><span class="p">][</span><span class="s1">&#39;boxscore&#39;</span><span class="p">][</span><span class="s1">&#39;teams&#39;</span><span class="p">][</span><span class="s1">&#39;away&#39;</span><span class="p">]})</span>
    <span class="n">boxData</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;home&#39;</span><span class="p">:</span><span class="n">r</span><span class="p">[</span><span class="s1">&#39;liveData&#39;</span><span class="p">][</span><span class="s1">&#39;boxscore&#39;</span><span class="p">][</span><span class="s1">&#39;teams&#39;</span><span class="p">][</span><span class="s1">&#39;home&#39;</span><span class="p">]})</span>
    <span class="c1">#Add away column headers</span>
    <span class="n">awayBatters</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;namefield&#39;</span><span class="p">:</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;teamInfo&#39;</span><span class="p">][</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;teamName&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39; Batters&#39;</span><span class="p">,</span> <span class="s1">&#39;ab&#39;</span><span class="p">:</span><span class="s1">&#39;AB&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">:</span><span class="s1">&#39;R&#39;</span><span class="p">,</span> <span class="s1">&#39;h&#39;</span><span class="p">:</span><span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="s1">&#39;rbi&#39;</span><span class="p">:</span><span class="s1">&#39;RBI&#39;</span><span class="p">,</span> <span class="s1">&#39;bb&#39;</span><span class="p">:</span><span class="s1">&#39;BB&#39;</span><span class="p">,</span> <span class="s1">&#39;k&#39;</span><span class="p">:</span><span class="s1">&#39;K&#39;</span><span class="p">,</span> <span class="s1">&#39;lob&#39;</span><span class="p">:</span><span class="s1">&#39;LOB&#39;</span><span class="p">,</span> <span class="s1">&#39;avg&#39;</span><span class="p">:</span><span class="s1">&#39;AVG&#39;</span><span class="p">,</span> <span class="s1">&#39;ops&#39;</span><span class="p">:</span><span class="s1">&#39;OPS&#39;</span><span class="p">}]</span>
    <span class="k">for</span> <span class="n">batterId_int</span> <span class="ow">in</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;batters&#39;</span><span class="p">]</span> <span class="k">if</span> <span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;battingOrder&#39;</span><span class="p">)]:</span>
        <span class="n">batterId</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">batterId_int</span><span class="p">)</span>
        <span class="n">namefield</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">batterId</span><span class="p">][</span><span class="s1">&#39;battingOrder&#39;</span><span class="p">])[</span><span class="mi">0</span><span class="p">]</span> <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">batterId</span><span class="p">][</span><span class="s1">&#39;battingOrder&#39;</span><span class="p">])[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;0&#39;</span> <span class="k">else</span> <span class="s2">&quot;   &quot;</span>
        <span class="n">namefield</span> <span class="o">+=</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">batterId</span><span class="p">][</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="s1">&#39;batting&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;note&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
        <span class="n">namefield</span> <span class="o">+=</span> <span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;playerInfo&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">batterId</span><span class="p">][</span><span class="s1">&#39;boxscoreName&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;  &quot;</span> <span class="o">+</span> <span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">batterId</span><span class="p">][</span><span class="s1">&#39;position&#39;</span><span class="p">][</span><span class="s1">&#39;abbreviation&#39;</span><span class="p">]</span>
        <span class="n">batter</span> <span class="o">=</span>    <span class="p">{</span>
                        <span class="s1">&#39;namefield&#39;</span><span class="p">:</span><span class="n">namefield</span><span class="p">,</span>
                        <span class="s1">&#39;ab&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">batterId</span><span class="p">][</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="s1">&#39;batting&#39;</span><span class="p">][</span><span class="s1">&#39;atBats&#39;</span><span class="p">]),</span>
                        <span class="s1">&#39;r&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">batterId</span><span class="p">][</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="s1">&#39;batting&#39;</span><span class="p">][</span><span class="s1">&#39;runs&#39;</span><span class="p">]),</span>
                        <span class="s1">&#39;h&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">batterId</span><span class="p">][</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="s1">&#39;batting&#39;</span><span class="p">][</span><span class="s1">&#39;hits&#39;</span><span class="p">]),</span>
                        <span class="s1">&#39;rbi&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">batterId</span><span class="p">][</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="s1">&#39;batting&#39;</span><span class="p">][</span><span class="s1">&#39;rbi&#39;</span><span class="p">]),</span>
                        <span class="s1">&#39;bb&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">batterId</span><span class="p">][</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="s1">&#39;batting&#39;</span><span class="p">][</span><span class="s1">&#39;baseOnBalls&#39;</span><span class="p">]),</span>
                        <span class="s1">&#39;k&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">batterId</span><span class="p">][</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="s1">&#39;batting&#39;</span><span class="p">][</span><span class="s1">&#39;strikeOuts&#39;</span><span class="p">]),</span>
                        <span class="s1">&#39;lob&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">batterId</span><span class="p">][</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="s1">&#39;batting&#39;</span><span class="p">][</span><span class="s1">&#39;leftOnBase&#39;</span><span class="p">]),</span>
                        <span class="s1">&#39;avg&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">batterId</span><span class="p">][</span><span class="s1">&#39;seasonStats&#39;</span><span class="p">][</span><span class="s1">&#39;batting&#39;</span><span class="p">][</span><span class="s1">&#39;avg&#39;</span><span class="p">]),</span>
                        <span class="s1">&#39;ops&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">batterId</span><span class="p">][</span><span class="s1">&#39;seasonStats&#39;</span><span class="p">][</span><span class="s1">&#39;batting&#39;</span><span class="p">][</span><span class="s1">&#39;ops&#39;</span><span class="p">])</span>
                    <span class="p">}</span>
        <span class="n">awayBatters</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">batter</span><span class="p">)</span>

    <span class="c1">#Add home column headers</span>
    <span class="n">homeBatters</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;namefield&#39;</span><span class="p">:</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;teamInfo&#39;</span><span class="p">][</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;teamName&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39; Batters&#39;</span><span class="p">,</span> <span class="s1">&#39;ab&#39;</span><span class="p">:</span><span class="s1">&#39;AB&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">:</span><span class="s1">&#39;R&#39;</span><span class="p">,</span> <span class="s1">&#39;h&#39;</span><span class="p">:</span><span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="s1">&#39;rbi&#39;</span><span class="p">:</span><span class="s1">&#39;RBI&#39;</span><span class="p">,</span> <span class="s1">&#39;bb&#39;</span><span class="p">:</span><span class="s1">&#39;BB&#39;</span><span class="p">,</span> <span class="s1">&#39;k&#39;</span><span class="p">:</span><span class="s1">&#39;K&#39;</span><span class="p">,</span> <span class="s1">&#39;lob&#39;</span><span class="p">:</span><span class="s1">&#39;LOB&#39;</span><span class="p">,</span> <span class="s1">&#39;avg&#39;</span><span class="p">:</span><span class="s1">&#39;AVG&#39;</span><span class="p">,</span> <span class="s1">&#39;ops&#39;</span><span class="p">:</span><span class="s1">&#39;OPS&#39;</span><span class="p">}]</span>
    <span class="k">for</span> <span class="n">batterId_int</span> <span class="ow">in</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;batters&#39;</span><span class="p">]</span> <span class="k">if</span> <span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;battingOrder&#39;</span><span class="p">)]:</span>
        <span class="n">batterId</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">batterId_int</span><span class="p">)</span>
        <span class="n">namefield</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">batterId</span><span class="p">][</span><span class="s1">&#39;battingOrder&#39;</span><span class="p">])[</span><span class="mi">0</span><span class="p">]</span> <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">batterId</span><span class="p">][</span><span class="s1">&#39;battingOrder&#39;</span><span class="p">])[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;0&#39;</span> <span class="k">else</span> <span class="s2">&quot;   &quot;</span>
        <span class="n">namefield</span> <span class="o">+=</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">batterId</span><span class="p">][</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="s1">&#39;batting&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;note&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
        <span class="n">namefield</span> <span class="o">+=</span> <span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;playerInfo&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">batterId</span><span class="p">][</span><span class="s1">&#39;boxscoreName&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;  &quot;</span> <span class="o">+</span> <span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">batterId</span><span class="p">][</span><span class="s1">&#39;position&#39;</span><span class="p">][</span><span class="s1">&#39;abbreviation&#39;</span><span class="p">]</span>
        <span class="n">batter</span> <span class="o">=</span>    <span class="p">{</span>
                        <span class="s1">&#39;namefield&#39;</span><span class="p">:</span><span class="n">namefield</span><span class="p">,</span>
                        <span class="s1">&#39;ab&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">batterId</span><span class="p">][</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="s1">&#39;batting&#39;</span><span class="p">][</span><span class="s1">&#39;atBats&#39;</span><span class="p">]),</span>
                        <span class="s1">&#39;r&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">batterId</span><span class="p">][</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="s1">&#39;batting&#39;</span><span class="p">][</span><span class="s1">&#39;runs&#39;</span><span class="p">]),</span>
                        <span class="s1">&#39;h&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">batterId</span><span class="p">][</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="s1">&#39;batting&#39;</span><span class="p">][</span><span class="s1">&#39;hits&#39;</span><span class="p">]),</span>
                        <span class="s1">&#39;rbi&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">batterId</span><span class="p">][</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="s1">&#39;batting&#39;</span><span class="p">][</span><span class="s1">&#39;rbi&#39;</span><span class="p">]),</span>
                        <span class="s1">&#39;bb&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">batterId</span><span class="p">][</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="s1">&#39;batting&#39;</span><span class="p">][</span><span class="s1">&#39;baseOnBalls&#39;</span><span class="p">]),</span>
                        <span class="s1">&#39;k&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">batterId</span><span class="p">][</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="s1">&#39;batting&#39;</span><span class="p">][</span><span class="s1">&#39;strikeOuts&#39;</span><span class="p">]),</span>
                        <span class="s1">&#39;lob&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">batterId</span><span class="p">][</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="s1">&#39;batting&#39;</span><span class="p">][</span><span class="s1">&#39;leftOnBase&#39;</span><span class="p">]),</span>
                        <span class="s1">&#39;avg&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">batterId</span><span class="p">][</span><span class="s1">&#39;seasonStats&#39;</span><span class="p">][</span><span class="s1">&#39;batting&#39;</span><span class="p">][</span><span class="s1">&#39;avg&#39;</span><span class="p">]),</span>
                        <span class="s1">&#39;ops&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">batterId</span><span class="p">][</span><span class="s1">&#39;seasonStats&#39;</span><span class="p">][</span><span class="s1">&#39;batting&#39;</span><span class="p">][</span><span class="s1">&#39;ops&#39;</span><span class="p">])</span>
                    <span class="p">}</span>
        <span class="n">homeBatters</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">batter</span><span class="p">)</span>

    <span class="n">boxData</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;awayBatters&#39;</span><span class="p">:</span><span class="n">awayBatters</span><span class="p">})</span>
    <span class="n">boxData</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;homeBatters&#39;</span><span class="p">:</span><span class="n">homeBatters</span><span class="p">})</span>

    <span class="c1">#Add away team totals</span>
    <span class="n">boxData</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;awayBattingTotals&#39;</span><span class="p">:</span> <span class="p">{</span>
                            <span class="s1">&#39;namefield&#39;</span><span class="p">:</span><span class="s1">&#39;Totals&#39;</span><span class="p">,</span>
                            <span class="s1">&#39;ab&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;teamStats&#39;</span><span class="p">][</span><span class="s1">&#39;batting&#39;</span><span class="p">][</span><span class="s1">&#39;atBats&#39;</span><span class="p">]),</span>
                            <span class="s1">&#39;r&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;teamStats&#39;</span><span class="p">][</span><span class="s1">&#39;batting&#39;</span><span class="p">][</span><span class="s1">&#39;runs&#39;</span><span class="p">]),</span>
                            <span class="s1">&#39;h&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;teamStats&#39;</span><span class="p">][</span><span class="s1">&#39;batting&#39;</span><span class="p">][</span><span class="s1">&#39;hits&#39;</span><span class="p">]),</span>
                            <span class="s1">&#39;rbi&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;teamStats&#39;</span><span class="p">][</span><span class="s1">&#39;batting&#39;</span><span class="p">][</span><span class="s1">&#39;rbi&#39;</span><span class="p">]),</span>
                            <span class="s1">&#39;bb&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;teamStats&#39;</span><span class="p">][</span><span class="s1">&#39;batting&#39;</span><span class="p">][</span><span class="s1">&#39;baseOnBalls&#39;</span><span class="p">]),</span>
                            <span class="s1">&#39;k&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;teamStats&#39;</span><span class="p">][</span><span class="s1">&#39;batting&#39;</span><span class="p">][</span><span class="s1">&#39;strikeOuts&#39;</span><span class="p">]),</span>
                            <span class="s1">&#39;lob&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;teamStats&#39;</span><span class="p">][</span><span class="s1">&#39;batting&#39;</span><span class="p">][</span><span class="s1">&#39;leftOnBase&#39;</span><span class="p">]),</span>
                            <span class="s1">&#39;avg&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span>
                            <span class="s1">&#39;ops&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span>
                        <span class="p">}})</span>
    <span class="c1">#Add home team totals</span>
    <span class="n">boxData</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;homeBattingTotals&#39;</span><span class="p">:</span> <span class="p">{</span>
                            <span class="s1">&#39;namefield&#39;</span><span class="p">:</span><span class="s1">&#39;Totals&#39;</span><span class="p">,</span>
                            <span class="s1">&#39;ab&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;teamStats&#39;</span><span class="p">][</span><span class="s1">&#39;batting&#39;</span><span class="p">][</span><span class="s1">&#39;atBats&#39;</span><span class="p">]),</span>
                            <span class="s1">&#39;r&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;teamStats&#39;</span><span class="p">][</span><span class="s1">&#39;batting&#39;</span><span class="p">][</span><span class="s1">&#39;runs&#39;</span><span class="p">]),</span>
                            <span class="s1">&#39;h&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;teamStats&#39;</span><span class="p">][</span><span class="s1">&#39;batting&#39;</span><span class="p">][</span><span class="s1">&#39;hits&#39;</span><span class="p">]),</span>
                            <span class="s1">&#39;rbi&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;teamStats&#39;</span><span class="p">][</span><span class="s1">&#39;batting&#39;</span><span class="p">][</span><span class="s1">&#39;rbi&#39;</span><span class="p">]),</span>
                            <span class="s1">&#39;bb&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;teamStats&#39;</span><span class="p">][</span><span class="s1">&#39;batting&#39;</span><span class="p">][</span><span class="s1">&#39;baseOnBalls&#39;</span><span class="p">]),</span>
                            <span class="s1">&#39;k&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;teamStats&#39;</span><span class="p">][</span><span class="s1">&#39;batting&#39;</span><span class="p">][</span><span class="s1">&#39;strikeOuts&#39;</span><span class="p">]),</span>
                            <span class="s1">&#39;lob&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;teamStats&#39;</span><span class="p">][</span><span class="s1">&#39;batting&#39;</span><span class="p">][</span><span class="s1">&#39;leftOnBase&#39;</span><span class="p">]),</span>
                            <span class="s1">&#39;avg&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span>
                            <span class="s1">&#39;ops&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span>
                        <span class="p">}})</span>

    <span class="c1">#Get batting notes</span>
    <span class="n">awayBattingNotes</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;note&#39;</span><span class="p">]:</span>
        <span class="n">awayBattingNotes</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="nb">len</span><span class="p">(</span><span class="n">awayBattingNotes</span><span class="p">)</span> <span class="p">:</span> <span class="n">n</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;-&#39;</span> <span class="o">+</span> <span class="n">n</span><span class="p">[</span><span class="s1">&#39;value&#39;</span><span class="p">]})</span>
    <span class="n">homeBattingNotes</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;note&#39;</span><span class="p">]:</span>
        <span class="n">homeBattingNotes</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="nb">len</span><span class="p">(</span><span class="n">homeBattingNotes</span><span class="p">)</span> <span class="p">:</span> <span class="n">n</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;-&#39;</span> <span class="o">+</span> <span class="n">n</span><span class="p">[</span><span class="s1">&#39;value&#39;</span><span class="p">]})</span>

    <span class="n">boxData</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;awayBattingNotes&#39;</span><span class="p">:</span><span class="n">awayBattingNotes</span><span class="p">})</span>
    <span class="n">boxData</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;homeBattingNotes&#39;</span><span class="p">:</span><span class="n">homeBattingNotes</span><span class="p">})</span>

    <span class="c1">#Get pitching box</span>
    <span class="c1">#Add away column headers</span>
    <span class="n">awayPitchers</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;namefield&#39;</span><span class="p">:</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;teamInfo&#39;</span><span class="p">][</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;teamName&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39; Pitchers&#39;</span><span class="p">,</span> <span class="s1">&#39;ip&#39;</span><span class="p">:</span><span class="s1">&#39;IP&#39;</span><span class="p">,</span> <span class="s1">&#39;h&#39;</span><span class="p">:</span><span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">:</span><span class="s1">&#39;R&#39;</span><span class="p">,</span> <span class="s1">&#39;er&#39;</span><span class="p">:</span><span class="s1">&#39;ER&#39;</span><span class="p">,</span> <span class="s1">&#39;bb&#39;</span><span class="p">:</span><span class="s1">&#39;BB&#39;</span><span class="p">,</span> <span class="s1">&#39;k&#39;</span><span class="p">:</span><span class="s1">&#39;K&#39;</span><span class="p">,</span> <span class="s1">&#39;hr&#39;</span><span class="p">:</span><span class="s1">&#39;HR&#39;</span><span class="p">,</span> <span class="s1">&#39;era&#39;</span><span class="p">:</span><span class="s1">&#39;ERA&#39;</span><span class="p">}]</span>
    <span class="k">for</span> <span class="n">pitcherId_int</span> <span class="ow">in</span> <span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;pitchers&#39;</span><span class="p">]:</span>
        <span class="n">pitcherId</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">pitcherId_int</span><span class="p">)</span>
        <span class="n">namefield</span> <span class="o">=</span> <span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;playerInfo&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">pitcherId</span><span class="p">][</span><span class="s1">&#39;boxscoreName&#39;</span><span class="p">]</span>
        <span class="n">namefield</span> <span class="o">+=</span> <span class="s1">&#39;  &#39;</span> <span class="o">+</span> <span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">pitcherId</span><span class="p">][</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="s1">&#39;pitching&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;note&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="k">if</span> <span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">pitcherId</span><span class="p">][</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="s1">&#39;pitching&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;note&#39;</span><span class="p">)</span> <span class="k">else</span> <span class="s1">&#39;&#39;</span>
        <span class="n">pitcher</span> <span class="o">=</span>    <span class="p">{</span>
                        <span class="s1">&#39;namefield&#39;</span><span class="p">:</span><span class="n">namefield</span><span class="p">,</span>
                        <span class="s1">&#39;ip&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">pitcherId</span><span class="p">][</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="s1">&#39;pitching&#39;</span><span class="p">][</span><span class="s1">&#39;inningsPitched&#39;</span><span class="p">]),</span>
                        <span class="s1">&#39;h&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">pitcherId</span><span class="p">][</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="s1">&#39;pitching&#39;</span><span class="p">][</span><span class="s1">&#39;hits&#39;</span><span class="p">]),</span>
                        <span class="s1">&#39;r&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">pitcherId</span><span class="p">][</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="s1">&#39;pitching&#39;</span><span class="p">][</span><span class="s1">&#39;runs&#39;</span><span class="p">]),</span>
                        <span class="s1">&#39;er&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">pitcherId</span><span class="p">][</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="s1">&#39;pitching&#39;</span><span class="p">][</span><span class="s1">&#39;earnedRuns&#39;</span><span class="p">]),</span>
                        <span class="s1">&#39;bb&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">pitcherId</span><span class="p">][</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="s1">&#39;pitching&#39;</span><span class="p">][</span><span class="s1">&#39;baseOnBalls&#39;</span><span class="p">]),</span>
                        <span class="s1">&#39;k&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">pitcherId</span><span class="p">][</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="s1">&#39;pitching&#39;</span><span class="p">][</span><span class="s1">&#39;strikeOuts&#39;</span><span class="p">]),</span>
                        <span class="s1">&#39;hr&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">pitcherId</span><span class="p">][</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="s1">&#39;pitching&#39;</span><span class="p">][</span><span class="s1">&#39;homeRuns&#39;</span><span class="p">]),</span>
                        <span class="s1">&#39;era&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">pitcherId</span><span class="p">][</span><span class="s1">&#39;seasonStats&#39;</span><span class="p">][</span><span class="s1">&#39;pitching&#39;</span><span class="p">][</span><span class="s1">&#39;era&#39;</span><span class="p">])</span>
                    <span class="p">}</span>
        <span class="n">awayPitchers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pitcher</span><span class="p">)</span>

    <span class="n">boxData</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;awayPitchers&#39;</span><span class="p">:</span><span class="n">awayPitchers</span><span class="p">})</span>

    <span class="c1">#Add home column headers</span>
    <span class="n">homePitchers</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;namefield&#39;</span><span class="p">:</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;teamInfo&#39;</span><span class="p">][</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;teamName&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39; Pitchers&#39;</span><span class="p">,</span> <span class="s1">&#39;ip&#39;</span><span class="p">:</span><span class="s1">&#39;IP&#39;</span><span class="p">,</span> <span class="s1">&#39;h&#39;</span><span class="p">:</span><span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">:</span><span class="s1">&#39;R&#39;</span><span class="p">,</span> <span class="s1">&#39;er&#39;</span><span class="p">:</span><span class="s1">&#39;ER&#39;</span><span class="p">,</span> <span class="s1">&#39;bb&#39;</span><span class="p">:</span><span class="s1">&#39;BB&#39;</span><span class="p">,</span> <span class="s1">&#39;k&#39;</span><span class="p">:</span><span class="s1">&#39;K&#39;</span><span class="p">,</span> <span class="s1">&#39;hr&#39;</span><span class="p">:</span><span class="s1">&#39;HR&#39;</span><span class="p">,</span> <span class="s1">&#39;era&#39;</span><span class="p">:</span><span class="s1">&#39;ERA&#39;</span><span class="p">}]</span>
    <span class="k">for</span> <span class="n">pitcherId_int</span> <span class="ow">in</span> <span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;pitchers&#39;</span><span class="p">]:</span>
        <span class="n">pitcherId</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">pitcherId_int</span><span class="p">)</span>
        <span class="n">namefield</span> <span class="o">=</span> <span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;playerInfo&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">pitcherId</span><span class="p">][</span><span class="s1">&#39;boxscoreName&#39;</span><span class="p">]</span>
        <span class="n">namefield</span> <span class="o">+=</span> <span class="s1">&#39;  &#39;</span> <span class="o">+</span> <span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">pitcherId</span><span class="p">][</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="s1">&#39;pitching&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;note&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="k">if</span> <span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">pitcherId</span><span class="p">][</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="s1">&#39;pitching&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;note&#39;</span><span class="p">)</span> <span class="k">else</span> <span class="s1">&#39;&#39;</span>
        <span class="n">pitcher</span> <span class="o">=</span>    <span class="p">{</span>
                        <span class="s1">&#39;namefield&#39;</span><span class="p">:</span><span class="n">namefield</span><span class="p">,</span>
                        <span class="s1">&#39;ip&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">pitcherId</span><span class="p">][</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="s1">&#39;pitching&#39;</span><span class="p">][</span><span class="s1">&#39;inningsPitched&#39;</span><span class="p">]),</span>
                        <span class="s1">&#39;h&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">pitcherId</span><span class="p">][</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="s1">&#39;pitching&#39;</span><span class="p">][</span><span class="s1">&#39;hits&#39;</span><span class="p">]),</span>
                        <span class="s1">&#39;r&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">pitcherId</span><span class="p">][</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="s1">&#39;pitching&#39;</span><span class="p">][</span><span class="s1">&#39;runs&#39;</span><span class="p">]),</span>
                        <span class="s1">&#39;er&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">pitcherId</span><span class="p">][</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="s1">&#39;pitching&#39;</span><span class="p">][</span><span class="s1">&#39;earnedRuns&#39;</span><span class="p">]),</span>
                        <span class="s1">&#39;bb&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">pitcherId</span><span class="p">][</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="s1">&#39;pitching&#39;</span><span class="p">][</span><span class="s1">&#39;baseOnBalls&#39;</span><span class="p">]),</span>
                        <span class="s1">&#39;k&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">pitcherId</span><span class="p">][</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="s1">&#39;pitching&#39;</span><span class="p">][</span><span class="s1">&#39;strikeOuts&#39;</span><span class="p">]),</span>
                        <span class="s1">&#39;hr&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">pitcherId</span><span class="p">][</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="s1">&#39;pitching&#39;</span><span class="p">][</span><span class="s1">&#39;homeRuns&#39;</span><span class="p">]),</span>
                        <span class="s1">&#39;era&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">pitcherId</span><span class="p">][</span><span class="s1">&#39;seasonStats&#39;</span><span class="p">][</span><span class="s1">&#39;pitching&#39;</span><span class="p">][</span><span class="s1">&#39;era&#39;</span><span class="p">])</span>
                    <span class="p">}</span>
        <span class="n">homePitchers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pitcher</span><span class="p">)</span>

    <span class="n">boxData</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;homePitchers&#39;</span><span class="p">:</span><span class="n">homePitchers</span><span class="p">})</span>

    <span class="c1">#Get away team totals</span>
    <span class="n">boxData</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;awayPitchingTotals&#39;</span><span class="p">:</span>   <span class="p">{</span>
                            <span class="s1">&#39;namefield&#39;</span><span class="p">:</span><span class="s1">&#39;Totals&#39;</span><span class="p">,</span>
                            <span class="s1">&#39;ip&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;teamStats&#39;</span><span class="p">][</span><span class="s1">&#39;pitching&#39;</span><span class="p">][</span><span class="s1">&#39;inningsPitched&#39;</span><span class="p">]),</span>
                            <span class="s1">&#39;h&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;teamStats&#39;</span><span class="p">][</span><span class="s1">&#39;pitching&#39;</span><span class="p">][</span><span class="s1">&#39;hits&#39;</span><span class="p">]),</span>
                            <span class="s1">&#39;r&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;teamStats&#39;</span><span class="p">][</span><span class="s1">&#39;pitching&#39;</span><span class="p">][</span><span class="s1">&#39;runs&#39;</span><span class="p">]),</span>
                            <span class="s1">&#39;er&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;teamStats&#39;</span><span class="p">][</span><span class="s1">&#39;pitching&#39;</span><span class="p">][</span><span class="s1">&#39;earnedRuns&#39;</span><span class="p">]),</span>
                            <span class="s1">&#39;bb&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;teamStats&#39;</span><span class="p">][</span><span class="s1">&#39;pitching&#39;</span><span class="p">][</span><span class="s1">&#39;baseOnBalls&#39;</span><span class="p">]),</span>
                            <span class="s1">&#39;k&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;teamStats&#39;</span><span class="p">][</span><span class="s1">&#39;pitching&#39;</span><span class="p">][</span><span class="s1">&#39;strikeOuts&#39;</span><span class="p">]),</span>
                            <span class="s1">&#39;hr&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;teamStats&#39;</span><span class="p">][</span><span class="s1">&#39;pitching&#39;</span><span class="p">][</span><span class="s1">&#39;homeRuns&#39;</span><span class="p">]),</span>
                            <span class="s1">&#39;era&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span>
                        <span class="p">}})</span>


    <span class="c1">#Get home team totals</span>
    <span class="n">boxData</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;homePitchingTotals&#39;</span><span class="p">:</span>   <span class="p">{</span>
                            <span class="s1">&#39;namefield&#39;</span><span class="p">:</span><span class="s1">&#39;Totals&#39;</span><span class="p">,</span>
                            <span class="s1">&#39;ip&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;teamStats&#39;</span><span class="p">][</span><span class="s1">&#39;pitching&#39;</span><span class="p">][</span><span class="s1">&#39;inningsPitched&#39;</span><span class="p">]),</span>
                            <span class="s1">&#39;h&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;teamStats&#39;</span><span class="p">][</span><span class="s1">&#39;pitching&#39;</span><span class="p">][</span><span class="s1">&#39;hits&#39;</span><span class="p">]),</span>
                            <span class="s1">&#39;r&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;teamStats&#39;</span><span class="p">][</span><span class="s1">&#39;pitching&#39;</span><span class="p">][</span><span class="s1">&#39;runs&#39;</span><span class="p">]),</span>
                            <span class="s1">&#39;er&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;teamStats&#39;</span><span class="p">][</span><span class="s1">&#39;pitching&#39;</span><span class="p">][</span><span class="s1">&#39;earnedRuns&#39;</span><span class="p">]),</span>
                            <span class="s1">&#39;bb&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;teamStats&#39;</span><span class="p">][</span><span class="s1">&#39;pitching&#39;</span><span class="p">][</span><span class="s1">&#39;baseOnBalls&#39;</span><span class="p">]),</span>
                            <span class="s1">&#39;k&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;teamStats&#39;</span><span class="p">][</span><span class="s1">&#39;pitching&#39;</span><span class="p">][</span><span class="s1">&#39;strikeOuts&#39;</span><span class="p">]),</span>
                            <span class="s1">&#39;hr&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;teamStats&#39;</span><span class="p">][</span><span class="s1">&#39;pitching&#39;</span><span class="p">][</span><span class="s1">&#39;homeRuns&#39;</span><span class="p">]),</span>
                            <span class="s1">&#39;era&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span>
                        <span class="p">}})</span>

    <span class="c1">#Get game info</span>
    <span class="n">boxData</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;gameBoxInfo&#39;</span><span class="p">:</span><span class="n">r</span><span class="p">[</span><span class="s1">&#39;liveData&#39;</span><span class="p">][</span><span class="s1">&#39;boxscore&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;info&#39;</span><span class="p">,[])})</span>

    <span class="k">return</span> <span class="n">boxData</span>

<span class="k">def</span> <span class="nf">linescore</span><span class="p">(</span><span class="n">gamePk</span><span class="p">,</span><span class="n">timecode</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get formatted linescore for a given game.</span>

<span class="sd">    Note: This function uses the game endpoint instead of game_linescore,</span>
<span class="sd">    because game_linescore does not contain the team names or game status</span>
<span class="sd">    and it&#39;s better to make one call instead of two. All of this data can </span>
<span class="sd">    also be retrieved through the schedule endpoint using hydrate=linescore,</span>
<span class="sd">    but the schedule endpoint does not support the timecode parameter.</span>

<span class="sd">    It is possible to get the linescore as it existed at a specific time by including the timestamp in the timecode parameter.</span>
<span class="sd">    The timecode should be in the format YYYYMMDD_HHMMSS, and in the UTC timezone</span>
<span class="sd">    For example, 4/24/19 10:32:40 EDT (-4) would be: 20190425_012240</span>
<span class="sd">    A list of timestamps for game events can be found through the game_timestamps endpoint:</span>
<span class="sd">    statsapi.get(&#39;game_timestamps&#39;,{&#39;gamePk&#39;:565997})</span>

<span class="sd">    Example use:</span>

<span class="sd">    Print the linescore for the Phillies/Mets game on 4/25/19:</span>

<span class="sd">    print( statsapi.linescore(565997) )</span>

<span class="sd">    Output:</span>

<span class="sd">    Final    1 2 3 4 5 6 7 8 9  R   H   E</span>
<span class="sd">    Phillies 1 0 0 0 0 0 0 3 2  6   10  0</span>
<span class="sd">    Mets     0 0 0 0 0 0 0 0 0  0   6   3</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">linescore</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;gamePk&#39;</span><span class="p">:</span><span class="n">gamePk</span><span class="p">,</span><span class="s1">&#39;fields&#39;</span><span class="p">:</span><span class="s1">&#39;gameData,teams,teamName,shortName,status,abstractGameState,liveData,linescore,innings,num,home,away,runs,hits,errors&#39;</span><span class="p">}</span>
    <span class="k">if</span> <span class="n">timecode</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;timecode&#39;</span><span class="p">:</span><span class="n">timecode</span><span class="p">})</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">get</span><span class="p">(</span><span class="s1">&#39;game&#39;</span><span class="p">,</span><span class="n">params</span><span class="p">)</span>

    <span class="n">header_name</span> <span class="o">=</span> <span class="n">r</span><span class="p">[</span><span class="s1">&#39;gameData&#39;</span><span class="p">][</span><span class="s1">&#39;status&#39;</span><span class="p">][</span><span class="s1">&#39;abstractGameState&#39;</span><span class="p">]</span>
    <span class="n">away_name</span> <span class="o">=</span> <span class="n">r</span><span class="p">[</span><span class="s1">&#39;gameData&#39;</span><span class="p">][</span><span class="s1">&#39;teams&#39;</span><span class="p">][</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;teamName&#39;</span><span class="p">]</span>
    <span class="n">home_name</span> <span class="o">=</span> <span class="n">r</span><span class="p">[</span><span class="s1">&#39;gameData&#39;</span><span class="p">][</span><span class="s1">&#39;teams&#39;</span><span class="p">][</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;teamName&#39;</span><span class="p">]</span>
    <span class="n">header_row</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">away</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">home</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">r</span><span class="p">[</span><span class="s1">&#39;liveData&#39;</span><span class="p">][</span><span class="s1">&#39;linescore&#39;</span><span class="p">][</span><span class="s1">&#39;innings&#39;</span><span class="p">]:</span>
        <span class="n">header_row</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;num&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">)))</span>
        <span class="n">away</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;away&#39;</span><span class="p">,{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;runs&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">)))</span>
        <span class="n">home</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;home&#39;</span><span class="p">,{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;runs&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">)))</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">r</span><span class="p">[</span><span class="s1">&#39;liveData&#39;</span><span class="p">][</span><span class="s1">&#39;linescore&#39;</span><span class="p">][</span><span class="s1">&#39;innings&#39;</span><span class="p">])</span> <span class="o">&lt;</span> <span class="mi">9</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">r</span><span class="p">[</span><span class="s1">&#39;liveData&#39;</span><span class="p">][</span><span class="s1">&#39;linescore&#39;</span><span class="p">][</span><span class="s1">&#39;innings&#39;</span><span class="p">])</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">):</span>
            <span class="n">header_row</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
            <span class="n">away</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)</span>
            <span class="n">home</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)</span>

    <span class="n">header_row</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="s1">&#39;R&#39;</span><span class="p">,</span><span class="s1">&#39;H&#39;</span><span class="p">,</span><span class="s1">&#39;E&#39;</span><span class="p">])</span>
    <span class="n">away</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
                    <span class="nb">str</span><span class="p">(</span><span class="n">r</span><span class="p">[</span><span class="s1">&#39;liveData&#39;</span><span class="p">][</span><span class="s1">&#39;linescore&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;teams&#39;</span><span class="p">,{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;away&#39;</span><span class="p">,{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;runs&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">)),</span>
                    <span class="nb">str</span><span class="p">(</span><span class="n">r</span><span class="p">[</span><span class="s1">&#39;liveData&#39;</span><span class="p">][</span><span class="s1">&#39;linescore&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;teams&#39;</span><span class="p">,{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;away&#39;</span><span class="p">,{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;hits&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">)),</span>
                    <span class="nb">str</span><span class="p">(</span><span class="n">r</span><span class="p">[</span><span class="s1">&#39;liveData&#39;</span><span class="p">][</span><span class="s1">&#39;linescore&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;teams&#39;</span><span class="p">,{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;away&#39;</span><span class="p">,{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;errors&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span>
                <span class="p">])</span>
    <span class="n">home</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
                    <span class="nb">str</span><span class="p">(</span><span class="n">r</span><span class="p">[</span><span class="s1">&#39;liveData&#39;</span><span class="p">][</span><span class="s1">&#39;linescore&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;teams&#39;</span><span class="p">,{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;home&#39;</span><span class="p">,{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;runs&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">)),</span>
                    <span class="nb">str</span><span class="p">(</span><span class="n">r</span><span class="p">[</span><span class="s1">&#39;liveData&#39;</span><span class="p">][</span><span class="s1">&#39;linescore&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;teams&#39;</span><span class="p">,{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;home&#39;</span><span class="p">,{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;hits&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">)),</span>
                    <span class="nb">str</span><span class="p">(</span><span class="n">r</span><span class="p">[</span><span class="s1">&#39;liveData&#39;</span><span class="p">][</span><span class="s1">&#39;linescore&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;teams&#39;</span><span class="p">,{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;home&#39;</span><span class="p">,{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;errors&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span>
                <span class="p">])</span>

    <span class="c1">#Build the linescore</span>
    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="p">[[</span><span class="n">header_name</span><span class="p">,</span><span class="n">header_row</span><span class="p">],[</span><span class="n">away_name</span><span class="p">,</span><span class="n">away</span><span class="p">],[</span><span class="n">home_name</span><span class="p">,</span><span class="n">home</span><span class="p">]]:</span>
        <span class="n">linescore</span> <span class="o">+=</span> <span class="p">(</span><span class="s1">&#39;{:&lt;</span><span class="si">%s</span><span class="s1">}&#39;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="nb">max</span><span class="p">([</span><span class="n">header_name</span><span class="p">,</span><span class="n">away_name</span><span class="p">,</span><span class="n">home_name</span><span class="p">],</span><span class="n">key</span><span class="o">=</span><span class="nb">len</span><span class="p">))</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">k</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">linescore</span> <span class="o">+=</span> <span class="p">(</span><span class="s1">&#39;{:^2}&#39;</span> <span class="o">*</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">k</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">-</span><span class="mi">3</span><span class="p">))</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">*</span><span class="n">k</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="n">linescore</span> <span class="o">+=</span> <span class="p">(</span><span class="s1">&#39;{:^4}&#39;</span> <span class="o">*</span> <span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">*</span><span class="n">k</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="o">-</span><span class="mi">3</span><span class="p">:])</span>
        <span class="n">linescore</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">linescore</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">1</span><span class="p">:</span> <span class="n">linescore</span> <span class="o">=</span> <span class="n">linescore</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="c1">#strip the extra line break</span>

    <span class="k">return</span> <span class="n">linescore</span>

<span class="k">def</span> <span class="nf">last_game</span><span class="p">(</span><span class="n">teamId</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get the gamePk for the given team&#39;s most recent game.</span>
<span class="sd">    Note: Sometimes Stats API will actually return the next game in the previousSchedule hydration</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">get</span><span class="p">(</span><span class="s1">&#39;team&#39;</span><span class="p">,{</span><span class="s1">&#39;teamId&#39;</span><span class="p">:</span><span class="n">teamId</span><span class="p">,</span><span class="s1">&#39;hydrate&#39;</span><span class="p">:</span><span class="s1">&#39;previousSchedule&#39;</span><span class="p">,</span><span class="s1">&#39;fields&#39;</span><span class="p">:</span><span class="s1">&#39;teams,id,teamName,previousGameSchedule,dates,date,games,gamePk,season,gameDate,teams,away,home,team,name&#39;</span><span class="p">})[</span><span class="s1">&#39;teams&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;previousGameSchedule&#39;</span><span class="p">][</span><span class="s1">&#39;dates&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;games&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;gamePk&#39;</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">next_game</span><span class="p">(</span><span class="n">teamId</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get the gamePk for the given team&#39;s next game.</span>
<span class="sd">    Note: Sometimes Stats API will actually return the next game in the previousSchedule hydration</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">get</span><span class="p">(</span><span class="s1">&#39;team&#39;</span><span class="p">,{</span><span class="s1">&#39;teamId&#39;</span><span class="p">:</span><span class="n">teamId</span><span class="p">,</span><span class="s1">&#39;hydrate&#39;</span><span class="p">:</span><span class="s1">&#39;nextSchedule&#39;</span><span class="p">,</span><span class="s1">&#39;fields&#39;</span><span class="p">:</span><span class="s1">&#39;teams,id,teamName,nextGameSchedule,dates,date,games,gamePk,season,gameDate,teams,away,home,team,name&#39;</span><span class="p">})[</span><span class="s1">&#39;teams&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;nextGameSchedule&#39;</span><span class="p">][</span><span class="s1">&#39;dates&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;games&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;gamePk&#39;</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">game_scoring_plays</span><span class="p">(</span><span class="n">gamePk</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get a text-formatted list of scoring plays for a given game</span>

<span class="sd">    Example use:</span>

<span class="sd">    Print a list of scoring plays from the 4/28/2019 Marlins @ Phillies game</span>

<span class="sd">    print( statsapi.game_scoring_plays(567074) )</span>

<span class="sd">    Output (truncated to show only the first and last records):</span>

<span class="sd">    Rhys Hoskins doubles (6) on a sharp line drive to left fielder Isaac Galloway.   Bryce Harper scores.</span>
<span class="sd">    Bottom 1 - Miami Marlins: 0, Philadelphia Phillies: 1</span>

<span class="sd">    Rhys Hoskins walks.   Andrew McCutchen scores.    Jean Segura to 3rd.  Wild pitch by pitcher Tayron Guerrero.</span>
<span class="sd">    Bottom 8 - Miami Marlins: 1, Philadelphia Phillies: 5</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">sortedPlays</span> <span class="o">=</span> <span class="n">game_scoring_play_data</span><span class="p">(</span><span class="n">gamePk</span><span class="p">)</span>
    <span class="n">scoring_plays</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">sortedPlays</span><span class="p">[</span><span class="s1">&#39;plays&#39;</span><span class="p">]:</span>
        <span class="n">scoring_plays</span> <span class="o">+=</span> <span class="s1">&#39;{}</span><span class="se">\n</span><span class="s1">{} {} - {}: {}, {}: {}</span><span class="se">\n\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="s1">&#39;result&#39;</span><span class="p">][</span><span class="s1">&#39;description&#39;</span><span class="p">],</span> <span class="n">a</span><span class="p">[</span><span class="s1">&#39;about&#39;</span><span class="p">][</span><span class="s1">&#39;halfInning&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">:</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="o">+</span> <span class="n">a</span><span class="p">[</span><span class="s1">&#39;about&#39;</span><span class="p">][</span><span class="s1">&#39;halfInning&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">:],</span> <span class="n">a</span><span class="p">[</span><span class="s1">&#39;about&#39;</span><span class="p">][</span><span class="s1">&#39;inning&#39;</span><span class="p">],</span> <span class="n">sortedPlays</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">],</span> <span class="n">a</span><span class="p">[</span><span class="s1">&#39;result&#39;</span><span class="p">][</span><span class="s1">&#39;awayScore&#39;</span><span class="p">],</span> <span class="n">sortedPlays</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">],</span> <span class="n">a</span><span class="p">[</span><span class="s1">&#39;result&#39;</span><span class="p">][</span><span class="s1">&#39;homeScore&#39;</span><span class="p">])</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">scoring_plays</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">1</span><span class="p">:</span> <span class="n">scoring_plays</span> <span class="o">=</span> <span class="n">scoring_plays</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="c1">#strip the extra line break</span>

    <span class="k">return</span> <span class="n">scoring_plays</span>

<span class="k">def</span> <span class="nf">game_scoring_play_data</span><span class="p">(</span><span class="n">gamePk</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get a python list of scoring plays for a given game.</span>
<span class="sd">    </span>
<span class="sd">    Will return a dict containing 3 keys:</span>
<span class="sd">    </span>
<span class="sd">    * home - home team data</span>
<span class="sd">    * away - away team data</span>
<span class="sd">    * plays - sorted list of scoring play data</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">get</span><span class="p">(</span><span class="s1">&#39;schedule&#39;</span><span class="p">,{</span><span class="s1">&#39;sportId&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="s1">&#39;gamePk&#39;</span><span class="p">:</span><span class="n">gamePk</span><span class="p">,</span><span class="s1">&#39;hydrate&#39;</span><span class="p">:</span><span class="s1">&#39;scoringplays&#39;</span><span class="p">,</span><span class="s1">&#39;fields&#39;</span><span class="p">:</span><span class="s1">&#39;dates,date,games,teams,away,team,name,scoringPlays,result,description,awayScore,homeScore,about,halfInning,inning,endTime&#39;</span><span class="p">})</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">len</span><span class="p">(</span><span class="n">r</span><span class="p">[</span><span class="s1">&#39;dates&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;games&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;scoringPlays&#39;</span><span class="p">]):</span> <span class="k">return</span> <span class="s1">&#39;&#39;</span>

    <span class="n">items</span> <span class="o">=</span> <span class="n">r</span><span class="p">[</span><span class="s1">&#39;dates&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;games&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;scoringPlays&#39;</span><span class="p">]</span>
    <span class="n">home_team</span> <span class="o">=</span> <span class="n">r</span><span class="p">[</span><span class="s1">&#39;dates&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;games&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;teams&#39;</span><span class="p">][</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;team&#39;</span><span class="p">]</span>
    <span class="n">away_team</span> <span class="o">=</span> <span class="n">r</span><span class="p">[</span><span class="s1">&#39;dates&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;games&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;teams&#39;</span><span class="p">][</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;team&#39;</span><span class="p">]</span>

    <span class="n">scoring_plays</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="n">unorderedPlays</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">items</span><span class="p">:</span>
        <span class="n">unorderedPlays</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">v</span><span class="p">[</span><span class="s1">&#39;about&#39;</span><span class="p">][</span><span class="s1">&#39;endTime&#39;</span><span class="p">]</span> <span class="p">:</span> <span class="n">v</span><span class="p">})</span>

    <span class="n">sortedPlays</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">unorderedPlays</span><span class="p">):</span>
        <span class="n">sortedPlays</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">unorderedPlays</span><span class="p">[</span><span class="n">x</span><span class="p">])</span>

    <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;home&#39;</span><span class="p">:</span><span class="n">home_team</span><span class="p">,</span> <span class="s1">&#39;away&#39;</span><span class="p">:</span><span class="n">away_team</span><span class="p">,</span> <span class="s1">&#39;plays&#39;</span><span class="p">:</span><span class="n">sortedPlays</span><span class="p">}</span>

<span class="k">def</span> <span class="nf">game_highlights</span><span class="p">(</span><span class="n">gamePk</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get the highlight video links for a given game</span>

<span class="sd">    Example use:</span>

<span class="sd">    Print the highlight links for the most recent Phillies game</span>

<span class="sd">    print( statsapi.game_highlights( statsapi.last_game(143) ) )</span>

<span class="sd">    Output (truncated to only include the first two highlights):</span>

<span class="sd">    Hoskins&#39; RBI double (00:00:16)</span>
<span class="sd">    Rhys Hoskins belts a double off the left-center-field wall to score Bryce Harper and give the Phillies a 1-0 lead in the bottom of the 1st</span>
<span class="sd">    https://cuts.diamond.mlb.com/FORGE/2019/2019-04/28/b1117503-3df11d8d-6df0dd65-csvm-diamondx64-asset_1280x720_59_4000K.mp4</span>

<span class="sd">    Phanatic has birthday party (00:01:15)</span>
<span class="sd">    Kids and fellow mascots were at Citizens Bank Park to celebrate the Phillie Phanatic&#39;s birthday before the game against the Marlins</span>
<span class="sd">    https://cuts.diamond.mlb.com/FORGE/2019/2019-04/28/7d978385-db13f22d-f68c304f-csvm-diamondx64-asset_1280x720_59_4000K.mp4</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">sortedHighlights</span> <span class="o">=</span> <span class="n">game_highlight_data</span><span class="p">(</span><span class="n">gamePk</span><span class="p">)</span>
    
    <span class="n">highlights</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">sortedHighlights</span><span class="p">:</span>
        <span class="c1">#if sum(1 for t in a[&#39;keywordsAll&#39;] if t[&#39;type&#39;]==&#39;team_id&#39;) == 1:</span>
        <span class="c1">#    highlights += next(t[&#39;displayName&#39;] for t in a[&#39;keywordsAll&#39;] if t[&#39;type&#39;]==&#39;team_id&#39;) + &#39;\n&#39;</span>
        <span class="n">highlights</span> <span class="o">+=</span> <span class="s1">&#39;{} ({})</span><span class="se">\n</span><span class="s1">{}</span><span class="se">\n</span><span class="s1">{}</span><span class="se">\n\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">,</span><span class="n">a</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;headline&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">)),</span> <span class="n">a</span><span class="p">[</span><span class="s1">&#39;duration&#39;</span><span class="p">],</span> <span class="n">a</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;description&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">),</span> <span class="nb">next</span><span class="p">((</span><span class="n">s</span><span class="p">[</span><span class="s1">&#39;url&#39;</span><span class="p">]</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">a</span><span class="p">[</span><span class="s1">&#39;playbacks&#39;</span><span class="p">]</span> <span class="k">if</span> <span class="n">s</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;mp4Avc&#39;</span><span class="p">),</span><span class="nb">next</span><span class="p">((</span><span class="n">s</span><span class="p">[</span><span class="s1">&#39;url&#39;</span><span class="p">]</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">a</span><span class="p">[</span><span class="s1">&#39;playbacks&#39;</span><span class="p">]</span> <span class="k">if</span> <span class="n">s</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;FLASH_2500K_1280X720&#39;</span><span class="p">),</span><span class="s1">&#39;Link not found&#39;</span><span class="p">)))</span>

    <span class="k">return</span> <span class="n">highlights</span>

<span class="k">def</span> <span class="nf">game_highlight_data</span><span class="p">(</span><span class="n">gamePk</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get a list of highlight data for a given game</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">get</span><span class="p">(</span><span class="s1">&#39;schedule&#39;</span><span class="p">,{</span><span class="s1">&#39;sportId&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="s1">&#39;gamePk&#39;</span><span class="p">:</span><span class="n">gamePk</span><span class="p">,</span><span class="s1">&#39;hydrate&#39;</span><span class="p">:</span><span class="s1">&#39;game(content(highlights(highlights)))&#39;</span><span class="p">,</span><span class="s1">&#39;fields&#39;</span><span class="p">:</span><span class="s1">&#39;dates,date,games,gamePk,content,highlights,items,headline,type,value,title,description,duration,playbacks,name,url&#39;</span><span class="p">})</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">len</span><span class="p">(</span><span class="n">r</span><span class="p">[</span><span class="s1">&#39;dates&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;games&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;content&#39;</span><span class="p">][</span><span class="s1">&#39;highlights&#39;</span><span class="p">][</span><span class="s1">&#39;highlights&#39;</span><span class="p">][</span><span class="s1">&#39;items&#39;</span><span class="p">]):</span> <span class="k">return</span> <span class="s1">&#39;&#39;</span>
    <span class="n">items</span> <span class="o">=</span> <span class="n">r</span><span class="p">[</span><span class="s1">&#39;dates&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;games&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;content&#39;</span><span class="p">][</span><span class="s1">&#39;highlights&#39;</span><span class="p">][</span><span class="s1">&#39;highlights&#39;</span><span class="p">][</span><span class="s1">&#39;items&#39;</span><span class="p">]</span>

    <span class="n">highlights</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="n">unorderedHighlights</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="p">(</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">items</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="nb">dict</span><span class="p">)</span> <span class="ow">and</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;video&#39;</span><span class="p">):</span>
        <span class="n">unorderedHighlights</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">v</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span> <span class="p">:</span> <span class="n">v</span><span class="p">})</span>

    <span class="n">sortedHighlights</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">unorderedHighlights</span><span class="p">):</span>
        <span class="n">sortedHighlights</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">unorderedHighlights</span><span class="p">[</span><span class="n">x</span><span class="p">])</span>

    <span class="k">return</span> <span class="n">sortedHighlights</span>

<span class="k">def</span> <span class="nf">game_pace</span><span class="p">(</span><span class="n">season</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">year</span><span class="p">,</span><span class="n">sportId</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get a text-formatted list about pace of game for a given season (back to 1999).</span>

<span class="sd">    Example use:</span>

<span class="sd">    Print the pace of game stats for 2008, in order to determine the number and average time of extra inning games</span>

<span class="sd">    print(statsapi.game_pace(2008))</span>

<span class="sd">    Output:</span>

<span class="sd">    2008 Game Pace Stats</span>
<span class="sd">    hitsPer9Inn: 18.26</span>
<span class="sd">    runsPer9Inn: 9.38</span>
<span class="sd">    pitchesPer9Inn: 297.72</span>
<span class="sd">    plateAppearancesPer9Inn: 77.89</span>
<span class="sd">    hitsPerGame: 18.11</span>
<span class="sd">    runsPerGame: 9.3</span>
<span class="sd">    inningsPlayedPerGame: 8.96</span>
<span class="sd">    pitchesPerGame: 295.36</span>
<span class="sd">    pitchersPerGame: 7.83</span>
<span class="sd">    plateAppearancesPerGame: 77.28</span>
<span class="sd">    totalGameTime: 7086:06:00</span>
<span class="sd">    totalInningsPlayed: 21748.0</span>
<span class="sd">    totalHits: 43972</span>
<span class="sd">    totalRuns: 22585</span>
<span class="sd">    totalPlateAppearances: 187630</span>
<span class="sd">    totalPitchers: 19012</span>
<span class="sd">    totalPitches: 717131</span>
<span class="sd">    totalGames: 2428</span>
<span class="sd">    total9InnGames: 2428</span>
<span class="sd">    totalExtraInnGames: 208</span>
<span class="sd">    timePerGame: 02:55:07</span>
<span class="sd">    timePerPitch: 00:00:36</span>
<span class="sd">    timePerHit: 00:09:40</span>
<span class="sd">    timePerRun: 00:18:50</span>
<span class="sd">    timePerPlateAppearance: 00:02:16</span>
<span class="sd">    timePer9Inn: 02:56:30</span>
<span class="sd">    timePer77PlateAppearances: 02:54:29</span>
<span class="sd">    totalExtraInnTime: 775:10:00</span>
<span class="sd">    timePer7InnGameWithoutExtraInn: 00:00:00</span>
<span class="sd">    total9InnGamesCompletedEarly: 3</span>
<span class="sd">    total9InnGamesWithoutExtraInn: 2217</span>
<span class="sd">    total9InnGamesScheduled: 2428</span>
<span class="sd">    hitsPerRun: 1.947</span>
<span class="sd">    pitchesPerPitcher: 37.72</span>
<span class="sd">    total7InnGames: 3</span>
<span class="sd">    total9InnGames: 2217</span>
<span class="sd">    totalExtraInnGames: 208</span>
<span class="sd">    timePer7InnGame: 01:54:40</span>
<span class="sd">    timePer9InnGame: 02:50:38</span>
<span class="sd">    timePerExtraInnGame: 03:43:36</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">game_pace_data</span><span class="p">(</span><span class="n">season</span><span class="p">,</span><span class="n">sportId</span><span class="p">)</span>

    <span class="n">pace</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>

    <span class="n">pace</span> <span class="o">+=</span> <span class="s1">&#39;{} Game Pace Stats</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">season</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">r</span><span class="p">[</span><span class="s1">&#39;sports&#39;</span><span class="p">]:</span>
        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">s</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;season&#39;</span><span class="p">,</span><span class="s1">&#39;sport&#39;</span><span class="p">]:</span> <span class="k">continue</span>
            <span class="k">if</span> <span class="n">k</span> <span class="o">==</span> <span class="s1">&#39;prPortalCalculatedFields&#39;</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">s</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                    <span class="n">pace</span> <span class="o">+=</span> <span class="s1">&#39;{}: {}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">s</span><span class="p">[</span><span class="n">k</span><span class="p">][</span><span class="n">x</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span> <span class="n">pace</span> <span class="o">+=</span> <span class="s1">&#39;{}: {}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">k</span><span class="p">,</span><span class="n">s</span><span class="p">[</span><span class="n">k</span><span class="p">])</span>

    <span class="k">return</span> <span class="n">pace</span>

<span class="k">def</span> <span class="nf">game_pace_data</span><span class="p">(</span><span class="n">season</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">year</span><span class="p">,</span><span class="n">sportId</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get data about pace of game for a given season (back to 1999).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">params</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">if</span> <span class="n">season</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;season&#39;</span><span class="p">:</span><span class="n">season</span><span class="p">})</span>
    <span class="k">if</span> <span class="n">sportId</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;sportId&#39;</span><span class="p">:</span><span class="n">sportId</span><span class="p">})</span>

    <span class="n">r</span> <span class="o">=</span> <span class="n">get</span><span class="p">(</span><span class="s1">&#39;gamePace&#39;</span><span class="p">,</span><span class="n">params</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="nb">len</span><span class="p">(</span><span class="n">r</span><span class="p">[</span><span class="s1">&#39;sports&#39;</span><span class="p">]):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;No game pace info found for the {} season. Game pace data appears to begin in 1999.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">season</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">r</span>

<span class="k">def</span> <span class="nf">player_stats</span><span class="p">(</span><span class="n">personId</span><span class="p">,</span><span class="n">group</span><span class="o">=</span><span class="s1">&#39;[hitting,pitching,fielding]&#39;</span><span class="p">,</span><span class="nb">type</span><span class="o">=</span><span class="s1">&#39;season&#39;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get current season or career stats for a given player.</span>

<span class="sd">    For group use &#39;hitting&#39;, &#39;pitching&#39;, or &#39;fielding&#39;.</span>
<span class="sd">    Include multiple groups in the following format (this is a string, not actually a list):</span>
<span class="sd">    group=&#39;[hitting,pitching]&#39;</span>

<span class="sd">    For type use &#39;career&#39; or &#39;season&#39;.</span>
<span class="sd">    Include multiple types in the following format (this is a string, not actually a list):</span>
<span class="sd">    group=&#39;[career,season]&#39;</span>

<span class="sd">    Example use:</span>

<span class="sd">    Print Chase Utley&#39;s career hitting stats (using sports_players endpoint to look up person id)</span>

<span class="sd">    print( statsapi.player_stats(next(x[&#39;id&#39;] for x in statsapi.get(&#39;sports_players&#39;,{&#39;season&#39;:2008,&#39;gameType&#39;:&#39;W&#39;})[&#39;people&#39;] if x[&#39;fullName&#39;]==&#39;Chase Utley&#39;), &#39;hitting&#39;, &#39;career&#39;) )</span>

<span class="sd">    Output:</span>

<span class="sd">    Chase &quot;Silver Fox&quot; Utley, 2B (2003-2018)</span>

<span class="sd">    Career Hitting</span>
<span class="sd">    gamesPlayed: 1937</span>
<span class="sd">    groundOuts: 1792</span>
<span class="sd">    runs: 1103</span>
<span class="sd">    doubles: 411</span>
<span class="sd">    triples: 58</span>
<span class="sd">    homeRuns: 259</span>
<span class="sd">    strikeOuts: 1193</span>
<span class="sd">    baseOnBalls: 724</span>
<span class="sd">    intentionalWalks: 62</span>
<span class="sd">    hits: 1885</span>
<span class="sd">    hitByPitch: 204</span>
<span class="sd">    avg: .275</span>
<span class="sd">    atBats: 6857</span>
<span class="sd">    obp: .358</span>
<span class="sd">    slg: .465</span>
<span class="sd">    ops: .823</span>
<span class="sd">    caughtStealing: 22</span>
<span class="sd">    stolenBases: 154</span>
<span class="sd">    groundIntoDoublePlay: 93</span>
<span class="sd">    numberOfPitches: 31043</span>
<span class="sd">    plateAppearances: 7863</span>
<span class="sd">    totalBases: 3189</span>
<span class="sd">    rbi: 1025</span>
<span class="sd">    leftOnBase: 2780</span>
<span class="sd">    sacBunts: 6</span>
<span class="sd">    sacFlies: 72</span>
<span class="sd">    babip: .297</span>
<span class="sd">    groundOutsToAirouts: 0.84</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">player</span> <span class="o">=</span> <span class="n">player_stat_data</span><span class="p">(</span><span class="n">personId</span><span class="p">,</span><span class="n">group</span><span class="p">,</span><span class="nb">type</span><span class="p">)</span>

    <span class="n">stats</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="n">stats</span> <span class="o">+=</span> <span class="n">player</span><span class="p">[</span><span class="s1">&#39;first_name&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">player</span><span class="p">[</span><span class="s1">&#39;nickname&#39;</span><span class="p">]:</span> <span class="n">stats</span> <span class="o">+=</span> <span class="s1">&#39; &quot;{nickname}&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">player</span><span class="p">)</span>
    <span class="n">stats</span> <span class="o">+=</span> <span class="s1">&#39; {last_name}, {position} ({mlb_debut:.4}-&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">player</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">player</span><span class="p">[</span><span class="s1">&#39;active&#39;</span><span class="p">]:</span> <span class="n">stats</span> <span class="o">+=</span> <span class="s1">&#39;{last_played:.4}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">player</span><span class="p">)</span>
    <span class="n">stats</span> <span class="o">+=</span> <span class="s1">&#39;)</span><span class="se">\n\n</span><span class="s1">&#39;</span>

    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">player</span><span class="p">[</span><span class="s1">&#39;stats&#39;</span><span class="p">]:</span>
        <span class="n">stats</span> <span class="o">+=</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">:</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="o">+</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">:]</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;group&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">:</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="o">+</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;group&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">:]</span>
        <span class="k">if</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;stats&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;position&#39;</span><span class="p">):</span> <span class="n">stats</span> <span class="o">+=</span> <span class="s1">&#39; ({})&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="s1">&#39;position&#39;</span><span class="p">][</span><span class="s1">&#39;abbreviation&#39;</span><span class="p">])</span>
        <span class="n">stats</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;stats&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">y</span><span class="o">==</span><span class="s1">&#39;position&#39;</span><span class="p">:</span> <span class="k">continue</span>
            <span class="n">stats</span> <span class="o">+=</span> <span class="s1">&#39;{}: {}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">y</span><span class="p">,</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="n">y</span><span class="p">])</span>
        <span class="n">stats</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>

    <span class="k">return</span> <span class="n">stats</span>

<span class="k">def</span> <span class="nf">player_stat_data</span><span class="p">(</span><span class="n">personId</span><span class="p">,</span><span class="n">group</span><span class="o">=</span><span class="s1">&#39;[hitting,pitching,fielding]&#39;</span><span class="p">,</span><span class="nb">type</span><span class="o">=</span><span class="s1">&#39;season&#39;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get current season or career stat data for a given player.</span>

<span class="sd">    For group use &#39;hitting&#39;, &#39;pitching&#39;, or &#39;fielding&#39;.</span>
<span class="sd">    Include multiple groups in the following format (this is a string, not actually a list):</span>
<span class="sd">    group=&#39;[hitting,pitching]&#39;</span>

<span class="sd">    For type use &#39;career&#39; or &#39;season&#39;.</span>
<span class="sd">    Include multiple types in the following format (this is a string, not actually a list):</span>
<span class="sd">    group=&#39;[career,season]&#39;</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;personId&#39;</span><span class="p">:</span><span class="n">personId</span><span class="p">,</span><span class="s1">&#39;hydrate&#39;</span><span class="p">:</span><span class="s1">&#39;stats(group=&#39;</span><span class="o">+</span><span class="n">group</span><span class="o">+</span><span class="s1">&#39;,type=&#39;</span><span class="o">+</span><span class="nb">type</span><span class="o">+</span><span class="s1">&#39;),currentTeam&#39;</span><span class="p">}</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">get</span><span class="p">(</span><span class="s1">&#39;person&#39;</span><span class="p">,</span><span class="n">params</span><span class="p">)</span>

    <span class="n">stat_groups</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="n">player</span> <span class="o">=</span>   <span class="p">{</span>
                <span class="s1">&#39;id&#39;</span> <span class="p">:</span> <span class="n">r</span><span class="p">[</span><span class="s1">&#39;people&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;id&#39;</span><span class="p">],</span>
                <span class="s1">&#39;first_name&#39;</span> <span class="p">:</span> <span class="n">r</span><span class="p">[</span><span class="s1">&#39;people&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;useName&#39;</span><span class="p">],</span>
                <span class="s1">&#39;last_name&#39;</span> <span class="p">:</span> <span class="n">r</span><span class="p">[</span><span class="s1">&#39;people&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;lastName&#39;</span><span class="p">],</span>
                <span class="s1">&#39;active&#39;</span> <span class="p">:</span> <span class="n">r</span><span class="p">[</span><span class="s1">&#39;people&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;active&#39;</span><span class="p">],</span>
                <span class="s1">&#39;current_team&#39;</span> <span class="p">:</span> <span class="n">r</span><span class="p">[</span><span class="s1">&#39;people&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;currentTeam&#39;</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">],</span>
                <span class="s1">&#39;position&#39;</span> <span class="p">:</span> <span class="n">r</span><span class="p">[</span><span class="s1">&#39;people&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;primaryPosition&#39;</span><span class="p">][</span><span class="s1">&#39;abbreviation&#39;</span><span class="p">],</span>
                <span class="s1">&#39;nickname&#39;</span> <span class="p">:</span> <span class="n">r</span><span class="p">[</span><span class="s1">&#39;people&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;nickName&#39;</span><span class="p">),</span>
                <span class="s1">&#39;active&#39;</span> <span class="p">:</span> <span class="n">r</span><span class="p">[</span><span class="s1">&#39;people&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;active&#39;</span><span class="p">],</span>
                <span class="s1">&#39;last_played&#39;</span> <span class="p">:</span> <span class="n">r</span><span class="p">[</span><span class="s1">&#39;people&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;lastPlayedDate&#39;</span><span class="p">),</span>
                <span class="s1">&#39;mlb_debut&#39;</span> <span class="p">:</span> <span class="n">r</span><span class="p">[</span><span class="s1">&#39;people&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;mlbDebutDate&#39;</span><span class="p">],</span>
                <span class="s1">&#39;bat_side&#39;</span> <span class="p">:</span> <span class="n">r</span><span class="p">[</span><span class="s1">&#39;people&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;batSide&#39;</span><span class="p">][</span><span class="s1">&#39;description&#39;</span><span class="p">],</span>
                <span class="s1">&#39;pitch_hand&#39;</span> <span class="p">:</span> <span class="n">r</span><span class="p">[</span><span class="s1">&#39;people&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;pitchHand&#39;</span><span class="p">][</span><span class="s1">&#39;description&#39;</span><span class="p">]</span>
            <span class="p">}</span>

    <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">r</span><span class="p">[</span><span class="s1">&#39;people&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;stats&#39;</span><span class="p">,[]):</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="s1">&#39;splits&#39;</span><span class="p">])):</span>
            <span class="n">stat_group</span> <span class="o">=</span>    <span class="p">{</span>
                                <span class="s1">&#39;type&#39;</span> <span class="p">:</span> <span class="n">s</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">][</span><span class="s1">&#39;displayName&#39;</span><span class="p">],</span>
                                <span class="s1">&#39;group&#39;</span> <span class="p">:</span> <span class="n">s</span><span class="p">[</span><span class="s1">&#39;group&#39;</span><span class="p">][</span><span class="s1">&#39;displayName&#39;</span><span class="p">],</span>
                                <span class="s1">&#39;stats&#39;</span> <span class="p">:</span> <span class="n">s</span><span class="p">[</span><span class="s1">&#39;splits&#39;</span><span class="p">][</span><span class="n">i</span><span class="p">][</span><span class="s1">&#39;stat&#39;</span><span class="p">]</span>
                            <span class="p">}</span>
            <span class="n">stat_groups</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">stat_group</span><span class="p">)</span>

    <span class="n">player</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;stats&#39;</span><span class="p">:</span><span class="n">stat_groups</span><span class="p">})</span>

    <span class="k">return</span> <span class="n">player</span>

<span class="k">def</span> <span class="nf">lookup_player</span><span class="p">(</span><span class="n">lookup_value</span><span class="p">,</span><span class="n">gameType</span><span class="o">=</span><span class="s1">&#39;R&#39;</span><span class="p">,</span><span class="n">season</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">year</span><span class="p">,</span><span class="n">sportId</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get data about players based on first, last, or full name.</span>

<span class="sd">    Example use:</span>

<span class="sd">    Look up player id for Aaron Nola</span>
<span class="sd">    Note: if using a full last name as the lookup_value and that last name could be part of another player&#39;s lastname,</span>
<span class="sd">    e.g. &#39;Nola&#39; is part of &#39;Nolan&#39;, include a comma on the end of the last name in order to match on the &#39;initLastName&#39;</span>
<span class="sd">    field which looks like &#39;Nola, A&#39;</span>

<span class="sd">    player = statsapi.lookup_player(&#39;nola,&#39;)</span>
<span class="sd">    print(player[0][&#39;id&#39;]) #assume only 1 record returned for demo purposes</span>

<span class="sd">    Output:</span>

<span class="sd">    605400</span>


<span class="sd">    Print full name and position for all players named Harper</span>

<span class="sd">    for player in statsapi.lookup_player(&#39;Harper&#39;):</span>
<span class="sd">        print(&#39;Full name: {}, Position: {}&#39;.format(player[&#39;fullName&#39;], player[&#39;primaryPosition&#39;][&#39;abbreviation&#39;]))</span>

<span class="sd">    Output:</span>

<span class="sd">    Full name: Bryce Harper, Position: RF</span>
<span class="sd">    Full name: Ryne Harper, Position: P</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;gameType&#39;</span><span class="p">:</span><span class="n">gameType</span><span class="p">,</span> <span class="s1">&#39;season&#39;</span><span class="p">:</span><span class="n">season</span><span class="p">,</span> <span class="s1">&#39;sportId&#39;</span><span class="p">:</span><span class="n">sportId</span><span class="p">,</span> <span class="s1">&#39;fields&#39;</span><span class="p">:</span><span class="s1">&#39;people,id,fullName,firstName,lastName,primaryNumber,currentTeam,id,primaryPosition,code,abbreviation,useName,boxscoreName,nickName,mlbDebutDate,nameFirstLast,firstLastName,lastFirstName,lastInitName,initLastName,fullFMLName,fullLFMName&#39;</span><span class="p">}</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">get</span><span class="p">(</span><span class="s1">&#39;sports_players&#39;</span><span class="p">,</span><span class="n">params</span><span class="p">)</span>

    <span class="n">players</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">player</span> <span class="ow">in</span> <span class="n">r</span><span class="p">[</span><span class="s1">&#39;people&#39;</span><span class="p">]:</span>
        <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">player</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">lookup_value</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
                <span class="n">players</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">player</span><span class="p">)</span>
                <span class="k">break</span>

    <span class="k">return</span> <span class="n">players</span>

<span class="k">def</span> <span class="nf">lookup_team</span><span class="p">(</span><span class="n">lookup_value</span><span class="p">,</span><span class="n">activeStatus</span><span class="o">=</span><span class="s1">&#39;Y&#39;</span><span class="p">,</span><span class="n">season</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">year</span><span class="p">,</span><span class="n">sportIds</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get a info about a team or teams based on the team name, city, abbreviation, or file code.</span>

<span class="sd">    Values for activeStatus: Y, N, B (Both)</span>

<span class="sd">    Return value will be a list of teams matching the lookup_value. </span>
<span class="sd">    If no matches are found, an empty list will be returned.</span>

<span class="sd">    Example use:</span>

<span class="sd">    Get teamId for team with code cwa</span>

<span class="sd">    team = statsapi.lookup_team(&#39;chn&#39;)</span>
<span class="sd">    print(team[0][&#39;id&#39;]) #assume only 1 record returned for demo purposes</span>

<span class="sd">    Output:</span>

<span class="sd">    112</span>


<span class="sd">    Get info about all teams from NY</span>

<span class="sd">    for team in statsapi.lookup_team(&#39;ny&#39;):</span>
<span class="sd">        print(team)</span>

<span class="sd">    Output:</span>

<span class="sd">    {&#39;id&#39;: 147, &#39;name&#39;: &#39;New York Yankees&#39;, &#39;teamCode&#39;: &#39;nya&#39;, &#39;fileCode&#39;: &#39;nyy&#39;, &#39;teamName&#39;: &#39;Yankees&#39;, &#39;locationName&#39;: &#39;Bronx&#39;, &#39;shortName&#39;: &#39;NY Yankees&#39;}</span>
<span class="sd">    {&#39;id&#39;: 121, &#39;name&#39;: &#39;New York Mets&#39;, &#39;teamCode&#39;: &#39;nyn&#39;, &#39;fileCode&#39;: &#39;nym&#39;, &#39;teamName&#39;: &#39;Mets&#39;, &#39;locationName&#39;: &#39;New York&#39;, &#39;shortName&#39;: &#39;NY Mets&#39;}</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;activeStatus&#39;</span><span class="p">:</span><span class="n">activeStatus</span><span class="p">,</span> <span class="s1">&#39;season&#39;</span><span class="p">:</span><span class="n">season</span><span class="p">,</span> <span class="s1">&#39;sportIds&#39;</span><span class="p">:</span><span class="n">sportIds</span><span class="p">,</span> <span class="s1">&#39;fields&#39;</span><span class="p">:</span><span class="s1">&#39;teams,id,name,teamCode,fileCode,teamName,locationName,shortName&#39;</span><span class="p">}</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">get</span><span class="p">(</span><span class="s1">&#39;teams&#39;</span><span class="p">,</span><span class="n">params</span><span class="p">)</span>

    <span class="n">teams</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">team</span> <span class="ow">in</span> <span class="n">r</span><span class="p">[</span><span class="s1">&#39;teams&#39;</span><span class="p">]:</span>
        <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">team</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">lookup_value</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
                <span class="n">teams</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">team</span><span class="p">)</span>
                <span class="k">break</span>
    <span class="k">return</span> <span class="n">teams</span>

<span class="k">def</span> <span class="nf">team_leaders</span><span class="p">(</span><span class="n">teamId</span><span class="p">,</span><span class="n">leaderCategories</span><span class="p">,</span><span class="n">season</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">year</span><span class="p">,</span><span class="n">leaderGameTypes</span><span class="o">=</span><span class="s1">&#39;R&#39;</span><span class="p">,</span><span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get stat leaders for a given team.</span>

<span class="sd">    Get a list of available leaderCategories by calling the meta endpoint with type=leagueLeaderTypes</span>

<span class="sd">    Example use:</span>

<span class="sd">    Print the top 5 team leaders in walks for the 2008 Phillies</span>

<span class="sd">    print(statsapi.team_leaders(143,&#39;walks&#39;,limit=5,season=2008))</span>

<span class="sd">    Output:</span>

<span class="sd">    Rank Name                 Value</span>
<span class="sd">     1   Pat Burrell           102</span>
<span class="sd">     2   Ryan Howard           81</span>
<span class="sd">     3   Chase Utley           64</span>
<span class="sd">     4   Jimmy Rollins         58</span>
<span class="sd">     5   Jayson Werth          57</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">lines</span> <span class="o">=</span> <span class="n">team_leader_data</span><span class="p">(</span><span class="n">teamId</span><span class="p">,</span><span class="n">leaderCategories</span><span class="p">,</span><span class="n">season</span><span class="p">,</span><span class="n">leaderGameTypes</span><span class="p">,</span><span class="n">limit</span><span class="p">)</span>

    <span class="n">leaders</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>

    <span class="n">leaders</span> <span class="o">+=</span> <span class="s1">&#39;{:&lt;4} {:&lt;20} {:&lt;5}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">*</span><span class="p">[</span><span class="s1">&#39;Rank&#39;</span><span class="p">,</span><span class="s1">&#39;Name&#39;</span><span class="p">,</span><span class="s1">&#39;Value&#39;</span><span class="p">])</span>
    <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
        <span class="n">leaders</span> <span class="o">+=</span> <span class="s1">&#39;{:^4} {:&lt;20} {:^5}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">*</span><span class="n">a</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">leaders</span>

<span class="k">def</span> <span class="nf">team_leader_data</span><span class="p">(</span><span class="n">teamId</span><span class="p">,</span><span class="n">leaderCategories</span><span class="p">,</span><span class="n">season</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">year</span><span class="p">,</span><span class="n">leaderGameTypes</span><span class="o">=</span><span class="s1">&#39;R&#39;</span><span class="p">,</span><span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get stat leaders for a given team.</span>

<span class="sd">    Get a list of available leaderCategories by calling the meta endpoint with type=leagueLeaderTypes</span>

<span class="sd">    Example use:</span>

<span class="sd">    Print the top 5 team leaders in walks for the 2008 Phillies</span>

<span class="sd">    print(statsapi.team_leaders(143,&#39;walks&#39;,limit=5,season=2008))</span>

<span class="sd">    Output:</span>

<span class="sd">    Rank Name                 Value</span>
<span class="sd">     1   Pat Burrell           102</span>
<span class="sd">     2   Ryan Howard           81</span>
<span class="sd">     3   Chase Utley           64</span>
<span class="sd">     4   Jimmy Rollins         58</span>
<span class="sd">     5   Jayson Werth          57</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;leaderCategories&#39;</span><span class="p">:</span><span class="n">leaderCategories</span><span class="p">,</span><span class="s1">&#39;season&#39;</span><span class="p">:</span><span class="n">season</span><span class="p">,</span><span class="s1">&#39;teamId&#39;</span><span class="p">:</span><span class="n">teamId</span><span class="p">,</span><span class="s1">&#39;leaderGameTypes&#39;</span><span class="p">:</span><span class="n">leaderGameTypes</span><span class="p">,</span><span class="s1">&#39;limit&#39;</span><span class="p">:</span><span class="n">limit</span><span class="p">}</span>
    <span class="n">params</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;fields&#39;</span> <span class="p">:</span> <span class="s1">&#39;teamLeaders,leaders,rank,value,person,fullName&#39;</span><span class="p">})</span>

    <span class="n">r</span> <span class="o">=</span> <span class="n">get</span><span class="p">(</span><span class="s1">&#39;team_leaders&#39;</span><span class="p">,</span><span class="n">params</span><span class="p">)</span>

    <span class="n">lines</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">player</span> <span class="ow">in</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">r</span><span class="p">[</span><span class="s1">&#39;teamLeaders&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;leaders&#39;</span><span class="p">]]:</span>
        <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">player</span><span class="p">[</span><span class="s1">&#39;rank&#39;</span><span class="p">],</span><span class="n">player</span><span class="p">[</span><span class="s1">&#39;person&#39;</span><span class="p">][</span><span class="s1">&#39;fullName&#39;</span><span class="p">],</span><span class="n">player</span><span class="p">[</span><span class="s1">&#39;value&#39;</span><span class="p">]])</span>

    <span class="k">return</span> <span class="n">lines</span>

<span class="k">def</span> <span class="nf">league_leaders</span><span class="p">(</span><span class="n">leaderCategories</span><span class="p">,</span><span class="n">season</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span><span class="n">statGroup</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">leagueId</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">gameTypes</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">playerPool</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">sportId</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">statType</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;NOTE: StatsAPI does not appear to be supporting the statType=statsSingleSeason at this time,</span>
<span class="sd">    despite this appearing in the documentation as a best practice for all time leaders.</span>
<span class="sd">    Be sure to specify a season or other statType such as &#39;career&#39;, or the default will be current season leaders.</span>
<span class="sd">    </span>
<span class="sd">    Get stat leaders overall or for a given league (103=AL, 104=NL).</span>

<span class="sd">    Get a list of available leaderCategories by calling the meta endpoint with type=leagueLeaderTypes</span>

<span class="sd">    Get a list of available statGroups by calling the meta endpoint with type=statGroups</span>
<span class="sd">    Note that excluding statGroup may return unexpected results. For example leaderCategories=&#39;earnedRunAverage&#39;</span>
<span class="sd">    will return different results with statGroup=&#39;pitching&#39; and statGroup=&#39;catching&#39;.</span>

<span class="sd">    Get a list of available gameTypes by calling the meta endpoint with type=gameTypes</span>
<span class="sd">    </span>
<span class="sd">    Get a list of available statTypes by calling the meta endpoint with type=statTypes</span>

<span class="sd">    Available playerPool values: [&#39;all&#39;,&#39;qualified&#39;,&#39;rookies&#39;] (default is qualified)</span>

<span class="sd">    Example use:</span>

<span class="sd">    Print a list of the top 10 pitchers by career earned run average</span>

<span class="sd">    print( statsapi.league_leaders(&#39;earnedRunAverage&#39;,statGroup=&#39;pitching&#39;,limit=10,statType=&#39;career&#39;) )</span>

<span class="sd">    Output:</span>

<span class="sd">    Rank Name                 Team                    Value</span>
<span class="sd">     1   Al Spalding          Chicago White Stockings 1.78</span>
<span class="sd">     2   Ed Walsh             Chicago White Sox       1.82</span>
<span class="sd">     3   Addie Joss           Cleveland Naps          1.89</span>
<span class="sd">     4   Jim Devlin           Louisville Grays        1.89</span>
<span class="sd">     5   Craig Kimbrel        Atlanta Braves          2.00</span>
<span class="sd">     5   Laurie Reis          Chicago White Stockings 2.00</span>
<span class="sd">     7   Jack Pfiester        Pittsburgh Pirates      2.02</span>
<span class="sd">     8   Joe Wood             Cleveland Indians       2.03</span>
<span class="sd">     9   Christy Mathewson    New York Giants         2.13</span>
<span class="sd">     10  Walter Johnson       Washington Senators     2.17</span>


<span class="sd">    Print a list of the top 5 batters in 2018 by OPS</span>

<span class="sd">    print( statsapi.league_leaders(&#39;onBasePlusSlugging&#39;,statGroup=&#39;hitting&#39;,limit=5,season=2018) )</span>

<span class="sd">    Output:</span>

<span class="sd">    Rank Name                 Team                    Value</span>
<span class="sd">     1   Mike Trout           Los Angeles Angels      1.088</span>
<span class="sd">     2   Mookie Betts         Boston Red Sox          1.078</span>
<span class="sd">     3   J.D. Martinez        Boston Red Sox          1.031</span>
<span class="sd">     4   Christian Yelich     Milwaukee Brewers       1.000</span>
<span class="sd">     5   Jose Ramirez         Cleveland Indians       .939</span>


<span class="sd">    Print a list of the 10 American League players with the most errors in 2017</span>

<span class="sd">    print( statsapi.league_leaders(&#39;errors&#39;,statGroup=&#39;fielding&#39;,limit=10,season=2017,leagueId=103) )</span>

<span class="sd">    Output:</span>

<span class="sd">    Rank Name                 Team                   Value</span>
<span class="sd">     1   Tim Anderson         Chicago White Sox       28</span>
<span class="sd">     2   Rougned Odor         Texas Rangers           19</span>
<span class="sd">     3   Tim Beckham          Baltimore Orioles       18</span>
<span class="sd">     3   Nicholas Castellanos Detroit Tigers          18</span>
<span class="sd">     3   Jorge Polanco        Minnesota Twins         18</span>
<span class="sd">     6   Elvis Andrus         Texas Rangers           17</span>
<span class="sd">     6   Xander Bogaerts      Boston Red Sox          17</span>
<span class="sd">     6   Jean Segura          Seattle Mariners        17</span>
<span class="sd">     9   Alcides Escobar      Kansas City Royals      15</span>
<span class="sd">     9   Jonathan Schoop      Baltimore Orioles       15</span>


<span class="sd">    Print a list of top 10 all time career leader in triples</span>

<span class="sd">    print( statsapi.league_leaders(&#39;triples&#39;,statGroup=&#39;hitting&#39;,limit=10,sportId=1,statType=&#39;career&#39;) )</span>

<span class="sd">    Rank Name                 Team                    Value</span>
<span class="sd">     1   Sam Crawford         Detroit Tigers           309</span>
<span class="sd">     2   Ty Cobb              Philadelphia Athletics   297</span>
<span class="sd">     3   Tristram Speaker     Washington Senators      222</span>
<span class="sd">     4   Paul Waner           New York Yankees         191</span>
<span class="sd">     5   Bid McPhee           Cincinnati Reds          188</span>
<span class="sd">     6   Eddie Collins        Chicago White Sox        187</span>
<span class="sd">     7   Sam Rice             Washington Senators      184</span>
<span class="sd">     8   Rabbit Maranville    Boston Braves            177</span>
<span class="sd">     8   Stan Musial          St. Louis Cardinals      177</span>
<span class="sd">     10  Goose Goslin         Washington Senators      173</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">lines</span> <span class="o">=</span> <span class="n">league_leader_data</span><span class="p">(</span><span class="n">leaderCategories</span> <span class="p">,</span><span class="n">season</span><span class="p">,</span> <span class="n">limit</span><span class="p">,</span> <span class="n">statGroup</span><span class="p">,</span> <span class="n">leagueId</span><span class="p">,</span> <span class="n">gameTypes</span><span class="p">,</span> <span class="n">playerPool</span><span class="p">,</span> <span class="n">sportId</span><span class="p">,</span> <span class="n">statType</span><span class="p">)</span>

    <span class="n">leaders</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>

    <span class="n">leaders</span> <span class="o">+=</span> <span class="s1">&#39;{:&lt;4} {:&lt;20} {:&lt;23} {:&lt;5}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">*</span><span class="p">[</span><span class="s1">&#39;Rank&#39;</span><span class="p">,</span><span class="s1">&#39;Name&#39;</span><span class="p">,</span><span class="s1">&#39;Team&#39;</span><span class="p">,</span><span class="s1">&#39;Value&#39;</span><span class="p">])</span>
    <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
        <span class="n">leaders</span> <span class="o">+=</span> <span class="s1">&#39;{:^4} {:&lt;20} {:&lt;23} {:^5}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">*</span><span class="n">a</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">leaders</span>

<span class="k">def</span> <span class="nf">league_leader_data</span><span class="p">(</span><span class="n">leaderCategories</span><span class="p">,</span><span class="n">season</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span><span class="n">statGroup</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">leagueId</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">gameTypes</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">playerPool</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">sportId</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">statType</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;NOTE: StatsAPI does not appear to be supporting the statType=statsSingleSeason at this time,</span>
<span class="sd">    despite this appearing in the documentation as a best practice for all time leaders.</span>
<span class="sd">    Be sure to specify a season or statType such as &#39;career&#39;, or you will get current season leaders by default.</span>
<span class="sd">    </span>
<span class="sd">    Get a list of stat leaders overall or for a given league (103=AL, 104=NL).</span>

<span class="sd">    Get a list of available leaderCategories by calling the meta endpoint with type=leagueLeaderTypes</span>

<span class="sd">    Get a list of available statGroups by calling the meta endpoint with type=statGroups</span>
<span class="sd">    Note that excluding statGroup may return unexpected results. For example leaderCategories=&#39;earnedRunAverage&#39;</span>
<span class="sd">    will return different results with statGroup=&#39;pitching&#39; and statGroup=&#39;catching&#39;.</span>

<span class="sd">    Get a list of available gameTypes by calling the meta endpoint with type=gameTypes</span>
<span class="sd">    </span>
<span class="sd">    Get a list of available statTypes by calling the meta endpoint with type=statTypes</span>

<span class="sd">    Available playerPool values: [&#39;all&#39;,&#39;qualified&#39;,&#39;rookies&#39;] (default is qualified)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;leaderCategories&#39;</span><span class="p">:</span><span class="n">leaderCategories</span><span class="p">,</span><span class="s1">&#39;sportId&#39;</span><span class="p">:</span><span class="n">sportId</span><span class="p">,</span><span class="s1">&#39;limit&#39;</span><span class="p">:</span><span class="n">limit</span><span class="p">}</span>
    <span class="k">if</span> <span class="n">season</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;season&#39;</span><span class="p">:</span><span class="n">season</span><span class="p">})</span>
    <span class="k">if</span> <span class="n">statType</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;statType&#39;</span><span class="p">:</span><span class="n">statType</span><span class="p">})</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">season</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">statType</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;season&#39;</span><span class="p">:</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">year</span><span class="p">})</span> <span class="c1"># default season to current year if no season or statType provided</span>
    <span class="k">if</span> <span class="n">statGroup</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">statGroup</span> <span class="o">==</span> <span class="s1">&#39;batting&#39;</span><span class="p">:</span> <span class="n">statGroup</span> <span class="o">=</span> <span class="s1">&#39;hitting&#39;</span>
        <span class="n">params</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;statGroup&#39;</span><span class="p">:</span><span class="n">statGroup</span><span class="p">})</span>
    <span class="k">if</span> <span class="n">gameTypes</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;leaderGameTypes&#39;</span><span class="p">:</span><span class="n">gameTypes</span><span class="p">})</span>
    <span class="k">if</span> <span class="n">leagueId</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;leagueId&#39;</span><span class="p">:</span><span class="n">leagueId</span><span class="p">})</span>
    <span class="k">if</span> <span class="n">playerPool</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;playerPool&#39;</span><span class="p">:</span><span class="n">playerPool</span><span class="p">})</span>
    <span class="n">params</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;fields&#39;</span> <span class="p">:</span> <span class="s1">&#39;leagueLeaders,leaders,rank,value,team,name,league,name,person,fullName&#39;</span><span class="p">})</span>

    <span class="n">r</span> <span class="o">=</span> <span class="n">get</span><span class="p">(</span><span class="s1">&#39;stats_leaders&#39;</span><span class="p">,</span><span class="n">params</span><span class="p">)</span>

    <span class="n">lines</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">player</span> <span class="ow">in</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">r</span><span class="p">[</span><span class="s1">&#39;leagueLeaders&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;leaders&#39;</span><span class="p">]]:</span>
        <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">player</span><span class="p">[</span><span class="s1">&#39;rank&#39;</span><span class="p">],</span><span class="n">player</span><span class="p">[</span><span class="s1">&#39;person&#39;</span><span class="p">][</span><span class="s1">&#39;fullName&#39;</span><span class="p">],</span><span class="n">player</span><span class="p">[</span><span class="s1">&#39;team&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">),</span><span class="n">player</span><span class="p">[</span><span class="s1">&#39;value&#39;</span><span class="p">]])</span>

    <span class="k">return</span> <span class="n">lines</span>

<span class="k">def</span> <span class="nf">standings</span><span class="p">(</span><span class="n">leagueId</span><span class="o">=</span><span class="s1">&#39;103,104&#39;</span><span class="p">,</span><span class="n">division</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">,</span><span class="n">include_wildcard</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span><span class="n">season</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">standingsTypes</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">date</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get formatted standings for a given league/division and season.</span>

<span class="sd">    Using both leagueId and divisionId is fine, as long as the division belongs to the specified league</span>

<span class="sd">    Return value will be a formatted table including division and wildcard standings, unless include_wildcard=False</span>
<span class="sd">    </span>
<span class="sd">    Format for date = &#39;MM/DD/YYYY&#39;, e.g. &#39;04/24/2019&#39;</span>

<span class="sd">    Example use:</span>

<span class="sd">    Print National League standings from 09/27/2008</span>
<span class="sd">    </span>
<span class="sd">    print( statsapi.standings(leagueId=104,date=&#39;09/27/2008&#39;) )</span>

<span class="sd">    Output:</span>

<span class="sd">    National League Central</span>
<span class="sd">    Rank Team                   W   L   GB  (E#) WC Rank WC GB (E#)</span>
<span class="sd">     1   Chicago Cubs          97  63   -    -      -      -    -</span>
<span class="sd">     2   Milwaukee Brewers     89  72  8.5   E      1      -    -</span>
<span class="sd">     3   Houston Astros        85  75  12.0  E      3     3.5   E</span>
<span class="sd">     4   St. Louis Cardinals   85  76  12.5  E      4     4.0   E</span>
<span class="sd">     5   Cincinnati Reds       74  87  23.5  E      7    15.0   E</span>
<span class="sd">     6   Pittsburgh Pirates    66  95  31.5  E     11    23.0   E</span>

<span class="sd">    National League West</span>
<span class="sd">    Rank Team                   W   L   GB  (E#) WC Rank WC GB (E#)</span>
<span class="sd">     1   Los Angeles Dodgers   84  77   -    -      -      -    -</span>
<span class="sd">     2   Arizona Diamondbacks  81  80  3.0   E      6     8.0   E</span>
<span class="sd">     3   Colorado Rockies      74  87  10.0  E      8    15.0   E</span>
<span class="sd">     4   San Francisco Giants  71  90  13.0  E     10    18.0   E</span>
<span class="sd">     5   San Diego Padres      63  98  21.0  E     12    26.0   E</span>

<span class="sd">    National League East</span>
<span class="sd">    Rank Team                   W   L   GB  (E#) WC Rank WC GB (E#)</span>
<span class="sd">     1   Philadelphia Phillies 91  70   -    -      -      -    -</span>
<span class="sd">     2   New York Mets         89  72  2.0   E      2      -    -</span>
<span class="sd">     3   Florida Marlins       83  77  7.5   E      5     5.5   E</span>
<span class="sd">     4   Atlanta Braves        72  89  19.0  E      9    17.0   E</span>
<span class="sd">     5   Washington Nationals  59  101 31.5  E     13    29.5   E</span>
<span class="sd">    </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">divisions</span> <span class="o">=</span> <span class="n">standings_data</span><span class="p">(</span><span class="n">leagueId</span><span class="p">,</span> <span class="n">division</span><span class="p">,</span> <span class="n">include_wildcard</span><span class="p">,</span> <span class="n">season</span><span class="p">,</span> <span class="n">standingsTypes</span><span class="p">,</span> <span class="n">date</span><span class="p">)</span>

    <span class="n">standings</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>

    <span class="k">for</span> <span class="n">div_id</span><span class="p">,</span><span class="n">div</span> <span class="ow">in</span> <span class="n">divisions</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">standings</span> <span class="o">+=</span> <span class="n">div</span><span class="p">[</span><span class="s1">&#39;div_name&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="k">if</span> <span class="n">include_wildcard</span><span class="p">:</span>
            <span class="n">standings</span> <span class="o">+=</span> <span class="s1">&#39;{:^4} {:&lt;21} {:^3} {:^3} {:^4} {:^4} {:^7} {:^5} {:^4}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">*</span><span class="p">[</span><span class="s1">&#39;Rank&#39;</span><span class="p">,</span><span class="s1">&#39;Team&#39;</span><span class="p">,</span><span class="s1">&#39;W&#39;</span><span class="p">,</span><span class="s1">&#39;L&#39;</span><span class="p">,</span><span class="s1">&#39;GB&#39;</span><span class="p">,</span><span class="s1">&#39;(E#)&#39;</span><span class="p">,</span><span class="s1">&#39;WC Rank&#39;</span><span class="p">,</span><span class="s1">&#39;WC GB&#39;</span><span class="p">,</span><span class="s1">&#39;(E#)&#39;</span><span class="p">])</span>
            <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">div</span><span class="p">[</span><span class="s1">&#39;teams&#39;</span><span class="p">]:</span>
                <span class="n">standings</span> <span class="o">+=</span> <span class="s1">&#39;{div_rank:^4} {name:&lt;21} {w:^3} {l:^3} {gb:^4} {elim_num:^4} {wc_rank:^7} {wc_gb:^5} {wc_elim_num:^4}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">t</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">standings</span> <span class="o">+=</span> <span class="s1">&#39;{:^4} {:&lt;21} {:^3} {:^3} {:^4} {:^4}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">*</span><span class="p">[</span><span class="s1">&#39;Rank&#39;</span><span class="p">,</span><span class="s1">&#39;Team&#39;</span><span class="p">,</span><span class="s1">&#39;W&#39;</span><span class="p">,</span><span class="s1">&#39;L&#39;</span><span class="p">,</span><span class="s1">&#39;GB&#39;</span><span class="p">,</span><span class="s1">&#39;(E#)&#39;</span><span class="p">])</span>
            <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">div</span><span class="p">[</span><span class="s1">&#39;teams&#39;</span><span class="p">]:</span>
                <span class="n">standings</span> <span class="o">+=</span> <span class="s1">&#39;{div_rank:^4} {name:&lt;21} {w:^3} {l:^3} {gb:^4} {elim_num:^4}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">t</span><span class="p">)</span>
        <span class="n">standings</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>

    <span class="k">return</span> <span class="n">standings</span>

<span class="k">def</span> <span class="nf">standings_data</span><span class="p">(</span><span class="n">leagueId</span><span class="o">=</span><span class="s1">&#39;103,104&#39;</span><span class="p">,</span><span class="n">division</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">,</span><span class="n">include_wildcard</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span><span class="n">season</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">standingsTypes</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">date</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get a dict of standings data for a given league/division and season.</span>

<span class="sd">    Using both leagueId and divisionId is fine, as long as the division belongs to the specified league</span>

<span class="sd">    Return value will be a dict including division and wildcard standings, unless include_wildcard=False</span>
<span class="sd">    </span>
<span class="sd">    Format for date = &#39;MM/DD/YYYY&#39;, e.g. &#39;04/24/2019&#39;</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;leagueId&#39;</span><span class="p">:</span><span class="n">leagueId</span><span class="p">}</span>
    <span class="k">if</span> <span class="n">date</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;date&#39;</span><span class="p">:</span><span class="n">date</span><span class="p">})</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">season</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">date</span><span class="p">:</span>
            <span class="n">season</span> <span class="o">=</span> <span class="n">date</span><span class="p">[</span><span class="o">-</span><span class="mi">4</span><span class="p">:]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">season</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">year</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">standingsTypes</span><span class="p">:</span> <span class="n">standingsTypes</span> <span class="o">=</span> <span class="s1">&#39;regularSeason&#39;</span>
    <span class="n">params</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;season&#39;</span><span class="p">:</span><span class="n">season</span><span class="p">,</span><span class="s1">&#39;standingsTypes&#39;</span><span class="p">:</span><span class="n">standingsTypes</span><span class="p">})</span>
    <span class="n">params</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;hydrate&#39;</span><span class="p">:</span><span class="s1">&#39;team(division)&#39;</span><span class="p">,</span><span class="s1">&#39;fields&#39;</span><span class="p">:</span><span class="s1">&#39;records,standingsType,teamRecords,team,name,division,id,nameShort,abbreviation,divisionRank,gamesBack,wildCardRank,wildCardGamesBack,wildCardEliminationNumber,divisionGamesBack,clinched,eliminationNumber,winningPercentage,type,wins,losses&#39;</span><span class="p">})</span>

    <span class="n">r</span> <span class="o">=</span> <span class="n">get</span><span class="p">(</span><span class="s1">&#39;standings&#39;</span><span class="p">,</span><span class="n">params</span><span class="p">)</span>

    <span class="n">divisions</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">r</span><span class="p">[</span><span class="s1">&#39;records&#39;</span><span class="p">]:</span>
        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">(</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">y</span><span class="p">[</span><span class="s1">&#39;teamRecords&#39;</span><span class="p">]</span> <span class="k">if</span> <span class="n">division</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">==</span><span class="s1">&#39;all&#39;</span> <span class="ow">or</span> <span class="n">division</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">==</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;team&#39;</span><span class="p">][</span><span class="s1">&#39;division&#39;</span><span class="p">][</span><span class="s1">&#39;abbreviation&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()):</span>
            <span class="k">if</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;team&#39;</span><span class="p">][</span><span class="s1">&#39;division&#39;</span><span class="p">][</span><span class="s1">&#39;id&#39;</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">divisions</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="n">divisions</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;team&#39;</span><span class="p">][</span><span class="s1">&#39;division&#39;</span><span class="p">][</span><span class="s1">&#39;id&#39;</span><span class="p">]:{</span><span class="s1">&#39;div_name&#39;</span><span class="p">:</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;team&#39;</span><span class="p">][</span><span class="s1">&#39;division&#39;</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">],</span><span class="s1">&#39;teams&#39;</span><span class="p">:[]}})</span>
            <span class="n">team</span> <span class="o">=</span>  <span class="p">{</span>
                        <span class="s1">&#39;name&#39;</span> <span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;team&#39;</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">],</span>
                        <span class="s1">&#39;div_rank&#39;</span> <span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;divisionRank&#39;</span><span class="p">],</span>
                        <span class="s1">&#39;w&#39;</span> <span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;wins&#39;</span><span class="p">],</span>
                        <span class="s1">&#39;l&#39;</span> <span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;losses&#39;</span><span class="p">],</span>
                        <span class="s1">&#39;gb&#39;</span> <span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;gamesBack&#39;</span><span class="p">],</span>
                        <span class="s1">&#39;wc_rank&#39;</span> <span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;wildCardRank&#39;</span><span class="p">,</span><span class="s1">&#39;-&#39;</span><span class="p">),</span>
                        <span class="s1">&#39;wc_gb&#39;</span> <span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;wildCardGamesBack&#39;</span><span class="p">,</span><span class="s1">&#39;-&#39;</span><span class="p">),</span>
                        <span class="s1">&#39;wc_elim_num&#39;</span> <span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;wildCardEliminationNumber&#39;</span><span class="p">,</span><span class="s1">&#39;-&#39;</span><span class="p">),</span>
                        <span class="s1">&#39;elim_num&#39;</span> <span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;eliminationNumber&#39;</span><span class="p">]</span>
                    <span class="p">}</span>
            <span class="n">divisions</span><span class="p">[</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;team&#39;</span><span class="p">][</span><span class="s1">&#39;division&#39;</span><span class="p">][</span><span class="s1">&#39;id&#39;</span><span class="p">]][</span><span class="s1">&#39;teams&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">team</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">divisions</span>

<span class="k">def</span> <span class="nf">roster</span><span class="p">(</span><span class="n">teamId</span><span class="p">,</span><span class="n">rosterType</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">season</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">year</span><span class="p">,</span><span class="n">date</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get the roster for a given team.</span>
<span class="sd">    Get a list of available rosterTypes by calling the meta endpoint with type=rosterTypes.</span>
<span class="sd">    Default rosterType=active</span>
<span class="sd">    Format for date = &#39;MM/DD/YYYY&#39;, e.g. &#39;04/24/2019&#39;</span>

<span class="sd">    Example use:</span>
<span class="sd">    </span>
<span class="sd">    Print the current Phillies active roster:</span>

<span class="sd">    print( statsapi.roster(143) )</span>

<span class="sd">    Output:</span>

<span class="sd">    #23  CF  Aaron Altherr</span>
<span class="sd">    #27  P   Aaron Nola</span>
<span class="sd">    #46  P   Adam Morgan</span>
<span class="sd">    #15  C   Andrew Knapp</span>
<span class="sd">    #22  RF  Andrew McCutchen</span>
<span class="sd">    #3   RF  Bryce Harper</span>
<span class="sd">    #16  2B  Cesar Hernandez</span>
<span class="sd">    #25  RF  Dylan Cozens</span>
<span class="sd">    #61  P   Edubray Ramos</span>
<span class="sd">    #51  P   Enyel De Los Santos</span>
<span class="sd">    #50  P   Hector Neris</span>
<span class="sd">    #10  C   J.T. Realmuto</span>
<span class="sd">    #49  P   Jake Arrieta</span>
<span class="sd">    #48  P   Jerad Eickhoff</span>
<span class="sd">    #52  P   Jose Alvarez</span>
<span class="sd">    #12  P   Juan Nicasio</span>
<span class="sd">    #7   3B  Maikel Franco</span>
<span class="sd">    #5   RF  Nick Williams</span>
<span class="sd">    #93  P   Pat Neshek</span>
<span class="sd">    #9   2B  Phil Gosselin</span>
<span class="sd">    #17  1B  Rhys Hoskins</span>
<span class="sd">    #13  2B  Sean Rodriguez</span>
<span class="sd">    #58  P   Seranthony Dominguez</span>
<span class="sd">    #21  P   Vince Velasquez</span>
<span class="sd">    #56  P   Zach Eflin</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">rosterType</span><span class="p">:</span> <span class="n">rosterType</span><span class="o">=</span><span class="s1">&#39;active&#39;</span>
    <span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;rosterType&#39;</span><span class="p">:</span><span class="n">rosterType</span><span class="p">,</span><span class="s1">&#39;season&#39;</span><span class="p">:</span><span class="n">season</span><span class="p">,</span><span class="s1">&#39;teamId&#39;</span><span class="p">:</span><span class="n">teamId</span><span class="p">}</span>
    <span class="k">if</span> <span class="n">date</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;date&#39;</span><span class="p">:</span><span class="n">date</span><span class="p">})</span>

    <span class="n">r</span> <span class="o">=</span> <span class="n">get</span><span class="p">(</span><span class="s1">&#39;team_roster&#39;</span><span class="p">,</span><span class="n">params</span><span class="p">)</span>

    <span class="n">roster</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="n">players</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">r</span><span class="p">[</span><span class="s1">&#39;roster&#39;</span><span class="p">]:</span>
        <span class="n">players</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;jerseyNumber&#39;</span><span class="p">],</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;position&#39;</span><span class="p">][</span><span class="s1">&#39;abbreviation&#39;</span><span class="p">],</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;person&#39;</span><span class="p">][</span><span class="s1">&#39;fullName&#39;</span><span class="p">]])</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">players</span><span class="p">)):</span>
        <span class="n">roster</span> <span class="o">+=</span> <span class="p">(</span><span class="s1">&#39;#{:&lt;3} {:&lt;3} {}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">*</span><span class="n">players</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>

    <span class="k">return</span> <span class="n">roster</span>

<span class="k">def</span> <span class="nf">meta</span><span class="p">(</span><span class="nb">type</span><span class="p">,</span><span class="n">fields</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get available values from StatsAPI for use in other queries,</span>
<span class="sd">    or look up descriptions for values found in API results.</span>

<span class="sd">    For example, to get a list of leader categories to use when calling team_leaders():</span>
<span class="sd">    statsapi.meta(&#39;leagueLeaderTypes&#39;)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">types</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;awards&#39;</span><span class="p">,</span> <span class="s1">&#39;baseballStats&#39;</span><span class="p">,</span> <span class="s1">&#39;eventTypes&#39;</span><span class="p">,</span> <span class="s1">&#39;gameStatus&#39;</span><span class="p">,</span> <span class="s1">&#39;gameTypes&#39;</span><span class="p">,</span> <span class="s1">&#39;hitTrajectories&#39;</span><span class="p">,</span> <span class="s1">&#39;jobTypes&#39;</span><span class="p">,</span> <span class="s1">&#39;languages&#39;</span><span class="p">,</span> <span class="s1">&#39;leagueLeaderTypes&#39;</span><span class="p">,</span> <span class="s1">&#39;logicalEvents&#39;</span><span class="p">,</span> <span class="s1">&#39;metrics&#39;</span><span class="p">,</span> <span class="s1">&#39;pitchCodes&#39;</span><span class="p">,</span> <span class="s1">&#39;pitchTypes&#39;</span><span class="p">,</span> <span class="s1">&#39;platforms&#39;</span><span class="p">,</span> <span class="s1">&#39;positions&#39;</span><span class="p">,</span> <span class="s1">&#39;reviewReasons&#39;</span><span class="p">,</span> <span class="s1">&#39;rosterTypes&#39;</span><span class="p">,</span> <span class="s1">&#39;scheduleEventTypes&#39;</span><span class="p">,</span> <span class="s1">&#39;situationCodes&#39;</span><span class="p">,</span> <span class="s1">&#39;sky&#39;</span><span class="p">,</span> <span class="s1">&#39;standingsTypes&#39;</span><span class="p">,</span> <span class="s1">&#39;statGroups&#39;</span><span class="p">,</span> <span class="s1">&#39;statTypes&#39;</span><span class="p">,</span> <span class="s1">&#39;windDirection&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="nb">type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">types</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Invalid meta type. Available meta types: </span><span class="si">%s</span><span class="s2">.&quot;</span> <span class="o">%</span> <span class="n">types</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">get</span><span class="p">(</span><span class="s1">&#39;meta&#39;</span><span class="p">,{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span><span class="nb">type</span><span class="p">})</span>

<span class="k">def</span> <span class="nf">notes</span><span class="p">(</span><span class="n">endpoint</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get notes for a given endpoint. </span>
<span class="sd">    Will include a list of required parameters, as well as hints for some endpoints.</span>
<span class="sd">    If the specified endpoint has more than one distinct parameter requirement, </span>
<span class="sd">    for example one of teamId, leagueId, or leagueListId must be included for the attendance endpoint, </span>
<span class="sd">    the required query parameters list will contain separate sublists for each independent set of requirements:</span>
<span class="sd">    &#39;required_params&#39;: [[&#39;teamId&#39;],[&#39;leagueId&#39;],[&#39;leagueListid&#39;]]</span>

<span class="sd">    Path parameters are part of the URL itself, for example the teamId parameter in the team endpoint (143 in the example):</span>
<span class="sd">    https://statsapi.mlb.com/api/v1/teams/143</span>

<span class="sd">    Query parameters are appended on to the URL after the question mark (hydrate in the example):</span>
<span class="sd">    https://statsapi.mlb.com/api/v1/teams/143?hydrate=league</span>

<span class="sd">    There is no difference in the way path and query parameters are passed into statsapi.get().</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">endpoint</span><span class="p">:</span> <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;No endpoint specified.&#39;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">ENDPOINTS</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">endpoint</span><span class="p">):</span> <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;Invalid endpoint specified.&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">+=</span> <span class="s2">&quot;Endpoint: &quot;</span> <span class="o">+</span> <span class="n">endpoint</span> <span class="o">+</span> <span class="s2">&quot; </span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="n">path_params</span> <span class="o">=</span> <span class="p">[</span><span class="n">k</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">ENDPOINTS</span><span class="p">[</span><span class="n">endpoint</span><span class="p">][</span><span class="s1">&#39;path_params&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()]</span>
            <span class="n">required_path_params</span> <span class="o">=</span> <span class="p">[</span><span class="n">k</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">ENDPOINTS</span><span class="p">[</span><span class="n">endpoint</span><span class="p">][</span><span class="s1">&#39;path_params&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">v</span><span class="p">[</span><span class="s1">&#39;required&#39;</span><span class="p">]]</span>
            <span class="k">if</span> <span class="n">required_path_params</span> <span class="o">==</span> <span class="p">[]:</span> <span class="n">required_path_params</span> <span class="o">=</span> <span class="s2">&quot;None&quot;</span>
            
            <span class="n">query_params</span> <span class="o">=</span> <span class="n">ENDPOINTS</span><span class="p">[</span><span class="n">endpoint</span><span class="p">][</span><span class="s1">&#39;query_params&#39;</span><span class="p">]</span>
            <span class="n">required_query_params</span> <span class="o">=</span> <span class="n">ENDPOINTS</span><span class="p">[</span><span class="n">endpoint</span><span class="p">][</span><span class="s1">&#39;required_params&#39;</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">required_query_params</span> <span class="o">==</span> <span class="p">[[]]:</span> <span class="n">required_query_params</span> <span class="o">=</span> <span class="s2">&quot;None&quot;</span>
            <span class="n">msg</span> <span class="o">+=</span> <span class="s2">&quot;All path parameters: </span><span class="si">%s</span><span class="s2">. </span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">path_params</span>
            <span class="n">msg</span> <span class="o">+=</span> <span class="s2">&quot;Required path parameters (note: ver will be included by default): </span><span class="si">%s</span><span class="s2">. </span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">required_path_params</span>
            <span class="n">msg</span> <span class="o">+=</span> <span class="s2">&quot;All query parameters: </span><span class="si">%s</span><span class="s2">. </span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">query_params</span>
            <span class="n">msg</span> <span class="o">+=</span> <span class="s2">&quot;Required query parameters: </span><span class="si">%s</span><span class="s2">. </span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">required_query_params</span>
            <span class="k">if</span> <span class="s1">&#39;hydrate&#39;</span> <span class="ow">in</span> <span class="n">query_params</span><span class="p">:</span> <span class="n">msg</span> <span class="o">+=</span> <span class="s2">&quot;The hydrate function is supported by this endpoint. Call the endpoint with {&#39;hydrate&#39;:&#39;hydrations&#39;} in the parameters to return a list of available hydrations. For example, statsapi.get(&#39;schedule&#39;,{&#39;sportId&#39;:1,&#39;hydrate&#39;:&#39;hydrations&#39;,&#39;fields&#39;:&#39;hydrations&#39;})</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="k">if</span> <span class="n">ENDPOINTS</span><span class="p">[</span><span class="n">endpoint</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;note&#39;</span><span class="p">):</span> <span class="n">msg</span> <span class="o">+=</span> <span class="s2">&quot;Developer notes: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">ENDPOINTS</span><span class="p">[</span><span class="n">endpoint</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;note&#39;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">msg</span>

<span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="n">endpoint</span><span class="p">,</span><span class="n">params</span><span class="p">,</span><span class="n">force</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Call MLB StatsAPI and return JSON data.</span>

<span class="sd">    This function is for advanced querying of the MLB StatsAPI, </span>
<span class="sd">    and is used by the functions in this library.</span>

<span class="sd">    endpoint is one of the keys in the ENDPOINT dict</span>
<span class="sd">    params is a dict of parameters, as defined in the ENDPOINT dict for each endpoint</span>

<span class="sd">    force=True will force unrecognized parameters into the query string, and ignore parameter requirements</span>
<span class="sd">    Please note results from Stats API may not be as expected when forcing.</span>

<span class="sd">    statsapi.get(&#39;team&#39;,{&#39;teamId&#39;:143}) will call the team endpoint for teamId=143 (Phillies)</span>

<span class="sd">    return value will be the raw response from MLB Stats API in json format</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#Lookup endpoint from input parameter</span>
    <span class="n">ep</span> <span class="o">=</span> <span class="n">ENDPOINTS</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">endpoint</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">ep</span><span class="p">:</span> <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Invalid endpoint (&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">endpoint</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;).&#39;</span><span class="p">)</span>
    <span class="n">url</span> <span class="o">=</span> <span class="n">ep</span><span class="p">[</span><span class="s1">&#39;url&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">DEBUG</span><span class="p">:</span> <span class="k">print</span><span class="p">(</span><span class="s2">&quot;URL:&quot;</span><span class="p">,</span><span class="n">url</span><span class="p">)</span> <span class="c1">#debug</span>

    <span class="n">path_params</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">query_params</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="c1">#Parse parameters into path and query parameters, and discard invalid parameters</span>
    <span class="k">for</span> <span class="n">p</span><span class="p">,</span><span class="n">pv</span> <span class="ow">in</span> <span class="n">params</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">ep</span><span class="p">[</span><span class="s1">&#39;path_params&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">p</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">DEBUG</span><span class="p">:</span> <span class="k">print</span> <span class="p">(</span><span class="s2">&quot;Found path param:&quot;</span><span class="p">,</span><span class="n">p</span><span class="p">)</span> <span class="c1">#debug</span>
            <span class="k">if</span> <span class="n">ep</span><span class="p">[</span><span class="s1">&#39;path_params&#39;</span><span class="p">][</span><span class="n">p</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;type&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;bool&#39;</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">pv</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;false&#39;</span><span class="p">:</span>
                    <span class="n">path_params</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">p</span><span class="p">:</span> <span class="n">ep</span><span class="p">[</span><span class="s1">&#39;path_params&#39;</span><span class="p">][</span><span class="n">p</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;False&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">)})</span>
                <span class="k">elif</span> <span class="nb">str</span><span class="p">(</span><span class="n">pv</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;true&#39;</span><span class="p">:</span>
                    <span class="n">path_params</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">p</span><span class="p">:</span> <span class="n">ep</span><span class="p">[</span><span class="s1">&#39;path_params&#39;</span><span class="p">][</span><span class="n">p</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;True&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">)})</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">path_params</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">p</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">pv</span><span class="p">)})</span>
        <span class="k">elif</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">ep</span><span class="p">[</span><span class="s1">&#39;query_params&#39;</span><span class="p">]:</span>
            <span class="k">if</span> <span class="n">DEBUG</span><span class="p">:</span> <span class="k">print</span> <span class="p">(</span><span class="s2">&quot;Found query param:&quot;</span><span class="p">,</span><span class="n">p</span><span class="p">)</span> <span class="c1">#debug</span>
            <span class="n">query_params</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">p</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">pv</span><span class="p">)})</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">force</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">DEBUG</span><span class="p">:</span> <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Found invalid param, forcing into query parameters per force flag:&quot;</span><span class="p">,</span><span class="n">p</span><span class="p">)</span> <span class="c1">#debug</span>
                <span class="n">query_params</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">p</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">pv</span><span class="p">)})</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">DEBUG</span><span class="p">:</span> <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Found invalid param, ignoring:&quot;</span><span class="p">,</span><span class="n">p</span><span class="p">)</span> <span class="c1">#debug</span>

    <span class="k">if</span> <span class="n">DEBUG</span><span class="p">:</span> <span class="k">print</span> <span class="p">(</span><span class="s2">&quot;path_params:&quot;</span><span class="p">,</span><span class="n">path_params</span><span class="p">)</span> <span class="c1">#debug</span>
    <span class="k">if</span> <span class="n">DEBUG</span><span class="p">:</span> <span class="k">print</span> <span class="p">(</span><span class="s2">&quot;query_params:&quot;</span><span class="p">,</span><span class="n">query_params</span><span class="p">)</span> <span class="c1">#debug</span>

    <span class="c1">#Replace path parameters with their values</span>
    <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">path_params</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">DEBUG</span><span class="p">:</span> <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Replacing {</span><span class="si">%s</span><span class="s2">}&quot;</span> <span class="o">%</span> <span class="n">k</span><span class="p">)</span> <span class="c1">#debug</span>
        <span class="n">url</span> <span class="o">=</span> <span class="n">url</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;{&#39;</span><span class="o">+</span><span class="n">k</span><span class="o">+</span><span class="s1">&#39;}&#39;</span><span class="p">,</span><span class="n">v</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">DEBUG</span><span class="p">:</span> <span class="k">print</span><span class="p">(</span><span class="s2">&quot;URL:&quot;</span><span class="p">,</span><span class="n">url</span><span class="p">)</span> <span class="c1">#debug</span>
    <span class="k">while</span> <span class="n">url</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;{&#39;</span><span class="p">)</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span> <span class="ow">and</span> <span class="n">url</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;}&#39;</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">url</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;{&#39;</span><span class="p">):</span>
        <span class="n">param</span> <span class="o">=</span> <span class="n">url</span><span class="p">[</span><span class="n">url</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;{&#39;</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">:</span><span class="n">url</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;}&#39;</span><span class="p">)]</span>
        <span class="k">if</span> <span class="n">ep</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;path_params&#39;</span><span class="p">,{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">param</span><span class="p">,{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;required&#39;</span><span class="p">):</span> 
            <span class="k">if</span> <span class="n">ep</span><span class="p">[</span><span class="s1">&#39;path_params&#39;</span><span class="p">][</span><span class="n">param</span><span class="p">][</span><span class="s1">&#39;default&#39;</span><span class="p">]</span> <span class="ow">and</span> <span class="n">ep</span><span class="p">[</span><span class="s1">&#39;path_params&#39;</span><span class="p">][</span><span class="n">param</span><span class="p">][</span><span class="s1">&#39;default&#39;</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">DEBUG</span><span class="p">:</span> <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Replacing {</span><span class="si">%s</span><span class="s2">} with default: </span><span class="si">%s</span><span class="s2">.&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">param</span><span class="p">,</span> <span class="n">ep</span><span class="p">[</span><span class="s1">&#39;path_params&#39;</span><span class="p">][</span><span class="n">param</span><span class="p">][</span><span class="s1">&#39;default&#39;</span><span class="p">]))</span> <span class="c1">#debug</span>
                <span class="n">url</span> <span class="o">=</span> <span class="n">url</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;{&#39;</span><span class="o">+</span><span class="n">param</span><span class="o">+</span><span class="s1">&#39;}&#39;</span><span class="p">,</span><span class="n">ep</span><span class="p">[</span><span class="s1">&#39;path_params&#39;</span><span class="p">][</span><span class="n">param</span><span class="p">][</span><span class="s1">&#39;default&#39;</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">force</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">DEBUG</span><span class="p">:</span> <span class="k">print</span><span class="p">(</span><span class="s1">&#39;Missing required path parameter {&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">param</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;}, proceeding anyway per force flag...&#39;</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Missing required path parameter {&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">param</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;}&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">DEBUG</span><span class="p">:</span> <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Removing optional param {</span><span class="si">%s</span><span class="s2">}&quot;</span> <span class="o">%</span> <span class="n">param</span><span class="p">)</span> <span class="c1">#debug</span>
            <span class="n">url</span> <span class="o">=</span> <span class="n">url</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;{&#39;</span><span class="o">+</span><span class="n">param</span><span class="o">+</span><span class="s1">&#39;}&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">DEBUG</span><span class="p">:</span> <span class="k">print</span><span class="p">(</span><span class="s2">&quot;URL:&quot;</span><span class="p">,</span><span class="n">url</span><span class="p">)</span> <span class="c1">#debug</span>
    <span class="c1">#Add query parameters to the URL</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">query_params</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">query_params</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">DEBUG</span><span class="p">:</span> <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Adding query parameter </span><span class="si">%s</span><span class="s2">=</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span><span class="n">v</span><span class="p">))</span>
            <span class="n">sep</span> <span class="o">=</span> <span class="s1">&#39;?&#39;</span> <span class="k">if</span> <span class="n">url</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;?&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span> <span class="k">else</span> <span class="s1">&#39;&amp;&#39;</span>
            <span class="n">url</span> <span class="o">+=</span> <span class="n">sep</span> <span class="o">+</span> <span class="n">k</span> <span class="o">+</span> <span class="s2">&quot;=&quot;</span> <span class="o">+</span> <span class="n">v</span>
            <span class="k">if</span> <span class="n">DEBUG</span><span class="p">:</span> <span class="k">print</span><span class="p">(</span><span class="s2">&quot;URL:&quot;</span><span class="p">,</span><span class="n">url</span><span class="p">)</span> <span class="c1">#debug</span>

    <span class="c1">#Make sure required parameters are present</span>
    <span class="n">satisfied</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="n">missing_params</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">ep</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;required_params&#39;</span><span class="p">,[]):</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> <span class="n">satisfied</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">missing_params</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="n">a</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">x</span> <span class="k">if</span> <span class="n">a</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">query_params</span><span class="p">])</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">missing_params</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">satisfied</span> <span class="o">=</span> <span class="bp">True</span>
                <span class="k">break</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">satisfied</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">force</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">ep</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;note&#39;</span><span class="p">):</span>
            <span class="n">note</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">--Endpoint note: &#39;</span> <span class="o">+</span> <span class="n">ep</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;note&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span> <span class="n">note</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Missing required parameter(s): &quot;</span> <span class="o">+</span> <span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">missing_params</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;.</span><span class="se">\n</span><span class="s2">--Required parameters for the &quot;</span> <span class="o">+</span> <span class="n">endpoint</span> <span class="o">+</span> <span class="s2">&quot; endpoint: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">ep</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;required_params&#39;</span><span class="p">,[]))</span> <span class="o">+</span> <span class="s2">&quot;. </span><span class="se">\n</span><span class="s2">--Note: If there are multiple sets in the required parameter list, you can choose any of the sets.&quot;</span><span class="o">+</span><span class="n">note</span><span class="p">)</span>

    <span class="c1">#Make the request</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">r</span><span class="o">.</span><span class="n">status_code</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">200</span><span class="p">,</span><span class="mi">201</span><span class="p">]:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Request failed. Status Code: &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">status_code</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;.&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

    <span class="k">return</span> <span class="bp">None</span>
</pre></div>

  </div>

  </header>

  <section id="section-items">
    <h2 class="section-title" id="header-variables">Module variables</h2>
      <div class="item">
      <p id="statsapi.BASE_URL" class="name">var <span class="ident">BASE_URL</span></p>
      
  
    <div class="desc"><p>Base MLB Stats API URL</p></div>
  <div class="source_cont">
</div>

      </div>
      <div class="item">
      <p id="statsapi.DEBUG" class="name">var <span class="ident">DEBUG</span></p>
      
  
    <div class="desc"><p>To enable debug: statsapi.DEBUG=True</p></div>
  <div class="source_cont">
</div>

      </div>
      <div class="item">
      <p id="statsapi.ENDPOINTS" class="name">var <span class="ident">ENDPOINTS</span></p>
      
  
    <div class="desc"><p>MLB Stats API endpoint configuration</p></div>
  <div class="source_cont">
</div>

      </div>

    <h2 class="section-title" id="header-functions">Functions</h2>
      
  <div class="item">
    <div class="name def" id="statsapi.boxscore">
    <p>def <span class="ident">boxscore</span>(</p><p>gamePk, battingBox=True, battingInfo=True, fieldingInfo=True, pitchingBox=True, gameInfo=True, timecode=None)</p>
    </div>
    

    
  
    <div class="desc"><p>Get a formatted boxscore for a given game.</p>
<p>Note: This function uses the game endpoint instead of game_box,
because game_box does not contain the players' names as they should be 
displayed in the box score (e.g. Last name only or Last, F)</p>
<p>It is possible to get the boxscore as it existed at a specific time by including the timestamp in the timecode parameter.
The timecode should be in the format YYYYMMDD_HHMMSS, and in the UTC timezone
For example, 4/24/19 10:32:40 EDT (-4) would be: 20190425_012240
A list of timestamps for game events can be found through the game_timestamps endpoint:
statsapi.get('game_timestamps',{'gamePk':565997})</p>
<p>Example use:</p>
<p>Print the full box score for Phillies @ Mets game on 4/24/2019 (gamePk=565997):</p>
<p>print( statsapi.boxscore(565997) )</p>
<p>Output:</p>
<p>------------------------------------------------------------------------------- | -------------------------------------------------------------------------------
Phillies Batters                         AB   R   H  RBI BB   K  LOB AVG   OPS  | Mets Batters                             AB   R   H  RBI BB   K  LOB AVG   OPS
------------------------------------------------------------------------------- | -------------------------------------------------------------------------------
1 McCutchen  LF                           5   0   1   0   0   1   3  .250 .830  | 1 McNeil  LF                              4   0   1   0   0   0   1  .363 .928
2 Realmuto  C                             3   1   1   0   1   1   2  .282 .786  | 2 Conforto  RF                            3   0   0   0   1   1   1  .292 .986
3 Harper  RF                              4   1   1   1   1   3   4  .261 .909  | 3 Canó  2B                                3   0   3   0   1   0   0  .272 .758
4 Hoskins  1B                             4   2   2   2   1   1   3  .273 .982  | 4 Ramos, W  C                             4   0   0   0   0   3   6  .278 .687
5 Franco  3B                              5   1   1   1   0   0   3  .271 .905  | 5 Smith, Do  1B                           2   0   0   0   1   1   2  .400 .996
6 Hernández, C  2B                        5   1   1   0   0   1   2  .267 .730  |     c-Alonso, P  1B                       1   0   0   0   0   1   1  .306 1.086
7 Rodríguez, S  SS                        4   0   1   0   0   1   1  .250 .750  | 6 Frazier, T  3B                          3   0   0   0   0   0   4  .182 .705
8 Velasquez  P                            1   0   0   0   0   0   0  .167 .453  | 7 Rosario, A  SS                          4   0   1   0   0   0   1  .261 .676
    a-Williams, N  PH                     1   0   0   0   0   0   1  .150 .427  | 8 Lagares  CF                             2   0   0   0   0   1   1  .244 .653
    Neshek  P                             0   0   0   0   0   0   0  .000 .000  |     a-Nimmo  CF                           2   0   0   0   0   0   1  .203 .714
    Domínguez  P                          0   0   0   0   0   0   0  .000 .000  | 9 Vargas  P                               2   0   0   0   0   1   1  .000 .000
    b-Gosselin  PH                        1   0   1   1   0   0   0  .211 .474  |     Lugo, S  P                            0   0   0   0   0   0   0  .000 .000
    Morgan  P                             0   0   0   0   0   0   0  .000 .000  |     Zamora  P                             0   0   0   0   0   0   0  .000 .000
    c-Knapp  PH                           1   0   0   0   0   1   1  .222 .750  |     b-Guillorme  PH                       1   0   1   0   0   0   0  .167 .378
    Nicasio  P                            0   0   0   0   0   0   0  .000 .000  |     Gsellman  P                           0   0   0   0   0   0   0  .000 .000
9 Quinn  CF                               4   0   1   1   0   1   1  .120 .305  |     Rhame  P                              0   0   0   0   0   0   0  .000 .000
    1-Altherr  CF                         0   0   0   0   0   0   0  .042 .163  |     d-Davis, J  PH                        1   0   0   0   0   1   0  .276 .865
------------------------------------------------------------------------------- | -------------------------------------------------------------------------------
Totals                                   38   6  10   6   3  10  21             | Totals                                   32   0   6   0   3   9  19
------------------------------------------------------------------------------- | -------------------------------------------------------------------------------
a-Popped out for Velasquez in the 6th.                                          | a-Flied out for Lagares in the 6th.
b-Singled for Domínguez in the 8th.                                             | b-Singled for Zamora in the 7th.
c-Struck out for Morgan in the 9th.                                             | c-Struck out for Smith, Do in the 8th.
1-Ran for Quinn in the 8th.                                                     | d-Struck out for Rhame in the 9th.
                                                                                |
BATTING                                                                         | BATTING
2B: Harper (7, Vargas); Rodríguez, S (1, Rhame); Realmuto (4, Vargas).          | TB: Canó 3; Guillorme; McNeil; Rosario, A.
3B: Hoskins (1, Gsellman).                                                      | Runners left in scoring position, 2 out: Frazier, T 2; Vargas; Smith, Do 2.
HR: Hoskins (7, 9th inning off Rhame, 1 on, 0 out).                             | GIDP: McNeil.
TB: Franco; Gosselin; Harper 2; Hernández, C; Hoskins 7; McCutchen; Quinn;      | Team RISP: 0-for-6.
    Realmuto 2; Rodríguez, S 2.                                                 | Team LOB: 9.
RBI: Franco (19); Gosselin (4); Harper (15); Hoskins 2 (20); Quinn (1).         |
Runners left in scoring position, 2 out: Hoskins; Hernández, C; Knapp; Realmuto | FIELDING
    2; McCutchen.                                                               | E: Canó (3, fielding); Rosario, A 2 (7, throw, throw).
SAC: Rodríguez, S; Velasquez.                                                   |
Team RISP: 4-for-13.                                                            |
Team LOB: 11.                                                                   |
                                                                                |
FIELDING                                                                        |
DP: (Hernández, C-Rodríguez, S-Hoskins).                                        |
------------------------------------------------------------------------------- | -------------------------------------------------------------------------------
------------------------------------------------------------------------------- | -------------------------------------------------------------------------------
Phillies Pitchers                            IP   H   R  ER  BB   K  HR   ERA   | Mets Pitchers                                IP   H   R  ER  BB   K  HR   ERA
------------------------------------------------------------------------------- | -------------------------------------------------------------------------------
Velasquez  (W, 1-0)                         5.0   3   0   0   3   6   0   1.99  | Vargas  (L, 1-1)                            4.2   3   1   1   2   4   0   7.20
Neshek  (H, 2)                              1.0   1   0   0   0   0   0   2.70  | Lugo, S                                     2.0   0   0   0   0   2   0   4.60
Domínguez  (H, 3)                           1.0   1   0   0   0   0   0   4.32  | Zamora                                      0.1   0   0   0   0   1   0   0.00
Morgan                                      1.0   1   0   0   0   2   0   0.00  | Gsellman                                    1.0   5   3   3   0   1   0   4.20
Nicasio                                     1.0   0   0   0   0   1   0   5.84  | Rhame                                       1.0   2   2   2   1   2   1   8.10
------------------------------------------------------------------------------- | -------------------------------------------------------------------------------
Totals                                      9.0   6   0   0   3   9   0         | Totals                                      9.0  10   6   6   3  10   1
------------------------------------------------------------------------------- | -------------------------------------------------------------------------------
WP: Velasquez; Gsellman.
HBP: Realmuto (by Vargas); Frazier, T (by Velasquez).
Pitches-strikes: Velasquez 97-53; Neshek 13-8; Domínguez 9-6; Morgan 14-10; Nicasio 15-10; Vargas 89-53; Lugo, S 32-23; Zamora 5-3; Gsellman 25-17; Rhame 19-12.
Groundouts-flyouts: Velasquez 6-3; Neshek 1-2; Domínguez 1-1; Morgan 1-0; Nicasio 2-0; Vargas 8-3; Lugo, S 3-2; Zamora 0-0; Gsellman 1-1; Rhame 0-0.
Batters faced: Velasquez 22; Neshek 4; Domínguez 3; Morgan 4; Nicasio 3; Vargas 21; Lugo, S 8; Zamora; Gsellman 8; Rhame 6.
Inherited runners-scored: Lugo, S 2-0; Zamora 1-0.
Umpires: HP: Brian Gorman. 1B: Jansen Visconti. 2B: Mark Carlson. 3B: Scott Barry.
Weather: 66 degrees, Clear.
Wind: 12 mph, L To R.
First pitch: 7:11 PM.
T: 3:21.
Att: 27,685.
Venue: Citi Field.
April 24, 2019
-----------------------------------------------------------------------------------------------------------------------------------------------------------------</p>
<p>Which sections are included can be customized using the battingBox, battingInfo, pitchingBox, and gameInfo parameters
All default to True; set to False to exclude from the results
For example, to retrieve only the batting box: statsapi.boxscore(565997,battingInfo=False,fieldingInfo=False,pitchingBox=False,gameInfo=False)</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-statsapi.boxscore', this);">Show source &equiv;</a></p>
  <div id="source-statsapi.boxscore" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">boxscore</span><span class="p">(</span><span class="n">gamePk</span><span class="p">,</span><span class="n">battingBox</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span><span class="n">battingInfo</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span><span class="n">fieldingInfo</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span><span class="n">pitchingBox</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span><span class="n">gameInfo</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span><span class="n">timecode</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get a formatted boxscore for a given game.</span>

<span class="sd">    Note: This function uses the game endpoint instead of game_box,</span>
<span class="sd">    because game_box does not contain the players&#39; names as they should be </span>
<span class="sd">    displayed in the box score (e.g. Last name only or Last, F)</span>

<span class="sd">    It is possible to get the boxscore as it existed at a specific time by including the timestamp in the timecode parameter.</span>
<span class="sd">    The timecode should be in the format YYYYMMDD_HHMMSS, and in the UTC timezone</span>
<span class="sd">    For example, 4/24/19 10:32:40 EDT (-4) would be: 20190425_012240</span>
<span class="sd">    A list of timestamps for game events can be found through the game_timestamps endpoint:</span>
<span class="sd">    statsapi.get(&#39;game_timestamps&#39;,{&#39;gamePk&#39;:565997})</span>

<span class="sd">    Example use:</span>

<span class="sd">    Print the full box score for Phillies @ Mets game on 4/24/2019 (gamePk=565997):</span>

<span class="sd">    print( statsapi.boxscore(565997) )</span>

<span class="sd">    Output:</span>

<span class="sd">    ------------------------------------------------------------------------------- | -------------------------------------------------------------------------------</span>
<span class="sd">    Phillies Batters                         AB   R   H  RBI BB   K  LOB AVG   OPS  | Mets Batters                             AB   R   H  RBI BB   K  LOB AVG   OPS</span>
<span class="sd">    ------------------------------------------------------------------------------- | -------------------------------------------------------------------------------</span>
<span class="sd">    1 McCutchen  LF                           5   0   1   0   0   1   3  .250 .830  | 1 McNeil  LF                              4   0   1   0   0   0   1  .363 .928</span>
<span class="sd">    2 Realmuto  C                             3   1   1   0   1   1   2  .282 .786  | 2 Conforto  RF                            3   0   0   0   1   1   1  .292 .986</span>
<span class="sd">    3 Harper  RF                              4   1   1   1   1   3   4  .261 .909  | 3 Canó  2B                                3   0   3   0   1   0   0  .272 .758</span>
<span class="sd">    4 Hoskins  1B                             4   2   2   2   1   1   3  .273 .982  | 4 Ramos, W  C                             4   0   0   0   0   3   6  .278 .687</span>
<span class="sd">    5 Franco  3B                              5   1   1   1   0   0   3  .271 .905  | 5 Smith, Do  1B                           2   0   0   0   1   1   2  .400 .996</span>
<span class="sd">    6 Hernández, C  2B                        5   1   1   0   0   1   2  .267 .730  |     c-Alonso, P  1B                       1   0   0   0   0   1   1  .306 1.086</span>
<span class="sd">    7 Rodríguez, S  SS                        4   0   1   0   0   1   1  .250 .750  | 6 Frazier, T  3B                          3   0   0   0   0   0   4  .182 .705</span>
<span class="sd">    8 Velasquez  P                            1   0   0   0   0   0   0  .167 .453  | 7 Rosario, A  SS                          4   0   1   0   0   0   1  .261 .676</span>
<span class="sd">        a-Williams, N  PH                     1   0   0   0   0   0   1  .150 .427  | 8 Lagares  CF                             2   0   0   0   0   1   1  .244 .653</span>
<span class="sd">        Neshek  P                             0   0   0   0   0   0   0  .000 .000  |     a-Nimmo  CF                           2   0   0   0   0   0   1  .203 .714</span>
<span class="sd">        Domínguez  P                          0   0   0   0   0   0   0  .000 .000  | 9 Vargas  P                               2   0   0   0   0   1   1  .000 .000</span>
<span class="sd">        b-Gosselin  PH                        1   0   1   1   0   0   0  .211 .474  |     Lugo, S  P                            0   0   0   0   0   0   0  .000 .000</span>
<span class="sd">        Morgan  P                             0   0   0   0   0   0   0  .000 .000  |     Zamora  P                             0   0   0   0   0   0   0  .000 .000</span>
<span class="sd">        c-Knapp  PH                           1   0   0   0   0   1   1  .222 .750  |     b-Guillorme  PH                       1   0   1   0   0   0   0  .167 .378</span>
<span class="sd">        Nicasio  P                            0   0   0   0   0   0   0  .000 .000  |     Gsellman  P                           0   0   0   0   0   0   0  .000 .000</span>
<span class="sd">    9 Quinn  CF                               4   0   1   1   0   1   1  .120 .305  |     Rhame  P                              0   0   0   0   0   0   0  .000 .000</span>
<span class="sd">        1-Altherr  CF                         0   0   0   0   0   0   0  .042 .163  |     d-Davis, J  PH                        1   0   0   0   0   1   0  .276 .865</span>
<span class="sd">    ------------------------------------------------------------------------------- | -------------------------------------------------------------------------------</span>
<span class="sd">    Totals                                   38   6  10   6   3  10  21             | Totals                                   32   0   6   0   3   9  19</span>
<span class="sd">    ------------------------------------------------------------------------------- | -------------------------------------------------------------------------------</span>
<span class="sd">    a-Popped out for Velasquez in the 6th.                                          | a-Flied out for Lagares in the 6th.</span>
<span class="sd">    b-Singled for Domínguez in the 8th.                                             | b-Singled for Zamora in the 7th.</span>
<span class="sd">    c-Struck out for Morgan in the 9th.                                             | c-Struck out for Smith, Do in the 8th.</span>
<span class="sd">    1-Ran for Quinn in the 8th.                                                     | d-Struck out for Rhame in the 9th.</span>
<span class="sd">                                                                                    |</span>
<span class="sd">    BATTING                                                                         | BATTING</span>
<span class="sd">    2B: Harper (7, Vargas); Rodríguez, S (1, Rhame); Realmuto (4, Vargas).          | TB: Canó 3; Guillorme; McNeil; Rosario, A.</span>
<span class="sd">    3B: Hoskins (1, Gsellman).                                                      | Runners left in scoring position, 2 out: Frazier, T 2; Vargas; Smith, Do 2.</span>
<span class="sd">    HR: Hoskins (7, 9th inning off Rhame, 1 on, 0 out).                             | GIDP: McNeil.</span>
<span class="sd">    TB: Franco; Gosselin; Harper 2; Hernández, C; Hoskins 7; McCutchen; Quinn;      | Team RISP: 0-for-6.</span>
<span class="sd">        Realmuto 2; Rodríguez, S 2.                                                 | Team LOB: 9.</span>
<span class="sd">    RBI: Franco (19); Gosselin (4); Harper (15); Hoskins 2 (20); Quinn (1).         |</span>
<span class="sd">    Runners left in scoring position, 2 out: Hoskins; Hernández, C; Knapp; Realmuto | FIELDING</span>
<span class="sd">        2; McCutchen.                                                               | E: Canó (3, fielding); Rosario, A 2 (7, throw, throw).</span>
<span class="sd">    SAC: Rodríguez, S; Velasquez.                                                   |</span>
<span class="sd">    Team RISP: 4-for-13.                                                            |</span>
<span class="sd">    Team LOB: 11.                                                                   |</span>
<span class="sd">                                                                                    |</span>
<span class="sd">    FIELDING                                                                        |</span>
<span class="sd">    DP: (Hernández, C-Rodríguez, S-Hoskins).                                        |</span>
<span class="sd">    ------------------------------------------------------------------------------- | -------------------------------------------------------------------------------</span>
<span class="sd">    ------------------------------------------------------------------------------- | -------------------------------------------------------------------------------</span>
<span class="sd">    Phillies Pitchers                            IP   H   R  ER  BB   K  HR   ERA   | Mets Pitchers                                IP   H   R  ER  BB   K  HR   ERA</span>
<span class="sd">    ------------------------------------------------------------------------------- | -------------------------------------------------------------------------------</span>
<span class="sd">    Velasquez  (W, 1-0)                         5.0   3   0   0   3   6   0   1.99  | Vargas  (L, 1-1)                            4.2   3   1   1   2   4   0   7.20</span>
<span class="sd">    Neshek  (H, 2)                              1.0   1   0   0   0   0   0   2.70  | Lugo, S                                     2.0   0   0   0   0   2   0   4.60</span>
<span class="sd">    Domínguez  (H, 3)                           1.0   1   0   0   0   0   0   4.32  | Zamora                                      0.1   0   0   0   0   1   0   0.00</span>
<span class="sd">    Morgan                                      1.0   1   0   0   0   2   0   0.00  | Gsellman                                    1.0   5   3   3   0   1   0   4.20</span>
<span class="sd">    Nicasio                                     1.0   0   0   0   0   1   0   5.84  | Rhame                                       1.0   2   2   2   1   2   1   8.10</span>
<span class="sd">    ------------------------------------------------------------------------------- | -------------------------------------------------------------------------------</span>
<span class="sd">    Totals                                      9.0   6   0   0   3   9   0         | Totals                                      9.0  10   6   6   3  10   1</span>
<span class="sd">    ------------------------------------------------------------------------------- | -------------------------------------------------------------------------------</span>
<span class="sd">    WP: Velasquez; Gsellman.</span>
<span class="sd">    HBP: Realmuto (by Vargas); Frazier, T (by Velasquez).</span>
<span class="sd">    Pitches-strikes: Velasquez 97-53; Neshek 13-8; Domínguez 9-6; Morgan 14-10; Nicasio 15-10; Vargas 89-53; Lugo, S 32-23; Zamora 5-3; Gsellman 25-17; Rhame 19-12.</span>
<span class="sd">    Groundouts-flyouts: Velasquez 6-3; Neshek 1-2; Domínguez 1-1; Morgan 1-0; Nicasio 2-0; Vargas 8-3; Lugo, S 3-2; Zamora 0-0; Gsellman 1-1; Rhame 0-0.</span>
<span class="sd">    Batters faced: Velasquez 22; Neshek 4; Domínguez 3; Morgan 4; Nicasio 3; Vargas 21; Lugo, S 8; Zamora; Gsellman 8; Rhame 6.</span>
<span class="sd">    Inherited runners-scored: Lugo, S 2-0; Zamora 1-0.</span>
<span class="sd">    Umpires: HP: Brian Gorman. 1B: Jansen Visconti. 2B: Mark Carlson. 3B: Scott Barry.</span>
<span class="sd">    Weather: 66 degrees, Clear.</span>
<span class="sd">    Wind: 12 mph, L To R.</span>
<span class="sd">    First pitch: 7:11 PM.</span>
<span class="sd">    T: 3:21.</span>
<span class="sd">    Att: 27,685.</span>
<span class="sd">    Venue: Citi Field.</span>
<span class="sd">    April 24, 2019</span>
<span class="sd">    -----------------------------------------------------------------------------------------------------------------------------------------------------------------</span>

<span class="sd">    Which sections are included can be customized using the battingBox, battingInfo, pitchingBox, and gameInfo parameters</span>
<span class="sd">    All default to True; set to False to exclude from the results</span>
<span class="sd">    For example, to retrieve only the batting box: statsapi.boxscore(565997,battingInfo=False,fieldingInfo=False,pitchingBox=False,gameInfo=False)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">boxData</span> <span class="o">=</span> <span class="n">boxscore_data</span><span class="p">(</span><span class="n">gamePk</span><span class="p">,</span><span class="n">timecode</span><span class="p">)</span>

    <span class="n">rowLen</span> <span class="o">=</span> <span class="mi">79</span>
    <span class="sd">&quot;&quot;&quot;rowLen is the total width of each side of the box score, excluding the &quot; | &quot; separator&quot;&quot;&quot;</span>
    <span class="n">fullRowLen</span> <span class="o">=</span> <span class="n">rowLen</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">3</span>
    <span class="sd">&quot;&quot;&quot;fullRowLen is the full table width&quot;&quot;&quot;</span>
    <span class="n">boxscore</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="sd">&quot;&quot;&quot;boxscore will hold the string to be returned&quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">battingBox</span><span class="p">:</span>
        <span class="c1">#Add away column headers</span>
        <span class="n">awayBatters</span> <span class="o">=</span> <span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;awayBatters&#39;</span><span class="p">]</span>
        <span class="n">homeBatters</span> <span class="o">=</span> <span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;homeBatters&#39;</span><span class="p">]</span>

        <span class="c1">#Make sure the home and away batter lists are the same length</span>
        <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">awayBatters</span><span class="p">)</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">homeBatters</span><span class="p">):</span>
            <span class="n">homeBatters</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s1">&#39;namefield&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;ab&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;r&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;h&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;rbi&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;bb&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;k&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;lob&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;avg&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;ops&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">})</span>
        <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">awayBatters</span><span class="p">)</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">homeBatters</span><span class="p">):</span>
            <span class="n">awayBatters</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s1">&#39;namefield&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;ab&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;r&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;h&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;rbi&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;bb&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;k&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;lob&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;avg&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;ops&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">})</span>

        <span class="c1">#Get team totals</span>
        <span class="n">awayBatters</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;awayBattingTotals&#39;</span><span class="p">])</span>
        <span class="n">homeBatters</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;homeBattingTotals&#39;</span><span class="p">])</span>

        <span class="c1">#Build the batting box!</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">awayBatters</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">i</span><span class="o">==</span><span class="mi">0</span> <span class="ow">or</span> <span class="n">i</span><span class="o">==</span><span class="nb">len</span><span class="p">(</span><span class="n">awayBatters</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                <span class="n">boxscore</span> <span class="o">+=</span> <span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="n">rowLen</span> <span class="o">+</span> <span class="s1">&#39; | &#39;</span> <span class="o">+</span> <span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="n">rowLen</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
            <span class="n">boxscore</span> <span class="o">+=</span> <span class="s1">&#39;{namefield:&lt;40} {ab:^3} {r:^3} {h:^3} {rbi:^3} {bb:^3} {k:^3} {lob:^3} {avg:^4} {ops:^5} | &#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">awayBatters</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="n">boxscore</span> <span class="o">+=</span> <span class="s1">&#39;{namefield:&lt;40} {ab:^3} {r:^3} {h:^3} {rbi:^3} {bb:^3} {k:^3} {lob:^3} {avg:^4} {ops:^5}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">homeBatters</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="k">if</span> <span class="n">i</span><span class="o">==</span><span class="mi">0</span> <span class="ow">or</span> <span class="n">i</span><span class="o">==</span><span class="nb">len</span><span class="p">(</span><span class="n">awayBatters</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                <span class="n">boxscore</span> <span class="o">+=</span> <span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="n">rowLen</span> <span class="o">+</span> <span class="s1">&#39; | &#39;</span> <span class="o">+</span> <span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="n">rowLen</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>

        <span class="c1">#Get batting notes</span>
        <span class="n">awayBattingNotes</span> <span class="o">=</span> <span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;awayBattingNotes&#39;</span><span class="p">]</span>
        <span class="n">homeBattingNotes</span> <span class="o">=</span> <span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;homeBattingNotes&#39;</span><span class="p">]</span>

        <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">awayBattingNotes</span><span class="p">)</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">homeBattingNotes</span><span class="p">):</span>
            <span class="n">homeBattingNotes</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="nb">len</span><span class="p">(</span><span class="n">homeBattingNotes</span><span class="p">)</span> <span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">})</span>
        <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">awayBattingNotes</span><span class="p">)</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">homeBattingNotes</span><span class="p">):</span>
            <span class="n">awayBattingNotes</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="nb">len</span><span class="p">(</span><span class="n">awayBattingNotes</span><span class="p">)</span> <span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">})</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">awayBattingNotes</span><span class="p">)):</span>
            <span class="n">boxscore</span> <span class="o">+=</span> <span class="s1">&#39;{:&lt;79} | &#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">awayBattingNotes</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="n">boxscore</span> <span class="o">+=</span> <span class="s1">&#39;{:&lt;79}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">homeBattingNotes</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>

        <span class="n">boxscore</span> <span class="o">+=</span> <span class="s1">&#39; &#39;</span><span class="o">*</span><span class="n">rowLen</span> <span class="o">+</span> <span class="s1">&#39; | &#39;</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span><span class="o">*</span><span class="n">rowLen</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>

    <span class="c1">#Get batting and fielding info</span>
    <span class="n">awayBoxInfo</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">homeBoxInfo</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">infoType</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;BATTING&#39;</span><span class="p">,</span><span class="s1">&#39;FIELDING&#39;</span><span class="p">]:</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">infoType</span><span class="o">==</span><span class="s1">&#39;BATTING&#39;</span> <span class="ow">and</span> <span class="n">battingInfo</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">infoType</span><span class="o">==</span><span class="s1">&#39;FIELDING&#39;</span> <span class="ow">and</span> <span class="n">fieldingInfo</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">z</span> <span class="ow">in</span> <span class="p">(</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;info&#39;</span><span class="p">]</span> <span class="k">if</span> <span class="n">x</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">)</span><span class="o">==</span><span class="n">infoType</span><span class="p">):</span>
                <span class="n">awayBoxInfo</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="nb">len</span><span class="p">(</span><span class="n">awayBoxInfo</span><span class="p">):</span> <span class="n">z</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]})</span>
                <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">z</span><span class="p">[</span><span class="s1">&#39;fieldList&#39;</span><span class="p">]:</span>
                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;: &#39;</span> <span class="o">+</span> <span class="n">x</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;value&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">))</span> <span class="o">&gt;</span> <span class="n">rowLen</span><span class="p">:</span>
                        <span class="n">words</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">((</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;: &#39;</span> <span class="o">+</span> <span class="n">x</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;value&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">split</span><span class="p">())</span>
                        <span class="n">check</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
                        <span class="n">lines</span> <span class="o">=</span> <span class="p">[]</span>
                        <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">words</span><span class="p">:</span>
                            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">check</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="n">rowLen</span><span class="p">:</span>
                                <span class="k">if</span> <span class="n">check</span><span class="o">==</span><span class="s1">&#39;&#39;</span><span class="p">:</span> <span class="n">check</span> <span class="o">=</span> <span class="n">word</span>
                                <span class="k">else</span><span class="p">:</span> <span class="n">check</span> <span class="o">+=</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> <span class="n">word</span>
                            <span class="k">else</span><span class="p">:</span>
                                <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">check</span><span class="p">)</span>
                                <span class="n">check</span> <span class="o">=</span> <span class="s1">&#39;    &#39;</span> <span class="o">+</span> <span class="n">word</span>
                        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">check</span><span class="p">):</span> <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">check</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">lines</span><span class="p">)):</span>
                            <span class="n">awayBoxInfo</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="nb">len</span><span class="p">(</span><span class="n">awayBoxInfo</span><span class="p">):</span> <span class="n">lines</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">})</span>
                            
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">awayBoxInfo</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="nb">len</span><span class="p">(</span><span class="n">awayBoxInfo</span><span class="p">):</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;: &#39;</span> <span class="o">+</span> <span class="n">x</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;value&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="p">})</span>

            <span class="k">for</span> <span class="n">z</span> <span class="ow">in</span> <span class="p">(</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;info&#39;</span><span class="p">]</span> <span class="k">if</span> <span class="n">x</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">)</span><span class="o">==</span><span class="n">infoType</span><span class="p">):</span>
                <span class="n">homeBoxInfo</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="nb">len</span><span class="p">(</span><span class="n">homeBoxInfo</span><span class="p">):</span> <span class="n">z</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]})</span>
                <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">z</span><span class="p">[</span><span class="s1">&#39;fieldList&#39;</span><span class="p">]:</span>
                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;: &#39;</span> <span class="o">+</span> <span class="n">x</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;value&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">))</span> <span class="o">&gt;</span> <span class="n">rowLen</span><span class="p">:</span>
                        <span class="n">words</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">((</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;: &#39;</span> <span class="o">+</span> <span class="n">x</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;value&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">split</span><span class="p">())</span>
                        <span class="n">check</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
                        <span class="n">lines</span> <span class="o">=</span> <span class="p">[]</span>
                        <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">words</span><span class="p">:</span>
                            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">check</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="n">rowLen</span><span class="p">:</span>
                                <span class="k">if</span> <span class="n">check</span><span class="o">==</span><span class="s1">&#39;&#39;</span><span class="p">:</span> <span class="n">check</span> <span class="o">=</span> <span class="n">word</span>
                                <span class="k">else</span><span class="p">:</span> <span class="n">check</span> <span class="o">+=</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> <span class="n">word</span>
                            <span class="k">else</span><span class="p">:</span>
                                <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">check</span><span class="p">)</span>
                                <span class="n">check</span> <span class="o">=</span> <span class="s1">&#39;    &#39;</span> <span class="o">+</span> <span class="n">word</span>
                        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">check</span><span class="p">):</span> <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">check</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">lines</span><span class="p">)):</span>
                            <span class="n">homeBoxInfo</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="nb">len</span><span class="p">(</span><span class="n">homeBoxInfo</span><span class="p">):</span> <span class="n">lines</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">})</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">homeBoxInfo</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="nb">len</span><span class="p">(</span><span class="n">homeBoxInfo</span><span class="p">):</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;: &#39;</span> <span class="o">+</span> <span class="n">x</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;value&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="p">})</span>

            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">awayBoxInfo</span><span class="p">)</span> <span class="ow">and</span> <span class="n">infoType</span> <span class="o">==</span> <span class="s1">&#39;BATTING&#39;</span><span class="p">:</span>
                <span class="n">awayBoxInfo</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="nb">len</span><span class="p">(</span><span class="n">awayBoxInfo</span><span class="p">)</span> <span class="p">:</span> <span class="s1">&#39; &#39;</span><span class="p">})</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">homeBoxInfo</span><span class="p">)</span> <span class="ow">and</span> <span class="n">infoType</span> <span class="o">==</span> <span class="s1">&#39;BATTING&#39;</span><span class="p">:</span>
                <span class="n">homeBoxInfo</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="nb">len</span><span class="p">(</span><span class="n">homeBoxInfo</span><span class="p">)</span> <span class="p">:</span> <span class="s1">&#39; &#39;</span><span class="p">})</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">awayBoxInfo</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">awayBoxInfo</span><span class="p">)</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">homeBoxInfo</span><span class="p">):</span>
            <span class="n">homeBoxInfo</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="nb">len</span><span class="p">(</span><span class="n">homeBoxInfo</span><span class="p">)</span> <span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">})</span>
        <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">awayBoxInfo</span><span class="p">)</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">homeBoxInfo</span><span class="p">):</span>
            <span class="n">awayBoxInfo</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="nb">len</span><span class="p">(</span><span class="n">awayBoxInfo</span><span class="p">)</span> <span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">})</span>

        <span class="c1">#Build info box</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">awayBoxInfo</span><span class="p">)):</span>
            <span class="n">boxscore</span> <span class="o">+=</span> <span class="p">(</span><span class="s1">&#39;{:&lt;</span><span class="si">%s</span><span class="s1">} | &#39;</span><span class="o">%</span><span class="n">rowLen</span><span class="p">)</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">awayBoxInfo</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="n">boxscore</span> <span class="o">+=</span> <span class="p">(</span><span class="s1">&#39;{:&lt;</span><span class="si">%s</span><span class="s1">}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">%</span><span class="n">rowLen</span><span class="p">)</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">homeBoxInfo</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="k">if</span> <span class="n">i</span><span class="o">==</span><span class="nb">len</span><span class="p">(</span><span class="n">awayBoxInfo</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                <span class="n">boxscore</span> <span class="o">+=</span> <span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="n">rowLen</span> <span class="o">+</span> <span class="s1">&#39; | &#39;</span> <span class="o">+</span> <span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="n">rowLen</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>

    <span class="c1">#Get pitching box</span>
    <span class="k">if</span> <span class="n">pitchingBox</span><span class="p">:</span>
        <span class="n">awayPitchers</span> <span class="o">=</span> <span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;awayPitchers&#39;</span><span class="p">]</span>
        <span class="n">homePitchers</span> <span class="o">=</span> <span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;homePitchers&#39;</span><span class="p">]</span>

        <span class="c1">#Make sure the home and away pitcher lists are the same length</span>
        <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">awayPitchers</span><span class="p">)</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">homePitchers</span><span class="p">):</span>
            <span class="n">homePitchers</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s1">&#39;namefield&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;ip&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;h&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;r&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;er&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;bb&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;k&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;hr&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;era&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">})</span>
        <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">awayPitchers</span><span class="p">)</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">homePitchers</span><span class="p">):</span>
            <span class="n">awayPitchers</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s1">&#39;namefield&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;ip&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;h&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;r&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;er&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;bb&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;k&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;hr&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;era&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">})</span>

        <span class="c1">#Get team totals</span>
        <span class="n">awayPitchers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;awayPitchingTotals&#39;</span><span class="p">])</span>
        <span class="n">homePitchers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;homePitchingTotals&#39;</span><span class="p">])</span>

        <span class="c1">#Build the pitching box!</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">awayPitchers</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">i</span><span class="o">==</span><span class="mi">0</span> <span class="ow">or</span> <span class="n">i</span><span class="o">==</span><span class="nb">len</span><span class="p">(</span><span class="n">awayPitchers</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                <span class="n">boxscore</span> <span class="o">+=</span> <span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="n">rowLen</span> <span class="o">+</span> <span class="s1">&#39; | &#39;</span> <span class="o">+</span> <span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="n">rowLen</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
            <span class="n">boxscore</span> <span class="o">+=</span> <span class="s1">&#39;{namefield:&lt;43} {ip:^4} {h:^3} {r:^3} {er:^3} {bb:^3} {k:^3} {hr:^3} {era:^6} | &#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">awayPitchers</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="n">boxscore</span> <span class="o">+=</span> <span class="s1">&#39;{namefield:&lt;43} {ip:^4} {h:^3} {r:^3} {er:^3} {bb:^3} {k:^3} {hr:^3} {era:^6}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">homePitchers</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="k">if</span> <span class="n">i</span><span class="o">==</span><span class="mi">0</span> <span class="ow">or</span> <span class="n">i</span><span class="o">==</span><span class="nb">len</span><span class="p">(</span><span class="n">awayPitchers</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                <span class="n">boxscore</span> <span class="o">+=</span> <span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="n">rowLen</span> <span class="o">+</span> <span class="s1">&#39; | &#39;</span> <span class="o">+</span> <span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="n">rowLen</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>

    <span class="c1">#Get game info</span>
    <span class="k">if</span> <span class="n">gameInfo</span><span class="p">:</span>
        <span class="n">z</span> <span class="o">=</span> <span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;gameBoxInfo&#39;</span><span class="p">]</span>
        <span class="n">gameBoxInfo</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">z</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="p">(</span><span class="s1">&#39;: &#39;</span> <span class="k">if</span> <span class="n">x</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;value&#39;</span><span class="p">)</span> <span class="k">else</span> <span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="n">x</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;value&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">))</span> <span class="o">&gt;</span> <span class="n">fullRowLen</span><span class="p">:</span>
                <span class="n">words</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">((</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="p">(</span><span class="s1">&#39;: &#39;</span> <span class="k">if</span> <span class="n">x</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;value&#39;</span><span class="p">)</span> <span class="k">else</span> <span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="n">x</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;value&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">split</span><span class="p">())</span>
                <span class="n">check</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
                <span class="n">lines</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">words</span><span class="p">:</span>
                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">check</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="n">fullRowLen</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">check</span><span class="o">==</span><span class="s1">&#39;&#39;</span><span class="p">:</span> <span class="n">check</span> <span class="o">=</span> <span class="n">word</span>
                        <span class="k">else</span><span class="p">:</span> <span class="n">check</span> <span class="o">+=</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> <span class="n">word</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">check</span><span class="p">)</span>
                        <span class="n">check</span> <span class="o">=</span> <span class="s1">&#39;    &#39;</span> <span class="o">+</span> <span class="n">word</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">check</span><span class="p">):</span> <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">check</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">lines</span><span class="p">)):</span>
                    <span class="n">gameBoxInfo</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="nb">len</span><span class="p">(</span><span class="n">gameBoxInfo</span><span class="p">):</span> <span class="n">lines</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">})</span>
                    
            <span class="k">else</span><span class="p">:</span>
                <span class="n">gameBoxInfo</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="nb">len</span><span class="p">(</span><span class="n">gameBoxInfo</span><span class="p">):</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="p">(</span><span class="s1">&#39;: &#39;</span> <span class="k">if</span> <span class="n">x</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;value&#39;</span><span class="p">)</span> <span class="k">else</span> <span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="n">x</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;value&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="p">})</span>

        <span class="c1">#Build the game info box</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">gameBoxInfo</span><span class="p">)):</span>
            <span class="n">boxscore</span> <span class="o">+=</span> <span class="p">(</span><span class="s1">&#39;{:&lt;</span><span class="si">%s</span><span class="s1">}&#39;</span><span class="o">%</span><span class="n">fullRowLen</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">gameBoxInfo</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="k">if</span> <span class="n">i</span><span class="o">==</span><span class="nb">len</span><span class="p">(</span><span class="n">gameBoxInfo</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                <span class="n">boxscore</span> <span class="o">+=</span> <span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="n">fullRowLen</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>

    <span class="k">return</span> <span class="n">boxscore</span>
</pre></div>

  </div>
</div>

  </div>
  
      
  <div class="item">
    <div class="name def" id="statsapi.boxscore_data">
    <p>def <span class="ident">boxscore_data</span>(</p><p>gamePk, timecode=None)</p>
    </div>
    

    
  
    <div class="desc"><p>Get a python dict containing boxscore data for a given game.</p>
<p>Note: This function uses the game endpoint instead of game_box,
because game_box does not contain the players' names as they should be 
displayed in the box score (e.g. Last name only or Last, F)</p>
<p>It is possible to get the boxscore as it existed at a specific time by including the timestamp in the timecode parameter.
The timecode should be in the format YYYYMMDD_HHMMSS, and in the UTC timezone
For example, 4/24/19 10:32:40 EDT (-4) would be: 20190425_012240
A list of timestamps for game events can be found through the game_timestamps endpoint:
statsapi.get('game_timestamps',{'gamePk':565997})</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-statsapi.boxscore_data', this);">Show source &equiv;</a></p>
  <div id="source-statsapi.boxscore_data" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">boxscore_data</span><span class="p">(</span><span class="n">gamePk</span><span class="p">,</span><span class="n">timecode</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get a python dict containing boxscore data for a given game.</span>

<span class="sd">    Note: This function uses the game endpoint instead of game_box,</span>
<span class="sd">    because game_box does not contain the players&#39; names as they should be </span>
<span class="sd">    displayed in the box score (e.g. Last name only or Last, F)</span>

<span class="sd">    It is possible to get the boxscore as it existed at a specific time by including the timestamp in the timecode parameter.</span>
<span class="sd">    The timecode should be in the format YYYYMMDD_HHMMSS, and in the UTC timezone</span>
<span class="sd">    For example, 4/24/19 10:32:40 EDT (-4) would be: 20190425_012240</span>
<span class="sd">    A list of timestamps for game events can be found through the game_timestamps endpoint:</span>
<span class="sd">    statsapi.get(&#39;game_timestamps&#39;,{&#39;gamePk&#39;:565997})</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">boxData</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="sd">&quot;&quot;&quot;boxData holds the dict to be returned&quot;&quot;&quot;</span>

    <span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;gamePk&#39;</span><span class="p">:</span><span class="n">gamePk</span><span class="p">,</span><span class="s1">&#39;fields&#39;</span><span class="p">:</span><span class="s1">&#39;gameData,teams,teamName,shortName,teamStats,batting,atBats,runs,hits,rbi,strikeOuts,baseOnBalls,leftOnBase,pitching,inningsPitched,earnedRuns,homeRuns,players,boxscoreName,liveData,boxscore,teams,players,id,fullName,allPositions,abbreviation,seasonStats,batting,avg,ops,era,battingOrder,info,title,fieldList,note,label,value&#39;</span><span class="p">}</span>
    <span class="k">if</span> <span class="n">timecode</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;timecode&#39;</span><span class="p">:</span><span class="n">timecode</span><span class="p">})</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">get</span><span class="p">(</span><span class="s1">&#39;game&#39;</span><span class="p">,</span><span class="n">params</span><span class="p">)</span>

    <span class="n">boxData</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;teamInfo&#39;</span><span class="p">:</span><span class="n">r</span><span class="p">[</span><span class="s1">&#39;gameData&#39;</span><span class="p">][</span><span class="s1">&#39;teams&#39;</span><span class="p">]})</span>
    <span class="n">boxData</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;playerInfo&#39;</span><span class="p">:</span><span class="n">r</span><span class="p">[</span><span class="s1">&#39;gameData&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">]})</span>
    <span class="n">boxData</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;away&#39;</span><span class="p">:</span><span class="n">r</span><span class="p">[</span><span class="s1">&#39;liveData&#39;</span><span class="p">][</span><span class="s1">&#39;boxscore&#39;</span><span class="p">][</span><span class="s1">&#39;teams&#39;</span><span class="p">][</span><span class="s1">&#39;away&#39;</span><span class="p">]})</span>
    <span class="n">boxData</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;home&#39;</span><span class="p">:</span><span class="n">r</span><span class="p">[</span><span class="s1">&#39;liveData&#39;</span><span class="p">][</span><span class="s1">&#39;boxscore&#39;</span><span class="p">][</span><span class="s1">&#39;teams&#39;</span><span class="p">][</span><span class="s1">&#39;home&#39;</span><span class="p">]})</span>
    <span class="c1">#Add away column headers</span>
    <span class="n">awayBatters</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;namefield&#39;</span><span class="p">:</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;teamInfo&#39;</span><span class="p">][</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;teamName&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39; Batters&#39;</span><span class="p">,</span> <span class="s1">&#39;ab&#39;</span><span class="p">:</span><span class="s1">&#39;AB&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">:</span><span class="s1">&#39;R&#39;</span><span class="p">,</span> <span class="s1">&#39;h&#39;</span><span class="p">:</span><span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="s1">&#39;rbi&#39;</span><span class="p">:</span><span class="s1">&#39;RBI&#39;</span><span class="p">,</span> <span class="s1">&#39;bb&#39;</span><span class="p">:</span><span class="s1">&#39;BB&#39;</span><span class="p">,</span> <span class="s1">&#39;k&#39;</span><span class="p">:</span><span class="s1">&#39;K&#39;</span><span class="p">,</span> <span class="s1">&#39;lob&#39;</span><span class="p">:</span><span class="s1">&#39;LOB&#39;</span><span class="p">,</span> <span class="s1">&#39;avg&#39;</span><span class="p">:</span><span class="s1">&#39;AVG&#39;</span><span class="p">,</span> <span class="s1">&#39;ops&#39;</span><span class="p">:</span><span class="s1">&#39;OPS&#39;</span><span class="p">}]</span>
    <span class="k">for</span> <span class="n">batterId_int</span> <span class="ow">in</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;batters&#39;</span><span class="p">]</span> <span class="k">if</span> <span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;battingOrder&#39;</span><span class="p">)]:</span>
        <span class="n">batterId</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">batterId_int</span><span class="p">)</span>
        <span class="n">namefield</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">batterId</span><span class="p">][</span><span class="s1">&#39;battingOrder&#39;</span><span class="p">])[</span><span class="mi">0</span><span class="p">]</span> <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">batterId</span><span class="p">][</span><span class="s1">&#39;battingOrder&#39;</span><span class="p">])[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;0&#39;</span> <span class="k">else</span> <span class="s2">&quot;   &quot;</span>
        <span class="n">namefield</span> <span class="o">+=</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">batterId</span><span class="p">][</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="s1">&#39;batting&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;note&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
        <span class="n">namefield</span> <span class="o">+=</span> <span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;playerInfo&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">batterId</span><span class="p">][</span><span class="s1">&#39;boxscoreName&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;  &quot;</span> <span class="o">+</span> <span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">batterId</span><span class="p">][</span><span class="s1">&#39;position&#39;</span><span class="p">][</span><span class="s1">&#39;abbreviation&#39;</span><span class="p">]</span>
        <span class="n">batter</span> <span class="o">=</span>    <span class="p">{</span>
                        <span class="s1">&#39;namefield&#39;</span><span class="p">:</span><span class="n">namefield</span><span class="p">,</span>
                        <span class="s1">&#39;ab&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">batterId</span><span class="p">][</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="s1">&#39;batting&#39;</span><span class="p">][</span><span class="s1">&#39;atBats&#39;</span><span class="p">]),</span>
                        <span class="s1">&#39;r&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">batterId</span><span class="p">][</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="s1">&#39;batting&#39;</span><span class="p">][</span><span class="s1">&#39;runs&#39;</span><span class="p">]),</span>
                        <span class="s1">&#39;h&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">batterId</span><span class="p">][</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="s1">&#39;batting&#39;</span><span class="p">][</span><span class="s1">&#39;hits&#39;</span><span class="p">]),</span>
                        <span class="s1">&#39;rbi&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">batterId</span><span class="p">][</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="s1">&#39;batting&#39;</span><span class="p">][</span><span class="s1">&#39;rbi&#39;</span><span class="p">]),</span>
                        <span class="s1">&#39;bb&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">batterId</span><span class="p">][</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="s1">&#39;batting&#39;</span><span class="p">][</span><span class="s1">&#39;baseOnBalls&#39;</span><span class="p">]),</span>
                        <span class="s1">&#39;k&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">batterId</span><span class="p">][</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="s1">&#39;batting&#39;</span><span class="p">][</span><span class="s1">&#39;strikeOuts&#39;</span><span class="p">]),</span>
                        <span class="s1">&#39;lob&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">batterId</span><span class="p">][</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="s1">&#39;batting&#39;</span><span class="p">][</span><span class="s1">&#39;leftOnBase&#39;</span><span class="p">]),</span>
                        <span class="s1">&#39;avg&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">batterId</span><span class="p">][</span><span class="s1">&#39;seasonStats&#39;</span><span class="p">][</span><span class="s1">&#39;batting&#39;</span><span class="p">][</span><span class="s1">&#39;avg&#39;</span><span class="p">]),</span>
                        <span class="s1">&#39;ops&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">batterId</span><span class="p">][</span><span class="s1">&#39;seasonStats&#39;</span><span class="p">][</span><span class="s1">&#39;batting&#39;</span><span class="p">][</span><span class="s1">&#39;ops&#39;</span><span class="p">])</span>
                    <span class="p">}</span>
        <span class="n">awayBatters</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">batter</span><span class="p">)</span>

    <span class="c1">#Add home column headers</span>
    <span class="n">homeBatters</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;namefield&#39;</span><span class="p">:</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;teamInfo&#39;</span><span class="p">][</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;teamName&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39; Batters&#39;</span><span class="p">,</span> <span class="s1">&#39;ab&#39;</span><span class="p">:</span><span class="s1">&#39;AB&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">:</span><span class="s1">&#39;R&#39;</span><span class="p">,</span> <span class="s1">&#39;h&#39;</span><span class="p">:</span><span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="s1">&#39;rbi&#39;</span><span class="p">:</span><span class="s1">&#39;RBI&#39;</span><span class="p">,</span> <span class="s1">&#39;bb&#39;</span><span class="p">:</span><span class="s1">&#39;BB&#39;</span><span class="p">,</span> <span class="s1">&#39;k&#39;</span><span class="p">:</span><span class="s1">&#39;K&#39;</span><span class="p">,</span> <span class="s1">&#39;lob&#39;</span><span class="p">:</span><span class="s1">&#39;LOB&#39;</span><span class="p">,</span> <span class="s1">&#39;avg&#39;</span><span class="p">:</span><span class="s1">&#39;AVG&#39;</span><span class="p">,</span> <span class="s1">&#39;ops&#39;</span><span class="p">:</span><span class="s1">&#39;OPS&#39;</span><span class="p">}]</span>
    <span class="k">for</span> <span class="n">batterId_int</span> <span class="ow">in</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;batters&#39;</span><span class="p">]</span> <span class="k">if</span> <span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;battingOrder&#39;</span><span class="p">)]:</span>
        <span class="n">batterId</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">batterId_int</span><span class="p">)</span>
        <span class="n">namefield</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">batterId</span><span class="p">][</span><span class="s1">&#39;battingOrder&#39;</span><span class="p">])[</span><span class="mi">0</span><span class="p">]</span> <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">batterId</span><span class="p">][</span><span class="s1">&#39;battingOrder&#39;</span><span class="p">])[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;0&#39;</span> <span class="k">else</span> <span class="s2">&quot;   &quot;</span>
        <span class="n">namefield</span> <span class="o">+=</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">batterId</span><span class="p">][</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="s1">&#39;batting&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;note&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
        <span class="n">namefield</span> <span class="o">+=</span> <span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;playerInfo&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">batterId</span><span class="p">][</span><span class="s1">&#39;boxscoreName&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;  &quot;</span> <span class="o">+</span> <span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">batterId</span><span class="p">][</span><span class="s1">&#39;position&#39;</span><span class="p">][</span><span class="s1">&#39;abbreviation&#39;</span><span class="p">]</span>
        <span class="n">batter</span> <span class="o">=</span>    <span class="p">{</span>
                        <span class="s1">&#39;namefield&#39;</span><span class="p">:</span><span class="n">namefield</span><span class="p">,</span>
                        <span class="s1">&#39;ab&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">batterId</span><span class="p">][</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="s1">&#39;batting&#39;</span><span class="p">][</span><span class="s1">&#39;atBats&#39;</span><span class="p">]),</span>
                        <span class="s1">&#39;r&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">batterId</span><span class="p">][</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="s1">&#39;batting&#39;</span><span class="p">][</span><span class="s1">&#39;runs&#39;</span><span class="p">]),</span>
                        <span class="s1">&#39;h&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">batterId</span><span class="p">][</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="s1">&#39;batting&#39;</span><span class="p">][</span><span class="s1">&#39;hits&#39;</span><span class="p">]),</span>
                        <span class="s1">&#39;rbi&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">batterId</span><span class="p">][</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="s1">&#39;batting&#39;</span><span class="p">][</span><span class="s1">&#39;rbi&#39;</span><span class="p">]),</span>
                        <span class="s1">&#39;bb&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">batterId</span><span class="p">][</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="s1">&#39;batting&#39;</span><span class="p">][</span><span class="s1">&#39;baseOnBalls&#39;</span><span class="p">]),</span>
                        <span class="s1">&#39;k&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">batterId</span><span class="p">][</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="s1">&#39;batting&#39;</span><span class="p">][</span><span class="s1">&#39;strikeOuts&#39;</span><span class="p">]),</span>
                        <span class="s1">&#39;lob&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">batterId</span><span class="p">][</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="s1">&#39;batting&#39;</span><span class="p">][</span><span class="s1">&#39;leftOnBase&#39;</span><span class="p">]),</span>
                        <span class="s1">&#39;avg&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">batterId</span><span class="p">][</span><span class="s1">&#39;seasonStats&#39;</span><span class="p">][</span><span class="s1">&#39;batting&#39;</span><span class="p">][</span><span class="s1">&#39;avg&#39;</span><span class="p">]),</span>
                        <span class="s1">&#39;ops&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">batterId</span><span class="p">][</span><span class="s1">&#39;seasonStats&#39;</span><span class="p">][</span><span class="s1">&#39;batting&#39;</span><span class="p">][</span><span class="s1">&#39;ops&#39;</span><span class="p">])</span>
                    <span class="p">}</span>
        <span class="n">homeBatters</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">batter</span><span class="p">)</span>

    <span class="n">boxData</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;awayBatters&#39;</span><span class="p">:</span><span class="n">awayBatters</span><span class="p">})</span>
    <span class="n">boxData</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;homeBatters&#39;</span><span class="p">:</span><span class="n">homeBatters</span><span class="p">})</span>

    <span class="c1">#Add away team totals</span>
    <span class="n">boxData</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;awayBattingTotals&#39;</span><span class="p">:</span> <span class="p">{</span>
                            <span class="s1">&#39;namefield&#39;</span><span class="p">:</span><span class="s1">&#39;Totals&#39;</span><span class="p">,</span>
                            <span class="s1">&#39;ab&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;teamStats&#39;</span><span class="p">][</span><span class="s1">&#39;batting&#39;</span><span class="p">][</span><span class="s1">&#39;atBats&#39;</span><span class="p">]),</span>
                            <span class="s1">&#39;r&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;teamStats&#39;</span><span class="p">][</span><span class="s1">&#39;batting&#39;</span><span class="p">][</span><span class="s1">&#39;runs&#39;</span><span class="p">]),</span>
                            <span class="s1">&#39;h&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;teamStats&#39;</span><span class="p">][</span><span class="s1">&#39;batting&#39;</span><span class="p">][</span><span class="s1">&#39;hits&#39;</span><span class="p">]),</span>
                            <span class="s1">&#39;rbi&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;teamStats&#39;</span><span class="p">][</span><span class="s1">&#39;batting&#39;</span><span class="p">][</span><span class="s1">&#39;rbi&#39;</span><span class="p">]),</span>
                            <span class="s1">&#39;bb&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;teamStats&#39;</span><span class="p">][</span><span class="s1">&#39;batting&#39;</span><span class="p">][</span><span class="s1">&#39;baseOnBalls&#39;</span><span class="p">]),</span>
                            <span class="s1">&#39;k&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;teamStats&#39;</span><span class="p">][</span><span class="s1">&#39;batting&#39;</span><span class="p">][</span><span class="s1">&#39;strikeOuts&#39;</span><span class="p">]),</span>
                            <span class="s1">&#39;lob&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;teamStats&#39;</span><span class="p">][</span><span class="s1">&#39;batting&#39;</span><span class="p">][</span><span class="s1">&#39;leftOnBase&#39;</span><span class="p">]),</span>
                            <span class="s1">&#39;avg&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span>
                            <span class="s1">&#39;ops&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span>
                        <span class="p">}})</span>
    <span class="c1">#Add home team totals</span>
    <span class="n">boxData</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;homeBattingTotals&#39;</span><span class="p">:</span> <span class="p">{</span>
                            <span class="s1">&#39;namefield&#39;</span><span class="p">:</span><span class="s1">&#39;Totals&#39;</span><span class="p">,</span>
                            <span class="s1">&#39;ab&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;teamStats&#39;</span><span class="p">][</span><span class="s1">&#39;batting&#39;</span><span class="p">][</span><span class="s1">&#39;atBats&#39;</span><span class="p">]),</span>
                            <span class="s1">&#39;r&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;teamStats&#39;</span><span class="p">][</span><span class="s1">&#39;batting&#39;</span><span class="p">][</span><span class="s1">&#39;runs&#39;</span><span class="p">]),</span>
                            <span class="s1">&#39;h&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;teamStats&#39;</span><span class="p">][</span><span class="s1">&#39;batting&#39;</span><span class="p">][</span><span class="s1">&#39;hits&#39;</span><span class="p">]),</span>
                            <span class="s1">&#39;rbi&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;teamStats&#39;</span><span class="p">][</span><span class="s1">&#39;batting&#39;</span><span class="p">][</span><span class="s1">&#39;rbi&#39;</span><span class="p">]),</span>
                            <span class="s1">&#39;bb&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;teamStats&#39;</span><span class="p">][</span><span class="s1">&#39;batting&#39;</span><span class="p">][</span><span class="s1">&#39;baseOnBalls&#39;</span><span class="p">]),</span>
                            <span class="s1">&#39;k&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;teamStats&#39;</span><span class="p">][</span><span class="s1">&#39;batting&#39;</span><span class="p">][</span><span class="s1">&#39;strikeOuts&#39;</span><span class="p">]),</span>
                            <span class="s1">&#39;lob&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;teamStats&#39;</span><span class="p">][</span><span class="s1">&#39;batting&#39;</span><span class="p">][</span><span class="s1">&#39;leftOnBase&#39;</span><span class="p">]),</span>
                            <span class="s1">&#39;avg&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span>
                            <span class="s1">&#39;ops&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span>
                        <span class="p">}})</span>

    <span class="c1">#Get batting notes</span>
    <span class="n">awayBattingNotes</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;note&#39;</span><span class="p">]:</span>
        <span class="n">awayBattingNotes</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="nb">len</span><span class="p">(</span><span class="n">awayBattingNotes</span><span class="p">)</span> <span class="p">:</span> <span class="n">n</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;-&#39;</span> <span class="o">+</span> <span class="n">n</span><span class="p">[</span><span class="s1">&#39;value&#39;</span><span class="p">]})</span>
    <span class="n">homeBattingNotes</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;note&#39;</span><span class="p">]:</span>
        <span class="n">homeBattingNotes</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="nb">len</span><span class="p">(</span><span class="n">homeBattingNotes</span><span class="p">)</span> <span class="p">:</span> <span class="n">n</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;-&#39;</span> <span class="o">+</span> <span class="n">n</span><span class="p">[</span><span class="s1">&#39;value&#39;</span><span class="p">]})</span>

    <span class="n">boxData</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;awayBattingNotes&#39;</span><span class="p">:</span><span class="n">awayBattingNotes</span><span class="p">})</span>
    <span class="n">boxData</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;homeBattingNotes&#39;</span><span class="p">:</span><span class="n">homeBattingNotes</span><span class="p">})</span>

    <span class="c1">#Get pitching box</span>
    <span class="c1">#Add away column headers</span>
    <span class="n">awayPitchers</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;namefield&#39;</span><span class="p">:</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;teamInfo&#39;</span><span class="p">][</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;teamName&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39; Pitchers&#39;</span><span class="p">,</span> <span class="s1">&#39;ip&#39;</span><span class="p">:</span><span class="s1">&#39;IP&#39;</span><span class="p">,</span> <span class="s1">&#39;h&#39;</span><span class="p">:</span><span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">:</span><span class="s1">&#39;R&#39;</span><span class="p">,</span> <span class="s1">&#39;er&#39;</span><span class="p">:</span><span class="s1">&#39;ER&#39;</span><span class="p">,</span> <span class="s1">&#39;bb&#39;</span><span class="p">:</span><span class="s1">&#39;BB&#39;</span><span class="p">,</span> <span class="s1">&#39;k&#39;</span><span class="p">:</span><span class="s1">&#39;K&#39;</span><span class="p">,</span> <span class="s1">&#39;hr&#39;</span><span class="p">:</span><span class="s1">&#39;HR&#39;</span><span class="p">,</span> <span class="s1">&#39;era&#39;</span><span class="p">:</span><span class="s1">&#39;ERA&#39;</span><span class="p">}]</span>
    <span class="k">for</span> <span class="n">pitcherId_int</span> <span class="ow">in</span> <span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;pitchers&#39;</span><span class="p">]:</span>
        <span class="n">pitcherId</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">pitcherId_int</span><span class="p">)</span>
        <span class="n">namefield</span> <span class="o">=</span> <span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;playerInfo&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">pitcherId</span><span class="p">][</span><span class="s1">&#39;boxscoreName&#39;</span><span class="p">]</span>
        <span class="n">namefield</span> <span class="o">+=</span> <span class="s1">&#39;  &#39;</span> <span class="o">+</span> <span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">pitcherId</span><span class="p">][</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="s1">&#39;pitching&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;note&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="k">if</span> <span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">pitcherId</span><span class="p">][</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="s1">&#39;pitching&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;note&#39;</span><span class="p">)</span> <span class="k">else</span> <span class="s1">&#39;&#39;</span>
        <span class="n">pitcher</span> <span class="o">=</span>    <span class="p">{</span>
                        <span class="s1">&#39;namefield&#39;</span><span class="p">:</span><span class="n">namefield</span><span class="p">,</span>
                        <span class="s1">&#39;ip&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">pitcherId</span><span class="p">][</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="s1">&#39;pitching&#39;</span><span class="p">][</span><span class="s1">&#39;inningsPitched&#39;</span><span class="p">]),</span>
                        <span class="s1">&#39;h&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">pitcherId</span><span class="p">][</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="s1">&#39;pitching&#39;</span><span class="p">][</span><span class="s1">&#39;hits&#39;</span><span class="p">]),</span>
                        <span class="s1">&#39;r&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">pitcherId</span><span class="p">][</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="s1">&#39;pitching&#39;</span><span class="p">][</span><span class="s1">&#39;runs&#39;</span><span class="p">]),</span>
                        <span class="s1">&#39;er&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">pitcherId</span><span class="p">][</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="s1">&#39;pitching&#39;</span><span class="p">][</span><span class="s1">&#39;earnedRuns&#39;</span><span class="p">]),</span>
                        <span class="s1">&#39;bb&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">pitcherId</span><span class="p">][</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="s1">&#39;pitching&#39;</span><span class="p">][</span><span class="s1">&#39;baseOnBalls&#39;</span><span class="p">]),</span>
                        <span class="s1">&#39;k&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">pitcherId</span><span class="p">][</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="s1">&#39;pitching&#39;</span><span class="p">][</span><span class="s1">&#39;strikeOuts&#39;</span><span class="p">]),</span>
                        <span class="s1">&#39;hr&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">pitcherId</span><span class="p">][</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="s1">&#39;pitching&#39;</span><span class="p">][</span><span class="s1">&#39;homeRuns&#39;</span><span class="p">]),</span>
                        <span class="s1">&#39;era&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">pitcherId</span><span class="p">][</span><span class="s1">&#39;seasonStats&#39;</span><span class="p">][</span><span class="s1">&#39;pitching&#39;</span><span class="p">][</span><span class="s1">&#39;era&#39;</span><span class="p">])</span>
                    <span class="p">}</span>
        <span class="n">awayPitchers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pitcher</span><span class="p">)</span>

    <span class="n">boxData</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;awayPitchers&#39;</span><span class="p">:</span><span class="n">awayPitchers</span><span class="p">})</span>

    <span class="c1">#Add home column headers</span>
    <span class="n">homePitchers</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;namefield&#39;</span><span class="p">:</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;teamInfo&#39;</span><span class="p">][</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;teamName&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39; Pitchers&#39;</span><span class="p">,</span> <span class="s1">&#39;ip&#39;</span><span class="p">:</span><span class="s1">&#39;IP&#39;</span><span class="p">,</span> <span class="s1">&#39;h&#39;</span><span class="p">:</span><span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">:</span><span class="s1">&#39;R&#39;</span><span class="p">,</span> <span class="s1">&#39;er&#39;</span><span class="p">:</span><span class="s1">&#39;ER&#39;</span><span class="p">,</span> <span class="s1">&#39;bb&#39;</span><span class="p">:</span><span class="s1">&#39;BB&#39;</span><span class="p">,</span> <span class="s1">&#39;k&#39;</span><span class="p">:</span><span class="s1">&#39;K&#39;</span><span class="p">,</span> <span class="s1">&#39;hr&#39;</span><span class="p">:</span><span class="s1">&#39;HR&#39;</span><span class="p">,</span> <span class="s1">&#39;era&#39;</span><span class="p">:</span><span class="s1">&#39;ERA&#39;</span><span class="p">}]</span>
    <span class="k">for</span> <span class="n">pitcherId_int</span> <span class="ow">in</span> <span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;pitchers&#39;</span><span class="p">]:</span>
        <span class="n">pitcherId</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">pitcherId_int</span><span class="p">)</span>
        <span class="n">namefield</span> <span class="o">=</span> <span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;playerInfo&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">pitcherId</span><span class="p">][</span><span class="s1">&#39;boxscoreName&#39;</span><span class="p">]</span>
        <span class="n">namefield</span> <span class="o">+=</span> <span class="s1">&#39;  &#39;</span> <span class="o">+</span> <span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">pitcherId</span><span class="p">][</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="s1">&#39;pitching&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;note&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="k">if</span> <span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">pitcherId</span><span class="p">][</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="s1">&#39;pitching&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;note&#39;</span><span class="p">)</span> <span class="k">else</span> <span class="s1">&#39;&#39;</span>
        <span class="n">pitcher</span> <span class="o">=</span>    <span class="p">{</span>
                        <span class="s1">&#39;namefield&#39;</span><span class="p">:</span><span class="n">namefield</span><span class="p">,</span>
                        <span class="s1">&#39;ip&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">pitcherId</span><span class="p">][</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="s1">&#39;pitching&#39;</span><span class="p">][</span><span class="s1">&#39;inningsPitched&#39;</span><span class="p">]),</span>
                        <span class="s1">&#39;h&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">pitcherId</span><span class="p">][</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="s1">&#39;pitching&#39;</span><span class="p">][</span><span class="s1">&#39;hits&#39;</span><span class="p">]),</span>
                        <span class="s1">&#39;r&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">pitcherId</span><span class="p">][</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="s1">&#39;pitching&#39;</span><span class="p">][</span><span class="s1">&#39;runs&#39;</span><span class="p">]),</span>
                        <span class="s1">&#39;er&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">pitcherId</span><span class="p">][</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="s1">&#39;pitching&#39;</span><span class="p">][</span><span class="s1">&#39;earnedRuns&#39;</span><span class="p">]),</span>
                        <span class="s1">&#39;bb&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">pitcherId</span><span class="p">][</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="s1">&#39;pitching&#39;</span><span class="p">][</span><span class="s1">&#39;baseOnBalls&#39;</span><span class="p">]),</span>
                        <span class="s1">&#39;k&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">pitcherId</span><span class="p">][</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="s1">&#39;pitching&#39;</span><span class="p">][</span><span class="s1">&#39;strikeOuts&#39;</span><span class="p">]),</span>
                        <span class="s1">&#39;hr&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">pitcherId</span><span class="p">][</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="s1">&#39;pitching&#39;</span><span class="p">][</span><span class="s1">&#39;homeRuns&#39;</span><span class="p">]),</span>
                        <span class="s1">&#39;era&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;players&#39;</span><span class="p">][</span><span class="s1">&#39;ID&#39;</span><span class="o">+</span><span class="n">pitcherId</span><span class="p">][</span><span class="s1">&#39;seasonStats&#39;</span><span class="p">][</span><span class="s1">&#39;pitching&#39;</span><span class="p">][</span><span class="s1">&#39;era&#39;</span><span class="p">])</span>
                    <span class="p">}</span>
        <span class="n">homePitchers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pitcher</span><span class="p">)</span>

    <span class="n">boxData</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;homePitchers&#39;</span><span class="p">:</span><span class="n">homePitchers</span><span class="p">})</span>

    <span class="c1">#Get away team totals</span>
    <span class="n">boxData</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;awayPitchingTotals&#39;</span><span class="p">:</span>   <span class="p">{</span>
                            <span class="s1">&#39;namefield&#39;</span><span class="p">:</span><span class="s1">&#39;Totals&#39;</span><span class="p">,</span>
                            <span class="s1">&#39;ip&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;teamStats&#39;</span><span class="p">][</span><span class="s1">&#39;pitching&#39;</span><span class="p">][</span><span class="s1">&#39;inningsPitched&#39;</span><span class="p">]),</span>
                            <span class="s1">&#39;h&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;teamStats&#39;</span><span class="p">][</span><span class="s1">&#39;pitching&#39;</span><span class="p">][</span><span class="s1">&#39;hits&#39;</span><span class="p">]),</span>
                            <span class="s1">&#39;r&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;teamStats&#39;</span><span class="p">][</span><span class="s1">&#39;pitching&#39;</span><span class="p">][</span><span class="s1">&#39;runs&#39;</span><span class="p">]),</span>
                            <span class="s1">&#39;er&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;teamStats&#39;</span><span class="p">][</span><span class="s1">&#39;pitching&#39;</span><span class="p">][</span><span class="s1">&#39;earnedRuns&#39;</span><span class="p">]),</span>
                            <span class="s1">&#39;bb&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;teamStats&#39;</span><span class="p">][</span><span class="s1">&#39;pitching&#39;</span><span class="p">][</span><span class="s1">&#39;baseOnBalls&#39;</span><span class="p">]),</span>
                            <span class="s1">&#39;k&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;teamStats&#39;</span><span class="p">][</span><span class="s1">&#39;pitching&#39;</span><span class="p">][</span><span class="s1">&#39;strikeOuts&#39;</span><span class="p">]),</span>
                            <span class="s1">&#39;hr&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;teamStats&#39;</span><span class="p">][</span><span class="s1">&#39;pitching&#39;</span><span class="p">][</span><span class="s1">&#39;homeRuns&#39;</span><span class="p">]),</span>
                            <span class="s1">&#39;era&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span>
                        <span class="p">}})</span>


    <span class="c1">#Get home team totals</span>
    <span class="n">boxData</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;homePitchingTotals&#39;</span><span class="p">:</span>   <span class="p">{</span>
                            <span class="s1">&#39;namefield&#39;</span><span class="p">:</span><span class="s1">&#39;Totals&#39;</span><span class="p">,</span>
                            <span class="s1">&#39;ip&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;teamStats&#39;</span><span class="p">][</span><span class="s1">&#39;pitching&#39;</span><span class="p">][</span><span class="s1">&#39;inningsPitched&#39;</span><span class="p">]),</span>
                            <span class="s1">&#39;h&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;teamStats&#39;</span><span class="p">][</span><span class="s1">&#39;pitching&#39;</span><span class="p">][</span><span class="s1">&#39;hits&#39;</span><span class="p">]),</span>
                            <span class="s1">&#39;r&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;teamStats&#39;</span><span class="p">][</span><span class="s1">&#39;pitching&#39;</span><span class="p">][</span><span class="s1">&#39;runs&#39;</span><span class="p">]),</span>
                            <span class="s1">&#39;er&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;teamStats&#39;</span><span class="p">][</span><span class="s1">&#39;pitching&#39;</span><span class="p">][</span><span class="s1">&#39;earnedRuns&#39;</span><span class="p">]),</span>
                            <span class="s1">&#39;bb&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;teamStats&#39;</span><span class="p">][</span><span class="s1">&#39;pitching&#39;</span><span class="p">][</span><span class="s1">&#39;baseOnBalls&#39;</span><span class="p">]),</span>
                            <span class="s1">&#39;k&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;teamStats&#39;</span><span class="p">][</span><span class="s1">&#39;pitching&#39;</span><span class="p">][</span><span class="s1">&#39;strikeOuts&#39;</span><span class="p">]),</span>
                            <span class="s1">&#39;hr&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">boxData</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;teamStats&#39;</span><span class="p">][</span><span class="s1">&#39;pitching&#39;</span><span class="p">][</span><span class="s1">&#39;homeRuns&#39;</span><span class="p">]),</span>
                            <span class="s1">&#39;era&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span>
                        <span class="p">}})</span>

    <span class="c1">#Get game info</span>
    <span class="n">boxData</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;gameBoxInfo&#39;</span><span class="p">:</span><span class="n">r</span><span class="p">[</span><span class="s1">&#39;liveData&#39;</span><span class="p">][</span><span class="s1">&#39;boxscore&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;info&#39;</span><span class="p">,[])})</span>

    <span class="k">return</span> <span class="n">boxData</span>
</pre></div>

  </div>
</div>

  </div>
  
      
  <div class="item">
    <div class="name def" id="statsapi.game_highlight_data">
    <p>def <span class="ident">game_highlight_data</span>(</p><p>gamePk)</p>
    </div>
    

    
  
    <div class="desc"><p>Get a list of highlight data for a given game</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-statsapi.game_highlight_data', this);">Show source &equiv;</a></p>
  <div id="source-statsapi.game_highlight_data" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">game_highlight_data</span><span class="p">(</span><span class="n">gamePk</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get a list of highlight data for a given game</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">get</span><span class="p">(</span><span class="s1">&#39;schedule&#39;</span><span class="p">,{</span><span class="s1">&#39;sportId&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="s1">&#39;gamePk&#39;</span><span class="p">:</span><span class="n">gamePk</span><span class="p">,</span><span class="s1">&#39;hydrate&#39;</span><span class="p">:</span><span class="s1">&#39;game(content(highlights(highlights)))&#39;</span><span class="p">,</span><span class="s1">&#39;fields&#39;</span><span class="p">:</span><span class="s1">&#39;dates,date,games,gamePk,content,highlights,items,headline,type,value,title,description,duration,playbacks,name,url&#39;</span><span class="p">})</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">len</span><span class="p">(</span><span class="n">r</span><span class="p">[</span><span class="s1">&#39;dates&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;games&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;content&#39;</span><span class="p">][</span><span class="s1">&#39;highlights&#39;</span><span class="p">][</span><span class="s1">&#39;highlights&#39;</span><span class="p">][</span><span class="s1">&#39;items&#39;</span><span class="p">]):</span> <span class="k">return</span> <span class="s1">&#39;&#39;</span>
    <span class="n">items</span> <span class="o">=</span> <span class="n">r</span><span class="p">[</span><span class="s1">&#39;dates&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;games&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;content&#39;</span><span class="p">][</span><span class="s1">&#39;highlights&#39;</span><span class="p">][</span><span class="s1">&#39;highlights&#39;</span><span class="p">][</span><span class="s1">&#39;items&#39;</span><span class="p">]</span>

    <span class="n">highlights</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="n">unorderedHighlights</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="p">(</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">items</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="nb">dict</span><span class="p">)</span> <span class="ow">and</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;video&#39;</span><span class="p">):</span>
        <span class="n">unorderedHighlights</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">v</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span> <span class="p">:</span> <span class="n">v</span><span class="p">})</span>

    <span class="n">sortedHighlights</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">unorderedHighlights</span><span class="p">):</span>
        <span class="n">sortedHighlights</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">unorderedHighlights</span><span class="p">[</span><span class="n">x</span><span class="p">])</span>

    <span class="k">return</span> <span class="n">sortedHighlights</span>
</pre></div>

  </div>
</div>

  </div>
  
      
  <div class="item">
    <div class="name def" id="statsapi.game_highlights">
    <p>def <span class="ident">game_highlights</span>(</p><p>gamePk)</p>
    </div>
    

    
  
    <div class="desc"><p>Get the highlight video links for a given game</p>
<p>Example use:</p>
<p>Print the highlight links for the most recent Phillies game</p>
<p>print( statsapi.game_highlights( statsapi.last_game(143) ) )</p>
<p>Output (truncated to only include the first two highlights):</p>
<p>Hoskins' RBI double (00:00:16)
Rhys Hoskins belts a double off the left-center-field wall to score Bryce Harper and give the Phillies a 1-0 lead in the bottom of the 1st
https://cuts.diamond.mlb.com/FORGE/2019/2019-04/28/b1117503-3df11d8d-6df0dd65-csvm-diamondx64-asset_1280x720_59_4000K.mp4</p>
<p>Phanatic has birthday party (00:01:15)
Kids and fellow mascots were at Citizens Bank Park to celebrate the Phillie Phanatic's birthday before the game against the Marlins
https://cuts.diamond.mlb.com/FORGE/2019/2019-04/28/7d978385-db13f22d-f68c304f-csvm-diamondx64-asset_1280x720_59_4000K.mp4</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-statsapi.game_highlights', this);">Show source &equiv;</a></p>
  <div id="source-statsapi.game_highlights" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">game_highlights</span><span class="p">(</span><span class="n">gamePk</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get the highlight video links for a given game</span>

<span class="sd">    Example use:</span>

<span class="sd">    Print the highlight links for the most recent Phillies game</span>

<span class="sd">    print( statsapi.game_highlights( statsapi.last_game(143) ) )</span>

<span class="sd">    Output (truncated to only include the first two highlights):</span>

<span class="sd">    Hoskins&#39; RBI double (00:00:16)</span>
<span class="sd">    Rhys Hoskins belts a double off the left-center-field wall to score Bryce Harper and give the Phillies a 1-0 lead in the bottom of the 1st</span>
<span class="sd">    https://cuts.diamond.mlb.com/FORGE/2019/2019-04/28/b1117503-3df11d8d-6df0dd65-csvm-diamondx64-asset_1280x720_59_4000K.mp4</span>

<span class="sd">    Phanatic has birthday party (00:01:15)</span>
<span class="sd">    Kids and fellow mascots were at Citizens Bank Park to celebrate the Phillie Phanatic&#39;s birthday before the game against the Marlins</span>
<span class="sd">    https://cuts.diamond.mlb.com/FORGE/2019/2019-04/28/7d978385-db13f22d-f68c304f-csvm-diamondx64-asset_1280x720_59_4000K.mp4</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">sortedHighlights</span> <span class="o">=</span> <span class="n">game_highlight_data</span><span class="p">(</span><span class="n">gamePk</span><span class="p">)</span>
    
    <span class="n">highlights</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">sortedHighlights</span><span class="p">:</span>
        <span class="c1">#if sum(1 for t in a[&#39;keywordsAll&#39;] if t[&#39;type&#39;]==&#39;team_id&#39;) == 1:</span>
        <span class="c1">#    highlights += next(t[&#39;displayName&#39;] for t in a[&#39;keywordsAll&#39;] if t[&#39;type&#39;]==&#39;team_id&#39;) + &#39;\n&#39;</span>
        <span class="n">highlights</span> <span class="o">+=</span> <span class="s1">&#39;{} ({})</span><span class="se">\n</span><span class="s1">{}</span><span class="se">\n</span><span class="s1">{}</span><span class="se">\n\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">,</span><span class="n">a</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;headline&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">)),</span> <span class="n">a</span><span class="p">[</span><span class="s1">&#39;duration&#39;</span><span class="p">],</span> <span class="n">a</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;description&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">),</span> <span class="nb">next</span><span class="p">((</span><span class="n">s</span><span class="p">[</span><span class="s1">&#39;url&#39;</span><span class="p">]</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">a</span><span class="p">[</span><span class="s1">&#39;playbacks&#39;</span><span class="p">]</span> <span class="k">if</span> <span class="n">s</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;mp4Avc&#39;</span><span class="p">),</span><span class="nb">next</span><span class="p">((</span><span class="n">s</span><span class="p">[</span><span class="s1">&#39;url&#39;</span><span class="p">]</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">a</span><span class="p">[</span><span class="s1">&#39;playbacks&#39;</span><span class="p">]</span> <span class="k">if</span> <span class="n">s</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;FLASH_2500K_1280X720&#39;</span><span class="p">),</span><span class="s1">&#39;Link not found&#39;</span><span class="p">)))</span>

    <span class="k">return</span> <span class="n">highlights</span>
</pre></div>

  </div>
</div>

  </div>
  
      
  <div class="item">
    <div class="name def" id="statsapi.game_pace">
    <p>def <span class="ident">game_pace</span>(</p><p>season=2019, sportId=1)</p>
    </div>
    

    
  
    <div class="desc"><p>Get a text-formatted list about pace of game for a given season (back to 1999).</p>
<p>Example use:</p>
<p>Print the pace of game stats for 2008, in order to determine the number and average time of extra inning games</p>
<p>print(statsapi.game_pace(2008))</p>
<p>Output:</p>
<p>2008 Game Pace Stats
hitsPer9Inn: 18.26
runsPer9Inn: 9.38
pitchesPer9Inn: 297.72
plateAppearancesPer9Inn: 77.89
hitsPerGame: 18.11
runsPerGame: 9.3
inningsPlayedPerGame: 8.96
pitchesPerGame: 295.36
pitchersPerGame: 7.83
plateAppearancesPerGame: 77.28
totalGameTime: 7086:06:00
totalInningsPlayed: 21748.0
totalHits: 43972
totalRuns: 22585
totalPlateAppearances: 187630
totalPitchers: 19012
totalPitches: 717131
totalGames: 2428
total9InnGames: 2428
totalExtraInnGames: 208
timePerGame: 02:55:07
timePerPitch: 00:00:36
timePerHit: 00:09:40
timePerRun: 00:18:50
timePerPlateAppearance: 00:02:16
timePer9Inn: 02:56:30
timePer77PlateAppearances: 02:54:29
totalExtraInnTime: 775:10:00
timePer7InnGameWithoutExtraInn: 00:00:00
total9InnGamesCompletedEarly: 3
total9InnGamesWithoutExtraInn: 2217
total9InnGamesScheduled: 2428
hitsPerRun: 1.947
pitchesPerPitcher: 37.72
total7InnGames: 3
total9InnGames: 2217
totalExtraInnGames: 208
timePer7InnGame: 01:54:40
timePer9InnGame: 02:50:38
timePerExtraInnGame: 03:43:36</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-statsapi.game_pace', this);">Show source &equiv;</a></p>
  <div id="source-statsapi.game_pace" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">game_pace</span><span class="p">(</span><span class="n">season</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">year</span><span class="p">,</span><span class="n">sportId</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get a text-formatted list about pace of game for a given season (back to 1999).</span>

<span class="sd">    Example use:</span>

<span class="sd">    Print the pace of game stats for 2008, in order to determine the number and average time of extra inning games</span>

<span class="sd">    print(statsapi.game_pace(2008))</span>

<span class="sd">    Output:</span>

<span class="sd">    2008 Game Pace Stats</span>
<span class="sd">    hitsPer9Inn: 18.26</span>
<span class="sd">    runsPer9Inn: 9.38</span>
<span class="sd">    pitchesPer9Inn: 297.72</span>
<span class="sd">    plateAppearancesPer9Inn: 77.89</span>
<span class="sd">    hitsPerGame: 18.11</span>
<span class="sd">    runsPerGame: 9.3</span>
<span class="sd">    inningsPlayedPerGame: 8.96</span>
<span class="sd">    pitchesPerGame: 295.36</span>
<span class="sd">    pitchersPerGame: 7.83</span>
<span class="sd">    plateAppearancesPerGame: 77.28</span>
<span class="sd">    totalGameTime: 7086:06:00</span>
<span class="sd">    totalInningsPlayed: 21748.0</span>
<span class="sd">    totalHits: 43972</span>
<span class="sd">    totalRuns: 22585</span>
<span class="sd">    totalPlateAppearances: 187630</span>
<span class="sd">    totalPitchers: 19012</span>
<span class="sd">    totalPitches: 717131</span>
<span class="sd">    totalGames: 2428</span>
<span class="sd">    total9InnGames: 2428</span>
<span class="sd">    totalExtraInnGames: 208</span>
<span class="sd">    timePerGame: 02:55:07</span>
<span class="sd">    timePerPitch: 00:00:36</span>
<span class="sd">    timePerHit: 00:09:40</span>
<span class="sd">    timePerRun: 00:18:50</span>
<span class="sd">    timePerPlateAppearance: 00:02:16</span>
<span class="sd">    timePer9Inn: 02:56:30</span>
<span class="sd">    timePer77PlateAppearances: 02:54:29</span>
<span class="sd">    totalExtraInnTime: 775:10:00</span>
<span class="sd">    timePer7InnGameWithoutExtraInn: 00:00:00</span>
<span class="sd">    total9InnGamesCompletedEarly: 3</span>
<span class="sd">    total9InnGamesWithoutExtraInn: 2217</span>
<span class="sd">    total9InnGamesScheduled: 2428</span>
<span class="sd">    hitsPerRun: 1.947</span>
<span class="sd">    pitchesPerPitcher: 37.72</span>
<span class="sd">    total7InnGames: 3</span>
<span class="sd">    total9InnGames: 2217</span>
<span class="sd">    totalExtraInnGames: 208</span>
<span class="sd">    timePer7InnGame: 01:54:40</span>
<span class="sd">    timePer9InnGame: 02:50:38</span>
<span class="sd">    timePerExtraInnGame: 03:43:36</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">game_pace_data</span><span class="p">(</span><span class="n">season</span><span class="p">,</span><span class="n">sportId</span><span class="p">)</span>

    <span class="n">pace</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>

    <span class="n">pace</span> <span class="o">+=</span> <span class="s1">&#39;{} Game Pace Stats</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">season</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">r</span><span class="p">[</span><span class="s1">&#39;sports&#39;</span><span class="p">]:</span>
        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">s</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;season&#39;</span><span class="p">,</span><span class="s1">&#39;sport&#39;</span><span class="p">]:</span> <span class="k">continue</span>
            <span class="k">if</span> <span class="n">k</span> <span class="o">==</span> <span class="s1">&#39;prPortalCalculatedFields&#39;</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">s</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                    <span class="n">pace</span> <span class="o">+=</span> <span class="s1">&#39;{}: {}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">s</span><span class="p">[</span><span class="n">k</span><span class="p">][</span><span class="n">x</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span> <span class="n">pace</span> <span class="o">+=</span> <span class="s1">&#39;{}: {}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">k</span><span class="p">,</span><span class="n">s</span><span class="p">[</span><span class="n">k</span><span class="p">])</span>

    <span class="k">return</span> <span class="n">pace</span>
</pre></div>

  </div>
</div>

  </div>
  
      
  <div class="item">
    <div class="name def" id="statsapi.game_pace_data">
    <p>def <span class="ident">game_pace_data</span>(</p><p>season=2019, sportId=1)</p>
    </div>
    

    
  
    <div class="desc"><p>Get data about pace of game for a given season (back to 1999).</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-statsapi.game_pace_data', this);">Show source &equiv;</a></p>
  <div id="source-statsapi.game_pace_data" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">game_pace_data</span><span class="p">(</span><span class="n">season</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">year</span><span class="p">,</span><span class="n">sportId</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get data about pace of game for a given season (back to 1999).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">params</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">if</span> <span class="n">season</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;season&#39;</span><span class="p">:</span><span class="n">season</span><span class="p">})</span>
    <span class="k">if</span> <span class="n">sportId</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;sportId&#39;</span><span class="p">:</span><span class="n">sportId</span><span class="p">})</span>

    <span class="n">r</span> <span class="o">=</span> <span class="n">get</span><span class="p">(</span><span class="s1">&#39;gamePace&#39;</span><span class="p">,</span><span class="n">params</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="nb">len</span><span class="p">(</span><span class="n">r</span><span class="p">[</span><span class="s1">&#39;sports&#39;</span><span class="p">]):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;No game pace info found for the {} season. Game pace data appears to begin in 1999.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">season</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">r</span>
</pre></div>

  </div>
</div>

  </div>
  
      
  <div class="item">
    <div class="name def" id="statsapi.game_scoring_play_data">
    <p>def <span class="ident">game_scoring_play_data</span>(</p><p>gamePk)</p>
    </div>
    

    
  
    <div class="desc"><p>Get a python list of scoring plays for a given game.</p>
<p>Will return a dict containing 3 keys:</p>
<ul>
<li>home - home team data</li>
<li>away - away team data</li>
<li>plays - sorted list of scoring play data</li>
</ul></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-statsapi.game_scoring_play_data', this);">Show source &equiv;</a></p>
  <div id="source-statsapi.game_scoring_play_data" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">game_scoring_play_data</span><span class="p">(</span><span class="n">gamePk</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get a python list of scoring plays for a given game.</span>
<span class="sd">    </span>
<span class="sd">    Will return a dict containing 3 keys:</span>
<span class="sd">    </span>
<span class="sd">    * home - home team data</span>
<span class="sd">    * away - away team data</span>
<span class="sd">    * plays - sorted list of scoring play data</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">get</span><span class="p">(</span><span class="s1">&#39;schedule&#39;</span><span class="p">,{</span><span class="s1">&#39;sportId&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="s1">&#39;gamePk&#39;</span><span class="p">:</span><span class="n">gamePk</span><span class="p">,</span><span class="s1">&#39;hydrate&#39;</span><span class="p">:</span><span class="s1">&#39;scoringplays&#39;</span><span class="p">,</span><span class="s1">&#39;fields&#39;</span><span class="p">:</span><span class="s1">&#39;dates,date,games,teams,away,team,name,scoringPlays,result,description,awayScore,homeScore,about,halfInning,inning,endTime&#39;</span><span class="p">})</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">len</span><span class="p">(</span><span class="n">r</span><span class="p">[</span><span class="s1">&#39;dates&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;games&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;scoringPlays&#39;</span><span class="p">]):</span> <span class="k">return</span> <span class="s1">&#39;&#39;</span>

    <span class="n">items</span> <span class="o">=</span> <span class="n">r</span><span class="p">[</span><span class="s1">&#39;dates&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;games&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;scoringPlays&#39;</span><span class="p">]</span>
    <span class="n">home_team</span> <span class="o">=</span> <span class="n">r</span><span class="p">[</span><span class="s1">&#39;dates&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;games&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;teams&#39;</span><span class="p">][</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;team&#39;</span><span class="p">]</span>
    <span class="n">away_team</span> <span class="o">=</span> <span class="n">r</span><span class="p">[</span><span class="s1">&#39;dates&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;games&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;teams&#39;</span><span class="p">][</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;team&#39;</span><span class="p">]</span>

    <span class="n">scoring_plays</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="n">unorderedPlays</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">items</span><span class="p">:</span>
        <span class="n">unorderedPlays</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">v</span><span class="p">[</span><span class="s1">&#39;about&#39;</span><span class="p">][</span><span class="s1">&#39;endTime&#39;</span><span class="p">]</span> <span class="p">:</span> <span class="n">v</span><span class="p">})</span>

    <span class="n">sortedPlays</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">unorderedPlays</span><span class="p">):</span>
        <span class="n">sortedPlays</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">unorderedPlays</span><span class="p">[</span><span class="n">x</span><span class="p">])</span>

    <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;home&#39;</span><span class="p">:</span><span class="n">home_team</span><span class="p">,</span> <span class="s1">&#39;away&#39;</span><span class="p">:</span><span class="n">away_team</span><span class="p">,</span> <span class="s1">&#39;plays&#39;</span><span class="p">:</span><span class="n">sortedPlays</span><span class="p">}</span>
</pre></div>

  </div>
</div>

  </div>
  
      
  <div class="item">
    <div class="name def" id="statsapi.game_scoring_plays">
    <p>def <span class="ident">game_scoring_plays</span>(</p><p>gamePk)</p>
    </div>
    

    
  
    <div class="desc"><p>Get a text-formatted list of scoring plays for a given game</p>
<p>Example use:</p>
<p>Print a list of scoring plays from the 4/28/2019 Marlins @ Phillies game</p>
<p>print( statsapi.game_scoring_plays(567074) )</p>
<p>Output (truncated to show only the first and last records):</p>
<p>Rhys Hoskins doubles (6) on a sharp line drive to left fielder Isaac Galloway.   Bryce Harper scores.
Bottom 1 - Miami Marlins: 0, Philadelphia Phillies: 1</p>
<p>Rhys Hoskins walks.   Andrew McCutchen scores.    Jean Segura to 3rd.  Wild pitch by pitcher Tayron Guerrero.
Bottom 8 - Miami Marlins: 1, Philadelphia Phillies: 5</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-statsapi.game_scoring_plays', this);">Show source &equiv;</a></p>
  <div id="source-statsapi.game_scoring_plays" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">game_scoring_plays</span><span class="p">(</span><span class="n">gamePk</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get a text-formatted list of scoring plays for a given game</span>

<span class="sd">    Example use:</span>

<span class="sd">    Print a list of scoring plays from the 4/28/2019 Marlins @ Phillies game</span>

<span class="sd">    print( statsapi.game_scoring_plays(567074) )</span>

<span class="sd">    Output (truncated to show only the first and last records):</span>

<span class="sd">    Rhys Hoskins doubles (6) on a sharp line drive to left fielder Isaac Galloway.   Bryce Harper scores.</span>
<span class="sd">    Bottom 1 - Miami Marlins: 0, Philadelphia Phillies: 1</span>

<span class="sd">    Rhys Hoskins walks.   Andrew McCutchen scores.    Jean Segura to 3rd.  Wild pitch by pitcher Tayron Guerrero.</span>
<span class="sd">    Bottom 8 - Miami Marlins: 1, Philadelphia Phillies: 5</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">sortedPlays</span> <span class="o">=</span> <span class="n">game_scoring_play_data</span><span class="p">(</span><span class="n">gamePk</span><span class="p">)</span>
    <span class="n">scoring_plays</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">sortedPlays</span><span class="p">[</span><span class="s1">&#39;plays&#39;</span><span class="p">]:</span>
        <span class="n">scoring_plays</span> <span class="o">+=</span> <span class="s1">&#39;{}</span><span class="se">\n</span><span class="s1">{} {} - {}: {}, {}: {}</span><span class="se">\n\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="s1">&#39;result&#39;</span><span class="p">][</span><span class="s1">&#39;description&#39;</span><span class="p">],</span> <span class="n">a</span><span class="p">[</span><span class="s1">&#39;about&#39;</span><span class="p">][</span><span class="s1">&#39;halfInning&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">:</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="o">+</span> <span class="n">a</span><span class="p">[</span><span class="s1">&#39;about&#39;</span><span class="p">][</span><span class="s1">&#39;halfInning&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">:],</span> <span class="n">a</span><span class="p">[</span><span class="s1">&#39;about&#39;</span><span class="p">][</span><span class="s1">&#39;inning&#39;</span><span class="p">],</span> <span class="n">sortedPlays</span><span class="p">[</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">],</span> <span class="n">a</span><span class="p">[</span><span class="s1">&#39;result&#39;</span><span class="p">][</span><span class="s1">&#39;awayScore&#39;</span><span class="p">],</span> <span class="n">sortedPlays</span><span class="p">[</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">],</span> <span class="n">a</span><span class="p">[</span><span class="s1">&#39;result&#39;</span><span class="p">][</span><span class="s1">&#39;homeScore&#39;</span><span class="p">])</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">scoring_plays</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">1</span><span class="p">:</span> <span class="n">scoring_plays</span> <span class="o">=</span> <span class="n">scoring_plays</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="c1">#strip the extra line break</span>

    <span class="k">return</span> <span class="n">scoring_plays</span>
</pre></div>

  </div>
</div>

  </div>
  
      
  <div class="item">
    <div class="name def" id="statsapi.get">
    <p>def <span class="ident">get</span>(</p><p>endpoint, params, force=False)</p>
    </div>
    

    
  
    <div class="desc"><p>Call MLB StatsAPI and return JSON data.</p>
<p>This function is for advanced querying of the MLB StatsAPI, 
and is used by the functions in this library.</p>
<p>endpoint is one of the keys in the ENDPOINT dict
params is a dict of parameters, as defined in the ENDPOINT dict for each endpoint</p>
<p>force=True will force unrecognized parameters into the query string, and ignore parameter requirements
Please note results from Stats API may not be as expected when forcing.</p>
<p>statsapi.get('team',{'teamId':143}) will call the team endpoint for teamId=143 (Phillies)</p>
<p>return value will be the raw response from MLB Stats API in json format</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-statsapi.get', this);">Show source &equiv;</a></p>
  <div id="source-statsapi.get" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="n">endpoint</span><span class="p">,</span><span class="n">params</span><span class="p">,</span><span class="n">force</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Call MLB StatsAPI and return JSON data.</span>

<span class="sd">    This function is for advanced querying of the MLB StatsAPI, </span>
<span class="sd">    and is used by the functions in this library.</span>

<span class="sd">    endpoint is one of the keys in the ENDPOINT dict</span>
<span class="sd">    params is a dict of parameters, as defined in the ENDPOINT dict for each endpoint</span>

<span class="sd">    force=True will force unrecognized parameters into the query string, and ignore parameter requirements</span>
<span class="sd">    Please note results from Stats API may not be as expected when forcing.</span>

<span class="sd">    statsapi.get(&#39;team&#39;,{&#39;teamId&#39;:143}) will call the team endpoint for teamId=143 (Phillies)</span>

<span class="sd">    return value will be the raw response from MLB Stats API in json format</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#Lookup endpoint from input parameter</span>
    <span class="n">ep</span> <span class="o">=</span> <span class="n">ENDPOINTS</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">endpoint</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">ep</span><span class="p">:</span> <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Invalid endpoint (&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">endpoint</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;).&#39;</span><span class="p">)</span>
    <span class="n">url</span> <span class="o">=</span> <span class="n">ep</span><span class="p">[</span><span class="s1">&#39;url&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">DEBUG</span><span class="p">:</span> <span class="k">print</span><span class="p">(</span><span class="s2">&quot;URL:&quot;</span><span class="p">,</span><span class="n">url</span><span class="p">)</span> <span class="c1">#debug</span>

    <span class="n">path_params</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">query_params</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="c1">#Parse parameters into path and query parameters, and discard invalid parameters</span>
    <span class="k">for</span> <span class="n">p</span><span class="p">,</span><span class="n">pv</span> <span class="ow">in</span> <span class="n">params</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">ep</span><span class="p">[</span><span class="s1">&#39;path_params&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">p</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">DEBUG</span><span class="p">:</span> <span class="k">print</span> <span class="p">(</span><span class="s2">&quot;Found path param:&quot;</span><span class="p">,</span><span class="n">p</span><span class="p">)</span> <span class="c1">#debug</span>
            <span class="k">if</span> <span class="n">ep</span><span class="p">[</span><span class="s1">&#39;path_params&#39;</span><span class="p">][</span><span class="n">p</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;type&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;bool&#39;</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">pv</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;false&#39;</span><span class="p">:</span>
                    <span class="n">path_params</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">p</span><span class="p">:</span> <span class="n">ep</span><span class="p">[</span><span class="s1">&#39;path_params&#39;</span><span class="p">][</span><span class="n">p</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;False&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">)})</span>
                <span class="k">elif</span> <span class="nb">str</span><span class="p">(</span><span class="n">pv</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;true&#39;</span><span class="p">:</span>
                    <span class="n">path_params</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">p</span><span class="p">:</span> <span class="n">ep</span><span class="p">[</span><span class="s1">&#39;path_params&#39;</span><span class="p">][</span><span class="n">p</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;True&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">)})</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">path_params</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">p</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">pv</span><span class="p">)})</span>
        <span class="k">elif</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">ep</span><span class="p">[</span><span class="s1">&#39;query_params&#39;</span><span class="p">]:</span>
            <span class="k">if</span> <span class="n">DEBUG</span><span class="p">:</span> <span class="k">print</span> <span class="p">(</span><span class="s2">&quot;Found query param:&quot;</span><span class="p">,</span><span class="n">p</span><span class="p">)</span> <span class="c1">#debug</span>
            <span class="n">query_params</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">p</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">pv</span><span class="p">)})</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">force</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">DEBUG</span><span class="p">:</span> <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Found invalid param, forcing into query parameters per force flag:&quot;</span><span class="p">,</span><span class="n">p</span><span class="p">)</span> <span class="c1">#debug</span>
                <span class="n">query_params</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">p</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">pv</span><span class="p">)})</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">DEBUG</span><span class="p">:</span> <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Found invalid param, ignoring:&quot;</span><span class="p">,</span><span class="n">p</span><span class="p">)</span> <span class="c1">#debug</span>

    <span class="k">if</span> <span class="n">DEBUG</span><span class="p">:</span> <span class="k">print</span> <span class="p">(</span><span class="s2">&quot;path_params:&quot;</span><span class="p">,</span><span class="n">path_params</span><span class="p">)</span> <span class="c1">#debug</span>
    <span class="k">if</span> <span class="n">DEBUG</span><span class="p">:</span> <span class="k">print</span> <span class="p">(</span><span class="s2">&quot;query_params:&quot;</span><span class="p">,</span><span class="n">query_params</span><span class="p">)</span> <span class="c1">#debug</span>

    <span class="c1">#Replace path parameters with their values</span>
    <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">path_params</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">DEBUG</span><span class="p">:</span> <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Replacing {</span><span class="si">%s</span><span class="s2">}&quot;</span> <span class="o">%</span> <span class="n">k</span><span class="p">)</span> <span class="c1">#debug</span>
        <span class="n">url</span> <span class="o">=</span> <span class="n">url</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;{&#39;</span><span class="o">+</span><span class="n">k</span><span class="o">+</span><span class="s1">&#39;}&#39;</span><span class="p">,</span><span class="n">v</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">DEBUG</span><span class="p">:</span> <span class="k">print</span><span class="p">(</span><span class="s2">&quot;URL:&quot;</span><span class="p">,</span><span class="n">url</span><span class="p">)</span> <span class="c1">#debug</span>
    <span class="k">while</span> <span class="n">url</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;{&#39;</span><span class="p">)</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span> <span class="ow">and</span> <span class="n">url</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;}&#39;</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">url</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;{&#39;</span><span class="p">):</span>
        <span class="n">param</span> <span class="o">=</span> <span class="n">url</span><span class="p">[</span><span class="n">url</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;{&#39;</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">:</span><span class="n">url</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;}&#39;</span><span class="p">)]</span>
        <span class="k">if</span> <span class="n">ep</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;path_params&#39;</span><span class="p">,{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">param</span><span class="p">,{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;required&#39;</span><span class="p">):</span> 
            <span class="k">if</span> <span class="n">ep</span><span class="p">[</span><span class="s1">&#39;path_params&#39;</span><span class="p">][</span><span class="n">param</span><span class="p">][</span><span class="s1">&#39;default&#39;</span><span class="p">]</span> <span class="ow">and</span> <span class="n">ep</span><span class="p">[</span><span class="s1">&#39;path_params&#39;</span><span class="p">][</span><span class="n">param</span><span class="p">][</span><span class="s1">&#39;default&#39;</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">DEBUG</span><span class="p">:</span> <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Replacing {</span><span class="si">%s</span><span class="s2">} with default: </span><span class="si">%s</span><span class="s2">.&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">param</span><span class="p">,</span> <span class="n">ep</span><span class="p">[</span><span class="s1">&#39;path_params&#39;</span><span class="p">][</span><span class="n">param</span><span class="p">][</span><span class="s1">&#39;default&#39;</span><span class="p">]))</span> <span class="c1">#debug</span>
                <span class="n">url</span> <span class="o">=</span> <span class="n">url</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;{&#39;</span><span class="o">+</span><span class="n">param</span><span class="o">+</span><span class="s1">&#39;}&#39;</span><span class="p">,</span><span class="n">ep</span><span class="p">[</span><span class="s1">&#39;path_params&#39;</span><span class="p">][</span><span class="n">param</span><span class="p">][</span><span class="s1">&#39;default&#39;</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">force</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">DEBUG</span><span class="p">:</span> <span class="k">print</span><span class="p">(</span><span class="s1">&#39;Missing required path parameter {&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">param</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;}, proceeding anyway per force flag...&#39;</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Missing required path parameter {&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">param</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;}&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">DEBUG</span><span class="p">:</span> <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Removing optional param {</span><span class="si">%s</span><span class="s2">}&quot;</span> <span class="o">%</span> <span class="n">param</span><span class="p">)</span> <span class="c1">#debug</span>
            <span class="n">url</span> <span class="o">=</span> <span class="n">url</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;{&#39;</span><span class="o">+</span><span class="n">param</span><span class="o">+</span><span class="s1">&#39;}&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">DEBUG</span><span class="p">:</span> <span class="k">print</span><span class="p">(</span><span class="s2">&quot;URL:&quot;</span><span class="p">,</span><span class="n">url</span><span class="p">)</span> <span class="c1">#debug</span>
    <span class="c1">#Add query parameters to the URL</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">query_params</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">query_params</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">DEBUG</span><span class="p">:</span> <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Adding query parameter </span><span class="si">%s</span><span class="s2">=</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span><span class="n">v</span><span class="p">))</span>
            <span class="n">sep</span> <span class="o">=</span> <span class="s1">&#39;?&#39;</span> <span class="k">if</span> <span class="n">url</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;?&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span> <span class="k">else</span> <span class="s1">&#39;&amp;&#39;</span>
            <span class="n">url</span> <span class="o">+=</span> <span class="n">sep</span> <span class="o">+</span> <span class="n">k</span> <span class="o">+</span> <span class="s2">&quot;=&quot;</span> <span class="o">+</span> <span class="n">v</span>
            <span class="k">if</span> <span class="n">DEBUG</span><span class="p">:</span> <span class="k">print</span><span class="p">(</span><span class="s2">&quot;URL:&quot;</span><span class="p">,</span><span class="n">url</span><span class="p">)</span> <span class="c1">#debug</span>

    <span class="c1">#Make sure required parameters are present</span>
    <span class="n">satisfied</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="n">missing_params</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">ep</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;required_params&#39;</span><span class="p">,[]):</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> <span class="n">satisfied</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">missing_params</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="n">a</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">x</span> <span class="k">if</span> <span class="n">a</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">query_params</span><span class="p">])</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">missing_params</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">satisfied</span> <span class="o">=</span> <span class="bp">True</span>
                <span class="k">break</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">satisfied</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">force</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">ep</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;note&#39;</span><span class="p">):</span>
            <span class="n">note</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">--Endpoint note: &#39;</span> <span class="o">+</span> <span class="n">ep</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;note&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span> <span class="n">note</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Missing required parameter(s): &quot;</span> <span class="o">+</span> <span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">missing_params</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;.</span><span class="se">\n</span><span class="s2">--Required parameters for the &quot;</span> <span class="o">+</span> <span class="n">endpoint</span> <span class="o">+</span> <span class="s2">&quot; endpoint: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">ep</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;required_params&#39;</span><span class="p">,[]))</span> <span class="o">+</span> <span class="s2">&quot;. </span><span class="se">\n</span><span class="s2">--Note: If there are multiple sets in the required parameter list, you can choose any of the sets.&quot;</span><span class="o">+</span><span class="n">note</span><span class="p">)</span>

    <span class="c1">#Make the request</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">r</span><span class="o">.</span><span class="n">status_code</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">200</span><span class="p">,</span><span class="mi">201</span><span class="p">]:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Request failed. Status Code: &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">status_code</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;.&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

    <span class="k">return</span> <span class="bp">None</span>
</pre></div>

  </div>
</div>

  </div>
  
      
  <div class="item">
    <div class="name def" id="statsapi.last_game">
    <p>def <span class="ident">last_game</span>(</p><p>teamId)</p>
    </div>
    

    
  
    <div class="desc"><p>Get the gamePk for the given team's most recent game.
Note: Sometimes Stats API will actually return the next game in the previousSchedule hydration</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-statsapi.last_game', this);">Show source &equiv;</a></p>
  <div id="source-statsapi.last_game" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">last_game</span><span class="p">(</span><span class="n">teamId</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get the gamePk for the given team&#39;s most recent game.</span>
<span class="sd">    Note: Sometimes Stats API will actually return the next game in the previousSchedule hydration</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">get</span><span class="p">(</span><span class="s1">&#39;team&#39;</span><span class="p">,{</span><span class="s1">&#39;teamId&#39;</span><span class="p">:</span><span class="n">teamId</span><span class="p">,</span><span class="s1">&#39;hydrate&#39;</span><span class="p">:</span><span class="s1">&#39;previousSchedule&#39;</span><span class="p">,</span><span class="s1">&#39;fields&#39;</span><span class="p">:</span><span class="s1">&#39;teams,id,teamName,previousGameSchedule,dates,date,games,gamePk,season,gameDate,teams,away,home,team,name&#39;</span><span class="p">})[</span><span class="s1">&#39;teams&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;previousGameSchedule&#39;</span><span class="p">][</span><span class="s1">&#39;dates&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;games&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;gamePk&#39;</span><span class="p">]</span>
</pre></div>

  </div>
</div>

  </div>
  
      
  <div class="item">
    <div class="name def" id="statsapi.league_leader_data">
    <p>def <span class="ident">league_leader_data</span>(</p><p>leaderCategories, season=None, limit=10, statGroup=None, leagueId=None, gameTypes=None, playerPool=None, sportId=1, statType=None)</p>
    </div>
    

    
  
    <div class="desc"><p>NOTE: StatsAPI does not appear to be supporting the statType=statsSingleSeason at this time,
despite this appearing in the documentation as a best practice for all time leaders.
Be sure to specify a season or statType such as 'career', or you will get current season leaders by default.</p>
<p>Get a list of stat leaders overall or for a given league (103=AL, 104=NL).</p>
<p>Get a list of available leaderCategories by calling the meta endpoint with type=leagueLeaderTypes</p>
<p>Get a list of available statGroups by calling the meta endpoint with type=statGroups
Note that excluding statGroup may return unexpected results. For example leaderCategories='earnedRunAverage'
will return different results with statGroup='pitching' and statGroup='catching'.</p>
<p>Get a list of available gameTypes by calling the meta endpoint with type=gameTypes</p>
<p>Get a list of available statTypes by calling the meta endpoint with type=statTypes</p>
<p>Available playerPool values: ['all','qualified','rookies'] (default is qualified)</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-statsapi.league_leader_data', this);">Show source &equiv;</a></p>
  <div id="source-statsapi.league_leader_data" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">league_leader_data</span><span class="p">(</span><span class="n">leaderCategories</span><span class="p">,</span><span class="n">season</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span><span class="n">statGroup</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">leagueId</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">gameTypes</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">playerPool</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">sportId</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">statType</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;NOTE: StatsAPI does not appear to be supporting the statType=statsSingleSeason at this time,</span>
<span class="sd">    despite this appearing in the documentation as a best practice for all time leaders.</span>
<span class="sd">    Be sure to specify a season or statType such as &#39;career&#39;, or you will get current season leaders by default.</span>
<span class="sd">    </span>
<span class="sd">    Get a list of stat leaders overall or for a given league (103=AL, 104=NL).</span>

<span class="sd">    Get a list of available leaderCategories by calling the meta endpoint with type=leagueLeaderTypes</span>

<span class="sd">    Get a list of available statGroups by calling the meta endpoint with type=statGroups</span>
<span class="sd">    Note that excluding statGroup may return unexpected results. For example leaderCategories=&#39;earnedRunAverage&#39;</span>
<span class="sd">    will return different results with statGroup=&#39;pitching&#39; and statGroup=&#39;catching&#39;.</span>

<span class="sd">    Get a list of available gameTypes by calling the meta endpoint with type=gameTypes</span>
<span class="sd">    </span>
<span class="sd">    Get a list of available statTypes by calling the meta endpoint with type=statTypes</span>

<span class="sd">    Available playerPool values: [&#39;all&#39;,&#39;qualified&#39;,&#39;rookies&#39;] (default is qualified)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;leaderCategories&#39;</span><span class="p">:</span><span class="n">leaderCategories</span><span class="p">,</span><span class="s1">&#39;sportId&#39;</span><span class="p">:</span><span class="n">sportId</span><span class="p">,</span><span class="s1">&#39;limit&#39;</span><span class="p">:</span><span class="n">limit</span><span class="p">}</span>
    <span class="k">if</span> <span class="n">season</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;season&#39;</span><span class="p">:</span><span class="n">season</span><span class="p">})</span>
    <span class="k">if</span> <span class="n">statType</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;statType&#39;</span><span class="p">:</span><span class="n">statType</span><span class="p">})</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">season</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">statType</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;season&#39;</span><span class="p">:</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">year</span><span class="p">})</span> <span class="c1"># default season to current year if no season or statType provided</span>
    <span class="k">if</span> <span class="n">statGroup</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">statGroup</span> <span class="o">==</span> <span class="s1">&#39;batting&#39;</span><span class="p">:</span> <span class="n">statGroup</span> <span class="o">=</span> <span class="s1">&#39;hitting&#39;</span>
        <span class="n">params</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;statGroup&#39;</span><span class="p">:</span><span class="n">statGroup</span><span class="p">})</span>
    <span class="k">if</span> <span class="n">gameTypes</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;leaderGameTypes&#39;</span><span class="p">:</span><span class="n">gameTypes</span><span class="p">})</span>
    <span class="k">if</span> <span class="n">leagueId</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;leagueId&#39;</span><span class="p">:</span><span class="n">leagueId</span><span class="p">})</span>
    <span class="k">if</span> <span class="n">playerPool</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;playerPool&#39;</span><span class="p">:</span><span class="n">playerPool</span><span class="p">})</span>
    <span class="n">params</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;fields&#39;</span> <span class="p">:</span> <span class="s1">&#39;leagueLeaders,leaders,rank,value,team,name,league,name,person,fullName&#39;</span><span class="p">})</span>

    <span class="n">r</span> <span class="o">=</span> <span class="n">get</span><span class="p">(</span><span class="s1">&#39;stats_leaders&#39;</span><span class="p">,</span><span class="n">params</span><span class="p">)</span>

    <span class="n">lines</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">player</span> <span class="ow">in</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">r</span><span class="p">[</span><span class="s1">&#39;leagueLeaders&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;leaders&#39;</span><span class="p">]]:</span>
        <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">player</span><span class="p">[</span><span class="s1">&#39;rank&#39;</span><span class="p">],</span><span class="n">player</span><span class="p">[</span><span class="s1">&#39;person&#39;</span><span class="p">][</span><span class="s1">&#39;fullName&#39;</span><span class="p">],</span><span class="n">player</span><span class="p">[</span><span class="s1">&#39;team&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">),</span><span class="n">player</span><span class="p">[</span><span class="s1">&#39;value&#39;</span><span class="p">]])</span>

    <span class="k">return</span> <span class="n">lines</span>
</pre></div>

  </div>
</div>

  </div>
  
      
  <div class="item">
    <div class="name def" id="statsapi.league_leaders">
    <p>def <span class="ident">league_leaders</span>(</p><p>leaderCategories, season=None, limit=10, statGroup=None, leagueId=None, gameTypes=None, playerPool=None, sportId=1, statType=None)</p>
    </div>
    

    
  
    <div class="desc"><p>NOTE: StatsAPI does not appear to be supporting the statType=statsSingleSeason at this time,
despite this appearing in the documentation as a best practice for all time leaders.
Be sure to specify a season or other statType such as 'career', or the default will be current season leaders.</p>
<p>Get stat leaders overall or for a given league (103=AL, 104=NL).</p>
<p>Get a list of available leaderCategories by calling the meta endpoint with type=leagueLeaderTypes</p>
<p>Get a list of available statGroups by calling the meta endpoint with type=statGroups
Note that excluding statGroup may return unexpected results. For example leaderCategories='earnedRunAverage'
will return different results with statGroup='pitching' and statGroup='catching'.</p>
<p>Get a list of available gameTypes by calling the meta endpoint with type=gameTypes</p>
<p>Get a list of available statTypes by calling the meta endpoint with type=statTypes</p>
<p>Available playerPool values: ['all','qualified','rookies'] (default is qualified)</p>
<p>Example use:</p>
<p>Print a list of the top 10 pitchers by career earned run average</p>
<p>print( statsapi.league_leaders('earnedRunAverage',statGroup='pitching',limit=10,statType='career') )</p>
<p>Output:</p>
<p>Rank Name                 Team                    Value
 1   Al Spalding          Chicago White Stockings 1.78
 2   Ed Walsh             Chicago White Sox       1.82
 3   Addie Joss           Cleveland Naps          1.89
 4   Jim Devlin           Louisville Grays        1.89
 5   Craig Kimbrel        Atlanta Braves          2.00
 5   Laurie Reis          Chicago White Stockings 2.00
 7   Jack Pfiester        Pittsburgh Pirates      2.02
 8   Joe Wood             Cleveland Indians       2.03
 9   Christy Mathewson    New York Giants         2.13
 10  Walter Johnson       Washington Senators     2.17</p>
<p>Print a list of the top 5 batters in 2018 by OPS</p>
<p>print( statsapi.league_leaders('onBasePlusSlugging',statGroup='hitting',limit=5,season=2018) )</p>
<p>Output:</p>
<p>Rank Name                 Team                    Value
 1   Mike Trout           Los Angeles Angels      1.088
 2   Mookie Betts         Boston Red Sox          1.078
 3   J.D. Martinez        Boston Red Sox          1.031
 4   Christian Yelich     Milwaukee Brewers       1.000
 5   Jose Ramirez         Cleveland Indians       .939</p>
<p>Print a list of the 10 American League players with the most errors in 2017</p>
<p>print( statsapi.league_leaders('errors',statGroup='fielding',limit=10,season=2017,leagueId=103) )</p>
<p>Output:</p>
<p>Rank Name                 Team                   Value
 1   Tim Anderson         Chicago White Sox       28
 2   Rougned Odor         Texas Rangers           19
 3   Tim Beckham          Baltimore Orioles       18
 3   Nicholas Castellanos Detroit Tigers          18
 3   Jorge Polanco        Minnesota Twins         18
 6   Elvis Andrus         Texas Rangers           17
 6   Xander Bogaerts      Boston Red Sox          17
 6   Jean Segura          Seattle Mariners        17
 9   Alcides Escobar      Kansas City Royals      15
 9   Jonathan Schoop      Baltimore Orioles       15</p>
<p>Print a list of top 10 all time career leader in triples</p>
<p>print( statsapi.league_leaders('triples',statGroup='hitting',limit=10,sportId=1,statType='career') )</p>
<p>Rank Name                 Team                    Value
 1   Sam Crawford         Detroit Tigers           309
 2   Ty Cobb              Philadelphia Athletics   297
 3   Tristram Speaker     Washington Senators      222
 4   Paul Waner           New York Yankees         191
 5   Bid McPhee           Cincinnati Reds          188
 6   Eddie Collins        Chicago White Sox        187
 7   Sam Rice             Washington Senators      184
 8   Rabbit Maranville    Boston Braves            177
 8   Stan Musial          St. Louis Cardinals      177
 10  Goose Goslin         Washington Senators      173</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-statsapi.league_leaders', this);">Show source &equiv;</a></p>
  <div id="source-statsapi.league_leaders" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">league_leaders</span><span class="p">(</span><span class="n">leaderCategories</span><span class="p">,</span><span class="n">season</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span><span class="n">statGroup</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">leagueId</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">gameTypes</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">playerPool</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">sportId</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">statType</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;NOTE: StatsAPI does not appear to be supporting the statType=statsSingleSeason at this time,</span>
<span class="sd">    despite this appearing in the documentation as a best practice for all time leaders.</span>
<span class="sd">    Be sure to specify a season or other statType such as &#39;career&#39;, or the default will be current season leaders.</span>
<span class="sd">    </span>
<span class="sd">    Get stat leaders overall or for a given league (103=AL, 104=NL).</span>

<span class="sd">    Get a list of available leaderCategories by calling the meta endpoint with type=leagueLeaderTypes</span>

<span class="sd">    Get a list of available statGroups by calling the meta endpoint with type=statGroups</span>
<span class="sd">    Note that excluding statGroup may return unexpected results. For example leaderCategories=&#39;earnedRunAverage&#39;</span>
<span class="sd">    will return different results with statGroup=&#39;pitching&#39; and statGroup=&#39;catching&#39;.</span>

<span class="sd">    Get a list of available gameTypes by calling the meta endpoint with type=gameTypes</span>
<span class="sd">    </span>
<span class="sd">    Get a list of available statTypes by calling the meta endpoint with type=statTypes</span>

<span class="sd">    Available playerPool values: [&#39;all&#39;,&#39;qualified&#39;,&#39;rookies&#39;] (default is qualified)</span>

<span class="sd">    Example use:</span>

<span class="sd">    Print a list of the top 10 pitchers by career earned run average</span>

<span class="sd">    print( statsapi.league_leaders(&#39;earnedRunAverage&#39;,statGroup=&#39;pitching&#39;,limit=10,statType=&#39;career&#39;) )</span>

<span class="sd">    Output:</span>

<span class="sd">    Rank Name                 Team                    Value</span>
<span class="sd">     1   Al Spalding          Chicago White Stockings 1.78</span>
<span class="sd">     2   Ed Walsh             Chicago White Sox       1.82</span>
<span class="sd">     3   Addie Joss           Cleveland Naps          1.89</span>
<span class="sd">     4   Jim Devlin           Louisville Grays        1.89</span>
<span class="sd">     5   Craig Kimbrel        Atlanta Braves          2.00</span>
<span class="sd">     5   Laurie Reis          Chicago White Stockings 2.00</span>
<span class="sd">     7   Jack Pfiester        Pittsburgh Pirates      2.02</span>
<span class="sd">     8   Joe Wood             Cleveland Indians       2.03</span>
<span class="sd">     9   Christy Mathewson    New York Giants         2.13</span>
<span class="sd">     10  Walter Johnson       Washington Senators     2.17</span>


<span class="sd">    Print a list of the top 5 batters in 2018 by OPS</span>

<span class="sd">    print( statsapi.league_leaders(&#39;onBasePlusSlugging&#39;,statGroup=&#39;hitting&#39;,limit=5,season=2018) )</span>

<span class="sd">    Output:</span>

<span class="sd">    Rank Name                 Team                    Value</span>
<span class="sd">     1   Mike Trout           Los Angeles Angels      1.088</span>
<span class="sd">     2   Mookie Betts         Boston Red Sox          1.078</span>
<span class="sd">     3   J.D. Martinez        Boston Red Sox          1.031</span>
<span class="sd">     4   Christian Yelich     Milwaukee Brewers       1.000</span>
<span class="sd">     5   Jose Ramirez         Cleveland Indians       .939</span>


<span class="sd">    Print a list of the 10 American League players with the most errors in 2017</span>

<span class="sd">    print( statsapi.league_leaders(&#39;errors&#39;,statGroup=&#39;fielding&#39;,limit=10,season=2017,leagueId=103) )</span>

<span class="sd">    Output:</span>

<span class="sd">    Rank Name                 Team                   Value</span>
<span class="sd">     1   Tim Anderson         Chicago White Sox       28</span>
<span class="sd">     2   Rougned Odor         Texas Rangers           19</span>
<span class="sd">     3   Tim Beckham          Baltimore Orioles       18</span>
<span class="sd">     3   Nicholas Castellanos Detroit Tigers          18</span>
<span class="sd">     3   Jorge Polanco        Minnesota Twins         18</span>
<span class="sd">     6   Elvis Andrus         Texas Rangers           17</span>
<span class="sd">     6   Xander Bogaerts      Boston Red Sox          17</span>
<span class="sd">     6   Jean Segura          Seattle Mariners        17</span>
<span class="sd">     9   Alcides Escobar      Kansas City Royals      15</span>
<span class="sd">     9   Jonathan Schoop      Baltimore Orioles       15</span>


<span class="sd">    Print a list of top 10 all time career leader in triples</span>

<span class="sd">    print( statsapi.league_leaders(&#39;triples&#39;,statGroup=&#39;hitting&#39;,limit=10,sportId=1,statType=&#39;career&#39;) )</span>

<span class="sd">    Rank Name                 Team                    Value</span>
<span class="sd">     1   Sam Crawford         Detroit Tigers           309</span>
<span class="sd">     2   Ty Cobb              Philadelphia Athletics   297</span>
<span class="sd">     3   Tristram Speaker     Washington Senators      222</span>
<span class="sd">     4   Paul Waner           New York Yankees         191</span>
<span class="sd">     5   Bid McPhee           Cincinnati Reds          188</span>
<span class="sd">     6   Eddie Collins        Chicago White Sox        187</span>
<span class="sd">     7   Sam Rice             Washington Senators      184</span>
<span class="sd">     8   Rabbit Maranville    Boston Braves            177</span>
<span class="sd">     8   Stan Musial          St. Louis Cardinals      177</span>
<span class="sd">     10  Goose Goslin         Washington Senators      173</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">lines</span> <span class="o">=</span> <span class="n">league_leader_data</span><span class="p">(</span><span class="n">leaderCategories</span> <span class="p">,</span><span class="n">season</span><span class="p">,</span> <span class="n">limit</span><span class="p">,</span> <span class="n">statGroup</span><span class="p">,</span> <span class="n">leagueId</span><span class="p">,</span> <span class="n">gameTypes</span><span class="p">,</span> <span class="n">playerPool</span><span class="p">,</span> <span class="n">sportId</span><span class="p">,</span> <span class="n">statType</span><span class="p">)</span>

    <span class="n">leaders</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>

    <span class="n">leaders</span> <span class="o">+=</span> <span class="s1">&#39;{:&lt;4} {:&lt;20} {:&lt;23} {:&lt;5}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">*</span><span class="p">[</span><span class="s1">&#39;Rank&#39;</span><span class="p">,</span><span class="s1">&#39;Name&#39;</span><span class="p">,</span><span class="s1">&#39;Team&#39;</span><span class="p">,</span><span class="s1">&#39;Value&#39;</span><span class="p">])</span>
    <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
        <span class="n">leaders</span> <span class="o">+=</span> <span class="s1">&#39;{:^4} {:&lt;20} {:&lt;23} {:^5}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">*</span><span class="n">a</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">leaders</span>
</pre></div>

  </div>
</div>

  </div>
  
      
  <div class="item">
    <div class="name def" id="statsapi.linescore">
    <p>def <span class="ident">linescore</span>(</p><p>gamePk, timecode=None)</p>
    </div>
    

    
  
    <div class="desc"><p>Get formatted linescore for a given game.</p>
<p>Note: This function uses the game endpoint instead of game_linescore,
because game_linescore does not contain the team names or game status
and it's better to make one call instead of two. All of this data can 
also be retrieved through the schedule endpoint using hydrate=linescore,
but the schedule endpoint does not support the timecode parameter.</p>
<p>It is possible to get the linescore as it existed at a specific time by including the timestamp in the timecode parameter.
The timecode should be in the format YYYYMMDD_HHMMSS, and in the UTC timezone
For example, 4/24/19 10:32:40 EDT (-4) would be: 20190425_012240
A list of timestamps for game events can be found through the game_timestamps endpoint:
statsapi.get('game_timestamps',{'gamePk':565997})</p>
<p>Example use:</p>
<p>Print the linescore for the Phillies/Mets game on 4/25/19:</p>
<p>print( statsapi.linescore(565997) )</p>
<p>Output:</p>
<p>Final    1 2 3 4 5 6 7 8 9  R   H   E
Phillies 1 0 0 0 0 0 0 3 2  6   10  0
Mets     0 0 0 0 0 0 0 0 0  0   6   3</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-statsapi.linescore', this);">Show source &equiv;</a></p>
  <div id="source-statsapi.linescore" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">linescore</span><span class="p">(</span><span class="n">gamePk</span><span class="p">,</span><span class="n">timecode</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get formatted linescore for a given game.</span>

<span class="sd">    Note: This function uses the game endpoint instead of game_linescore,</span>
<span class="sd">    because game_linescore does not contain the team names or game status</span>
<span class="sd">    and it&#39;s better to make one call instead of two. All of this data can </span>
<span class="sd">    also be retrieved through the schedule endpoint using hydrate=linescore,</span>
<span class="sd">    but the schedule endpoint does not support the timecode parameter.</span>

<span class="sd">    It is possible to get the linescore as it existed at a specific time by including the timestamp in the timecode parameter.</span>
<span class="sd">    The timecode should be in the format YYYYMMDD_HHMMSS, and in the UTC timezone</span>
<span class="sd">    For example, 4/24/19 10:32:40 EDT (-4) would be: 20190425_012240</span>
<span class="sd">    A list of timestamps for game events can be found through the game_timestamps endpoint:</span>
<span class="sd">    statsapi.get(&#39;game_timestamps&#39;,{&#39;gamePk&#39;:565997})</span>

<span class="sd">    Example use:</span>

<span class="sd">    Print the linescore for the Phillies/Mets game on 4/25/19:</span>

<span class="sd">    print( statsapi.linescore(565997) )</span>

<span class="sd">    Output:</span>

<span class="sd">    Final    1 2 3 4 5 6 7 8 9  R   H   E</span>
<span class="sd">    Phillies 1 0 0 0 0 0 0 3 2  6   10  0</span>
<span class="sd">    Mets     0 0 0 0 0 0 0 0 0  0   6   3</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">linescore</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;gamePk&#39;</span><span class="p">:</span><span class="n">gamePk</span><span class="p">,</span><span class="s1">&#39;fields&#39;</span><span class="p">:</span><span class="s1">&#39;gameData,teams,teamName,shortName,status,abstractGameState,liveData,linescore,innings,num,home,away,runs,hits,errors&#39;</span><span class="p">}</span>
    <span class="k">if</span> <span class="n">timecode</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;timecode&#39;</span><span class="p">:</span><span class="n">timecode</span><span class="p">})</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">get</span><span class="p">(</span><span class="s1">&#39;game&#39;</span><span class="p">,</span><span class="n">params</span><span class="p">)</span>

    <span class="n">header_name</span> <span class="o">=</span> <span class="n">r</span><span class="p">[</span><span class="s1">&#39;gameData&#39;</span><span class="p">][</span><span class="s1">&#39;status&#39;</span><span class="p">][</span><span class="s1">&#39;abstractGameState&#39;</span><span class="p">]</span>
    <span class="n">away_name</span> <span class="o">=</span> <span class="n">r</span><span class="p">[</span><span class="s1">&#39;gameData&#39;</span><span class="p">][</span><span class="s1">&#39;teams&#39;</span><span class="p">][</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;teamName&#39;</span><span class="p">]</span>
    <span class="n">home_name</span> <span class="o">=</span> <span class="n">r</span><span class="p">[</span><span class="s1">&#39;gameData&#39;</span><span class="p">][</span><span class="s1">&#39;teams&#39;</span><span class="p">][</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;teamName&#39;</span><span class="p">]</span>
    <span class="n">header_row</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">away</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">home</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">r</span><span class="p">[</span><span class="s1">&#39;liveData&#39;</span><span class="p">][</span><span class="s1">&#39;linescore&#39;</span><span class="p">][</span><span class="s1">&#39;innings&#39;</span><span class="p">]:</span>
        <span class="n">header_row</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;num&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">)))</span>
        <span class="n">away</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;away&#39;</span><span class="p">,{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;runs&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">)))</span>
        <span class="n">home</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;home&#39;</span><span class="p">,{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;runs&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">)))</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">r</span><span class="p">[</span><span class="s1">&#39;liveData&#39;</span><span class="p">][</span><span class="s1">&#39;linescore&#39;</span><span class="p">][</span><span class="s1">&#39;innings&#39;</span><span class="p">])</span> <span class="o">&lt;</span> <span class="mi">9</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">r</span><span class="p">[</span><span class="s1">&#39;liveData&#39;</span><span class="p">][</span><span class="s1">&#39;linescore&#39;</span><span class="p">][</span><span class="s1">&#39;innings&#39;</span><span class="p">])</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">):</span>
            <span class="n">header_row</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
            <span class="n">away</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)</span>
            <span class="n">home</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)</span>

    <span class="n">header_row</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="s1">&#39;R&#39;</span><span class="p">,</span><span class="s1">&#39;H&#39;</span><span class="p">,</span><span class="s1">&#39;E&#39;</span><span class="p">])</span>
    <span class="n">away</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
                    <span class="nb">str</span><span class="p">(</span><span class="n">r</span><span class="p">[</span><span class="s1">&#39;liveData&#39;</span><span class="p">][</span><span class="s1">&#39;linescore&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;teams&#39;</span><span class="p">,{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;away&#39;</span><span class="p">,{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;runs&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">)),</span>
                    <span class="nb">str</span><span class="p">(</span><span class="n">r</span><span class="p">[</span><span class="s1">&#39;liveData&#39;</span><span class="p">][</span><span class="s1">&#39;linescore&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;teams&#39;</span><span class="p">,{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;away&#39;</span><span class="p">,{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;hits&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">)),</span>
                    <span class="nb">str</span><span class="p">(</span><span class="n">r</span><span class="p">[</span><span class="s1">&#39;liveData&#39;</span><span class="p">][</span><span class="s1">&#39;linescore&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;teams&#39;</span><span class="p">,{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;away&#39;</span><span class="p">,{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;errors&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span>
                <span class="p">])</span>
    <span class="n">home</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
                    <span class="nb">str</span><span class="p">(</span><span class="n">r</span><span class="p">[</span><span class="s1">&#39;liveData&#39;</span><span class="p">][</span><span class="s1">&#39;linescore&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;teams&#39;</span><span class="p">,{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;home&#39;</span><span class="p">,{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;runs&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">)),</span>
                    <span class="nb">str</span><span class="p">(</span><span class="n">r</span><span class="p">[</span><span class="s1">&#39;liveData&#39;</span><span class="p">][</span><span class="s1">&#39;linescore&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;teams&#39;</span><span class="p">,{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;home&#39;</span><span class="p">,{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;hits&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">)),</span>
                    <span class="nb">str</span><span class="p">(</span><span class="n">r</span><span class="p">[</span><span class="s1">&#39;liveData&#39;</span><span class="p">][</span><span class="s1">&#39;linescore&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;teams&#39;</span><span class="p">,{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;home&#39;</span><span class="p">,{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;errors&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span>
                <span class="p">])</span>

    <span class="c1">#Build the linescore</span>
    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="p">[[</span><span class="n">header_name</span><span class="p">,</span><span class="n">header_row</span><span class="p">],[</span><span class="n">away_name</span><span class="p">,</span><span class="n">away</span><span class="p">],[</span><span class="n">home_name</span><span class="p">,</span><span class="n">home</span><span class="p">]]:</span>
        <span class="n">linescore</span> <span class="o">+=</span> <span class="p">(</span><span class="s1">&#39;{:&lt;</span><span class="si">%s</span><span class="s1">}&#39;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="nb">max</span><span class="p">([</span><span class="n">header_name</span><span class="p">,</span><span class="n">away_name</span><span class="p">,</span><span class="n">home_name</span><span class="p">],</span><span class="n">key</span><span class="o">=</span><span class="nb">len</span><span class="p">))</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">k</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">linescore</span> <span class="o">+=</span> <span class="p">(</span><span class="s1">&#39;{:^2}&#39;</span> <span class="o">*</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">k</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">-</span><span class="mi">3</span><span class="p">))</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">*</span><span class="n">k</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="n">linescore</span> <span class="o">+=</span> <span class="p">(</span><span class="s1">&#39;{:^4}&#39;</span> <span class="o">*</span> <span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">*</span><span class="n">k</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="o">-</span><span class="mi">3</span><span class="p">:])</span>
        <span class="n">linescore</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">linescore</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">1</span><span class="p">:</span> <span class="n">linescore</span> <span class="o">=</span> <span class="n">linescore</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="c1">#strip the extra line break</span>

    <span class="k">return</span> <span class="n">linescore</span>
</pre></div>

  </div>
</div>

  </div>
  
      
  <div class="item">
    <div class="name def" id="statsapi.lookup_player">
    <p>def <span class="ident">lookup_player</span>(</p><p>lookup_value, gameType=&#39;R&#39;, season=2019, sportId=1)</p>
    </div>
    

    
  
    <div class="desc"><p>Get data about players based on first, last, or full name.</p>
<p>Example use:</p>
<p>Look up player id for Aaron Nola
Note: if using a full last name as the lookup_value and that last name could be part of another player's lastname,
e.g. 'Nola' is part of 'Nolan', include a comma on the end of the last name in order to match on the 'initLastName'
field which looks like 'Nola, A'</p>
<p>player = statsapi.lookup_player('nola,')
print(player[0]['id']) #assume only 1 record returned for demo purposes</p>
<p>Output:</p>
<p>605400</p>
<p>Print full name and position for all players named Harper</p>
<p>for player in statsapi.lookup_player('Harper'):
    print('Full name: {}, Position: {}'.format(player['fullName'], player['primaryPosition']['abbreviation']))</p>
<p>Output:</p>
<p>Full name: Bryce Harper, Position: RF
Full name: Ryne Harper, Position: P</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-statsapi.lookup_player', this);">Show source &equiv;</a></p>
  <div id="source-statsapi.lookup_player" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">lookup_player</span><span class="p">(</span><span class="n">lookup_value</span><span class="p">,</span><span class="n">gameType</span><span class="o">=</span><span class="s1">&#39;R&#39;</span><span class="p">,</span><span class="n">season</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">year</span><span class="p">,</span><span class="n">sportId</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get data about players based on first, last, or full name.</span>

<span class="sd">    Example use:</span>

<span class="sd">    Look up player id for Aaron Nola</span>
<span class="sd">    Note: if using a full last name as the lookup_value and that last name could be part of another player&#39;s lastname,</span>
<span class="sd">    e.g. &#39;Nola&#39; is part of &#39;Nolan&#39;, include a comma on the end of the last name in order to match on the &#39;initLastName&#39;</span>
<span class="sd">    field which looks like &#39;Nola, A&#39;</span>

<span class="sd">    player = statsapi.lookup_player(&#39;nola,&#39;)</span>
<span class="sd">    print(player[0][&#39;id&#39;]) #assume only 1 record returned for demo purposes</span>

<span class="sd">    Output:</span>

<span class="sd">    605400</span>


<span class="sd">    Print full name and position for all players named Harper</span>

<span class="sd">    for player in statsapi.lookup_player(&#39;Harper&#39;):</span>
<span class="sd">        print(&#39;Full name: {}, Position: {}&#39;.format(player[&#39;fullName&#39;], player[&#39;primaryPosition&#39;][&#39;abbreviation&#39;]))</span>

<span class="sd">    Output:</span>

<span class="sd">    Full name: Bryce Harper, Position: RF</span>
<span class="sd">    Full name: Ryne Harper, Position: P</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;gameType&#39;</span><span class="p">:</span><span class="n">gameType</span><span class="p">,</span> <span class="s1">&#39;season&#39;</span><span class="p">:</span><span class="n">season</span><span class="p">,</span> <span class="s1">&#39;sportId&#39;</span><span class="p">:</span><span class="n">sportId</span><span class="p">,</span> <span class="s1">&#39;fields&#39;</span><span class="p">:</span><span class="s1">&#39;people,id,fullName,firstName,lastName,primaryNumber,currentTeam,id,primaryPosition,code,abbreviation,useName,boxscoreName,nickName,mlbDebutDate,nameFirstLast,firstLastName,lastFirstName,lastInitName,initLastName,fullFMLName,fullLFMName&#39;</span><span class="p">}</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">get</span><span class="p">(</span><span class="s1">&#39;sports_players&#39;</span><span class="p">,</span><span class="n">params</span><span class="p">)</span>

    <span class="n">players</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">player</span> <span class="ow">in</span> <span class="n">r</span><span class="p">[</span><span class="s1">&#39;people&#39;</span><span class="p">]:</span>
        <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">player</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">lookup_value</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
                <span class="n">players</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">player</span><span class="p">)</span>
                <span class="k">break</span>

    <span class="k">return</span> <span class="n">players</span>
</pre></div>

  </div>
</div>

  </div>
  
      
  <div class="item">
    <div class="name def" id="statsapi.lookup_team">
    <p>def <span class="ident">lookup_team</span>(</p><p>lookup_value, activeStatus=&#39;Y&#39;, season=2019, sportIds=1)</p>
    </div>
    

    
  
    <div class="desc"><p>Get a info about a team or teams based on the team name, city, abbreviation, or file code.</p>
<p>Values for activeStatus: Y, N, B (Both)</p>
<p>Return value will be a list of teams matching the lookup_value. 
If no matches are found, an empty list will be returned.</p>
<p>Example use:</p>
<p>Get teamId for team with code cwa</p>
<p>team = statsapi.lookup_team('chn')
print(team[0]['id']) #assume only 1 record returned for demo purposes</p>
<p>Output:</p>
<p>112</p>
<p>Get info about all teams from NY</p>
<p>for team in statsapi.lookup_team('ny'):
    print(team)</p>
<p>Output:</p>
<p>{'id': 147, 'name': 'New York Yankees', 'teamCode': 'nya', 'fileCode': 'nyy', 'teamName': 'Yankees', 'locationName': 'Bronx', 'shortName': 'NY Yankees'}
{'id': 121, 'name': 'New York Mets', 'teamCode': 'nyn', 'fileCode': 'nym', 'teamName': 'Mets', 'locationName': 'New York', 'shortName': 'NY Mets'}</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-statsapi.lookup_team', this);">Show source &equiv;</a></p>
  <div id="source-statsapi.lookup_team" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">lookup_team</span><span class="p">(</span><span class="n">lookup_value</span><span class="p">,</span><span class="n">activeStatus</span><span class="o">=</span><span class="s1">&#39;Y&#39;</span><span class="p">,</span><span class="n">season</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">year</span><span class="p">,</span><span class="n">sportIds</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get a info about a team or teams based on the team name, city, abbreviation, or file code.</span>

<span class="sd">    Values for activeStatus: Y, N, B (Both)</span>

<span class="sd">    Return value will be a list of teams matching the lookup_value. </span>
<span class="sd">    If no matches are found, an empty list will be returned.</span>

<span class="sd">    Example use:</span>

<span class="sd">    Get teamId for team with code cwa</span>

<span class="sd">    team = statsapi.lookup_team(&#39;chn&#39;)</span>
<span class="sd">    print(team[0][&#39;id&#39;]) #assume only 1 record returned for demo purposes</span>

<span class="sd">    Output:</span>

<span class="sd">    112</span>


<span class="sd">    Get info about all teams from NY</span>

<span class="sd">    for team in statsapi.lookup_team(&#39;ny&#39;):</span>
<span class="sd">        print(team)</span>

<span class="sd">    Output:</span>

<span class="sd">    {&#39;id&#39;: 147, &#39;name&#39;: &#39;New York Yankees&#39;, &#39;teamCode&#39;: &#39;nya&#39;, &#39;fileCode&#39;: &#39;nyy&#39;, &#39;teamName&#39;: &#39;Yankees&#39;, &#39;locationName&#39;: &#39;Bronx&#39;, &#39;shortName&#39;: &#39;NY Yankees&#39;}</span>
<span class="sd">    {&#39;id&#39;: 121, &#39;name&#39;: &#39;New York Mets&#39;, &#39;teamCode&#39;: &#39;nyn&#39;, &#39;fileCode&#39;: &#39;nym&#39;, &#39;teamName&#39;: &#39;Mets&#39;, &#39;locationName&#39;: &#39;New York&#39;, &#39;shortName&#39;: &#39;NY Mets&#39;}</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;activeStatus&#39;</span><span class="p">:</span><span class="n">activeStatus</span><span class="p">,</span> <span class="s1">&#39;season&#39;</span><span class="p">:</span><span class="n">season</span><span class="p">,</span> <span class="s1">&#39;sportIds&#39;</span><span class="p">:</span><span class="n">sportIds</span><span class="p">,</span> <span class="s1">&#39;fields&#39;</span><span class="p">:</span><span class="s1">&#39;teams,id,name,teamCode,fileCode,teamName,locationName,shortName&#39;</span><span class="p">}</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">get</span><span class="p">(</span><span class="s1">&#39;teams&#39;</span><span class="p">,</span><span class="n">params</span><span class="p">)</span>

    <span class="n">teams</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">team</span> <span class="ow">in</span> <span class="n">r</span><span class="p">[</span><span class="s1">&#39;teams&#39;</span><span class="p">]:</span>
        <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">team</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">lookup_value</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
                <span class="n">teams</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">team</span><span class="p">)</span>
                <span class="k">break</span>
    <span class="k">return</span> <span class="n">teams</span>
</pre></div>

  </div>
</div>

  </div>
  
      
  <div class="item">
    <div class="name def" id="statsapi.meta">
    <p>def <span class="ident">meta</span>(</p><p>type, fields=None)</p>
    </div>
    

    
  
    <div class="desc"><p>Get available values from StatsAPI for use in other queries,
or look up descriptions for values found in API results.</p>
<p>For example, to get a list of leader categories to use when calling team_leaders():
statsapi.meta('leagueLeaderTypes')</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-statsapi.meta', this);">Show source &equiv;</a></p>
  <div id="source-statsapi.meta" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">meta</span><span class="p">(</span><span class="nb">type</span><span class="p">,</span><span class="n">fields</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get available values from StatsAPI for use in other queries,</span>
<span class="sd">    or look up descriptions for values found in API results.</span>

<span class="sd">    For example, to get a list of leader categories to use when calling team_leaders():</span>
<span class="sd">    statsapi.meta(&#39;leagueLeaderTypes&#39;)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">types</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;awards&#39;</span><span class="p">,</span> <span class="s1">&#39;baseballStats&#39;</span><span class="p">,</span> <span class="s1">&#39;eventTypes&#39;</span><span class="p">,</span> <span class="s1">&#39;gameStatus&#39;</span><span class="p">,</span> <span class="s1">&#39;gameTypes&#39;</span><span class="p">,</span> <span class="s1">&#39;hitTrajectories&#39;</span><span class="p">,</span> <span class="s1">&#39;jobTypes&#39;</span><span class="p">,</span> <span class="s1">&#39;languages&#39;</span><span class="p">,</span> <span class="s1">&#39;leagueLeaderTypes&#39;</span><span class="p">,</span> <span class="s1">&#39;logicalEvents&#39;</span><span class="p">,</span> <span class="s1">&#39;metrics&#39;</span><span class="p">,</span> <span class="s1">&#39;pitchCodes&#39;</span><span class="p">,</span> <span class="s1">&#39;pitchTypes&#39;</span><span class="p">,</span> <span class="s1">&#39;platforms&#39;</span><span class="p">,</span> <span class="s1">&#39;positions&#39;</span><span class="p">,</span> <span class="s1">&#39;reviewReasons&#39;</span><span class="p">,</span> <span class="s1">&#39;rosterTypes&#39;</span><span class="p">,</span> <span class="s1">&#39;scheduleEventTypes&#39;</span><span class="p">,</span> <span class="s1">&#39;situationCodes&#39;</span><span class="p">,</span> <span class="s1">&#39;sky&#39;</span><span class="p">,</span> <span class="s1">&#39;standingsTypes&#39;</span><span class="p">,</span> <span class="s1">&#39;statGroups&#39;</span><span class="p">,</span> <span class="s1">&#39;statTypes&#39;</span><span class="p">,</span> <span class="s1">&#39;windDirection&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="nb">type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">types</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Invalid meta type. Available meta types: </span><span class="si">%s</span><span class="s2">.&quot;</span> <span class="o">%</span> <span class="n">types</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">get</span><span class="p">(</span><span class="s1">&#39;meta&#39;</span><span class="p">,{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span><span class="nb">type</span><span class="p">})</span>
</pre></div>

  </div>
</div>

  </div>
  
      
  <div class="item">
    <div class="name def" id="statsapi.next_game">
    <p>def <span class="ident">next_game</span>(</p><p>teamId)</p>
    </div>
    

    
  
    <div class="desc"><p>Get the gamePk for the given team's next game.
Note: Sometimes Stats API will actually return the next game in the previousSchedule hydration</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-statsapi.next_game', this);">Show source &equiv;</a></p>
  <div id="source-statsapi.next_game" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">next_game</span><span class="p">(</span><span class="n">teamId</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get the gamePk for the given team&#39;s next game.</span>
<span class="sd">    Note: Sometimes Stats API will actually return the next game in the previousSchedule hydration</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">get</span><span class="p">(</span><span class="s1">&#39;team&#39;</span><span class="p">,{</span><span class="s1">&#39;teamId&#39;</span><span class="p">:</span><span class="n">teamId</span><span class="p">,</span><span class="s1">&#39;hydrate&#39;</span><span class="p">:</span><span class="s1">&#39;nextSchedule&#39;</span><span class="p">,</span><span class="s1">&#39;fields&#39;</span><span class="p">:</span><span class="s1">&#39;teams,id,teamName,nextGameSchedule,dates,date,games,gamePk,season,gameDate,teams,away,home,team,name&#39;</span><span class="p">})[</span><span class="s1">&#39;teams&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;nextGameSchedule&#39;</span><span class="p">][</span><span class="s1">&#39;dates&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;games&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;gamePk&#39;</span><span class="p">]</span>
</pre></div>

  </div>
</div>

  </div>
  
      
  <div class="item">
    <div class="name def" id="statsapi.notes">
    <p>def <span class="ident">notes</span>(</p><p>endpoint)</p>
    </div>
    

    
  
    <div class="desc"><p>Get notes for a given endpoint. 
Will include a list of required parameters, as well as hints for some endpoints.
If the specified endpoint has more than one distinct parameter requirement, 
for example one of teamId, leagueId, or leagueListId must be included for the attendance endpoint, 
the required query parameters list will contain separate sublists for each independent set of requirements:
'required_params': [['teamId'],['leagueId'],['leagueListid']]</p>
<p>Path parameters are part of the URL itself, for example the teamId parameter in the team endpoint (143 in the example):
https://statsapi.mlb.com/api/v1/teams/143</p>
<p>Query parameters are appended on to the URL after the question mark (hydrate in the example):
https://statsapi.mlb.com/api/v1/teams/143?hydrate=league</p>
<p>There is no difference in the way path and query parameters are passed into statsapi.get().</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-statsapi.notes', this);">Show source &equiv;</a></p>
  <div id="source-statsapi.notes" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">notes</span><span class="p">(</span><span class="n">endpoint</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get notes for a given endpoint. </span>
<span class="sd">    Will include a list of required parameters, as well as hints for some endpoints.</span>
<span class="sd">    If the specified endpoint has more than one distinct parameter requirement, </span>
<span class="sd">    for example one of teamId, leagueId, or leagueListId must be included for the attendance endpoint, </span>
<span class="sd">    the required query parameters list will contain separate sublists for each independent set of requirements:</span>
<span class="sd">    &#39;required_params&#39;: [[&#39;teamId&#39;],[&#39;leagueId&#39;],[&#39;leagueListid&#39;]]</span>

<span class="sd">    Path parameters are part of the URL itself, for example the teamId parameter in the team endpoint (143 in the example):</span>
<span class="sd">    https://statsapi.mlb.com/api/v1/teams/143</span>

<span class="sd">    Query parameters are appended on to the URL after the question mark (hydrate in the example):</span>
<span class="sd">    https://statsapi.mlb.com/api/v1/teams/143?hydrate=league</span>

<span class="sd">    There is no difference in the way path and query parameters are passed into statsapi.get().</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">endpoint</span><span class="p">:</span> <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;No endpoint specified.&#39;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">ENDPOINTS</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">endpoint</span><span class="p">):</span> <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;Invalid endpoint specified.&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">+=</span> <span class="s2">&quot;Endpoint: &quot;</span> <span class="o">+</span> <span class="n">endpoint</span> <span class="o">+</span> <span class="s2">&quot; </span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="n">path_params</span> <span class="o">=</span> <span class="p">[</span><span class="n">k</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">ENDPOINTS</span><span class="p">[</span><span class="n">endpoint</span><span class="p">][</span><span class="s1">&#39;path_params&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()]</span>
            <span class="n">required_path_params</span> <span class="o">=</span> <span class="p">[</span><span class="n">k</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">ENDPOINTS</span><span class="p">[</span><span class="n">endpoint</span><span class="p">][</span><span class="s1">&#39;path_params&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">v</span><span class="p">[</span><span class="s1">&#39;required&#39;</span><span class="p">]]</span>
            <span class="k">if</span> <span class="n">required_path_params</span> <span class="o">==</span> <span class="p">[]:</span> <span class="n">required_path_params</span> <span class="o">=</span> <span class="s2">&quot;None&quot;</span>
            
            <span class="n">query_params</span> <span class="o">=</span> <span class="n">ENDPOINTS</span><span class="p">[</span><span class="n">endpoint</span><span class="p">][</span><span class="s1">&#39;query_params&#39;</span><span class="p">]</span>
            <span class="n">required_query_params</span> <span class="o">=</span> <span class="n">ENDPOINTS</span><span class="p">[</span><span class="n">endpoint</span><span class="p">][</span><span class="s1">&#39;required_params&#39;</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">required_query_params</span> <span class="o">==</span> <span class="p">[[]]:</span> <span class="n">required_query_params</span> <span class="o">=</span> <span class="s2">&quot;None&quot;</span>
            <span class="n">msg</span> <span class="o">+=</span> <span class="s2">&quot;All path parameters: </span><span class="si">%s</span><span class="s2">. </span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">path_params</span>
            <span class="n">msg</span> <span class="o">+=</span> <span class="s2">&quot;Required path parameters (note: ver will be included by default): </span><span class="si">%s</span><span class="s2">. </span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">required_path_params</span>
            <span class="n">msg</span> <span class="o">+=</span> <span class="s2">&quot;All query parameters: </span><span class="si">%s</span><span class="s2">. </span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">query_params</span>
            <span class="n">msg</span> <span class="o">+=</span> <span class="s2">&quot;Required query parameters: </span><span class="si">%s</span><span class="s2">. </span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">required_query_params</span>
            <span class="k">if</span> <span class="s1">&#39;hydrate&#39;</span> <span class="ow">in</span> <span class="n">query_params</span><span class="p">:</span> <span class="n">msg</span> <span class="o">+=</span> <span class="s2">&quot;The hydrate function is supported by this endpoint. Call the endpoint with {&#39;hydrate&#39;:&#39;hydrations&#39;} in the parameters to return a list of available hydrations. For example, statsapi.get(&#39;schedule&#39;,{&#39;sportId&#39;:1,&#39;hydrate&#39;:&#39;hydrations&#39;,&#39;fields&#39;:&#39;hydrations&#39;})</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="k">if</span> <span class="n">ENDPOINTS</span><span class="p">[</span><span class="n">endpoint</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;note&#39;</span><span class="p">):</span> <span class="n">msg</span> <span class="o">+=</span> <span class="s2">&quot;Developer notes: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">ENDPOINTS</span><span class="p">[</span><span class="n">endpoint</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;note&#39;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">msg</span>
</pre></div>

  </div>
</div>

  </div>
  
      
  <div class="item">
    <div class="name def" id="statsapi.player_stat_data">
    <p>def <span class="ident">player_stat_data</span>(</p><p>personId, group=&#39;[hitting,pitching,fielding]&#39;, type=&#39;season&#39;)</p>
    </div>
    

    
  
    <div class="desc"><p>Get current season or career stat data for a given player.</p>
<p>For group use 'hitting', 'pitching', or 'fielding'.
Include multiple groups in the following format (this is a string, not actually a list):
group='[hitting,pitching]'</p>
<p>For type use 'career' or 'season'.
Include multiple types in the following format (this is a string, not actually a list):
group='[career,season]'</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-statsapi.player_stat_data', this);">Show source &equiv;</a></p>
  <div id="source-statsapi.player_stat_data" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">player_stat_data</span><span class="p">(</span><span class="n">personId</span><span class="p">,</span><span class="n">group</span><span class="o">=</span><span class="s1">&#39;[hitting,pitching,fielding]&#39;</span><span class="p">,</span><span class="nb">type</span><span class="o">=</span><span class="s1">&#39;season&#39;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get current season or career stat data for a given player.</span>

<span class="sd">    For group use &#39;hitting&#39;, &#39;pitching&#39;, or &#39;fielding&#39;.</span>
<span class="sd">    Include multiple groups in the following format (this is a string, not actually a list):</span>
<span class="sd">    group=&#39;[hitting,pitching]&#39;</span>

<span class="sd">    For type use &#39;career&#39; or &#39;season&#39;.</span>
<span class="sd">    Include multiple types in the following format (this is a string, not actually a list):</span>
<span class="sd">    group=&#39;[career,season]&#39;</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;personId&#39;</span><span class="p">:</span><span class="n">personId</span><span class="p">,</span><span class="s1">&#39;hydrate&#39;</span><span class="p">:</span><span class="s1">&#39;stats(group=&#39;</span><span class="o">+</span><span class="n">group</span><span class="o">+</span><span class="s1">&#39;,type=&#39;</span><span class="o">+</span><span class="nb">type</span><span class="o">+</span><span class="s1">&#39;),currentTeam&#39;</span><span class="p">}</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">get</span><span class="p">(</span><span class="s1">&#39;person&#39;</span><span class="p">,</span><span class="n">params</span><span class="p">)</span>

    <span class="n">stat_groups</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="n">player</span> <span class="o">=</span>   <span class="p">{</span>
                <span class="s1">&#39;id&#39;</span> <span class="p">:</span> <span class="n">r</span><span class="p">[</span><span class="s1">&#39;people&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;id&#39;</span><span class="p">],</span>
                <span class="s1">&#39;first_name&#39;</span> <span class="p">:</span> <span class="n">r</span><span class="p">[</span><span class="s1">&#39;people&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;useName&#39;</span><span class="p">],</span>
                <span class="s1">&#39;last_name&#39;</span> <span class="p">:</span> <span class="n">r</span><span class="p">[</span><span class="s1">&#39;people&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;lastName&#39;</span><span class="p">],</span>
                <span class="s1">&#39;active&#39;</span> <span class="p">:</span> <span class="n">r</span><span class="p">[</span><span class="s1">&#39;people&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;active&#39;</span><span class="p">],</span>
                <span class="s1">&#39;current_team&#39;</span> <span class="p">:</span> <span class="n">r</span><span class="p">[</span><span class="s1">&#39;people&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;currentTeam&#39;</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">],</span>
                <span class="s1">&#39;position&#39;</span> <span class="p">:</span> <span class="n">r</span><span class="p">[</span><span class="s1">&#39;people&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;primaryPosition&#39;</span><span class="p">][</span><span class="s1">&#39;abbreviation&#39;</span><span class="p">],</span>
                <span class="s1">&#39;nickname&#39;</span> <span class="p">:</span> <span class="n">r</span><span class="p">[</span><span class="s1">&#39;people&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;nickName&#39;</span><span class="p">),</span>
                <span class="s1">&#39;active&#39;</span> <span class="p">:</span> <span class="n">r</span><span class="p">[</span><span class="s1">&#39;people&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;active&#39;</span><span class="p">],</span>
                <span class="s1">&#39;last_played&#39;</span> <span class="p">:</span> <span class="n">r</span><span class="p">[</span><span class="s1">&#39;people&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;lastPlayedDate&#39;</span><span class="p">),</span>
                <span class="s1">&#39;mlb_debut&#39;</span> <span class="p">:</span> <span class="n">r</span><span class="p">[</span><span class="s1">&#39;people&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;mlbDebutDate&#39;</span><span class="p">],</span>
                <span class="s1">&#39;bat_side&#39;</span> <span class="p">:</span> <span class="n">r</span><span class="p">[</span><span class="s1">&#39;people&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;batSide&#39;</span><span class="p">][</span><span class="s1">&#39;description&#39;</span><span class="p">],</span>
                <span class="s1">&#39;pitch_hand&#39;</span> <span class="p">:</span> <span class="n">r</span><span class="p">[</span><span class="s1">&#39;people&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;pitchHand&#39;</span><span class="p">][</span><span class="s1">&#39;description&#39;</span><span class="p">]</span>
            <span class="p">}</span>

    <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">r</span><span class="p">[</span><span class="s1">&#39;people&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;stats&#39;</span><span class="p">,[]):</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="s1">&#39;splits&#39;</span><span class="p">])):</span>
            <span class="n">stat_group</span> <span class="o">=</span>    <span class="p">{</span>
                                <span class="s1">&#39;type&#39;</span> <span class="p">:</span> <span class="n">s</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">][</span><span class="s1">&#39;displayName&#39;</span><span class="p">],</span>
                                <span class="s1">&#39;group&#39;</span> <span class="p">:</span> <span class="n">s</span><span class="p">[</span><span class="s1">&#39;group&#39;</span><span class="p">][</span><span class="s1">&#39;displayName&#39;</span><span class="p">],</span>
                                <span class="s1">&#39;stats&#39;</span> <span class="p">:</span> <span class="n">s</span><span class="p">[</span><span class="s1">&#39;splits&#39;</span><span class="p">][</span><span class="n">i</span><span class="p">][</span><span class="s1">&#39;stat&#39;</span><span class="p">]</span>
                            <span class="p">}</span>
            <span class="n">stat_groups</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">stat_group</span><span class="p">)</span>

    <span class="n">player</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;stats&#39;</span><span class="p">:</span><span class="n">stat_groups</span><span class="p">})</span>

    <span class="k">return</span> <span class="n">player</span>
</pre></div>

  </div>
</div>

  </div>
  
      
  <div class="item">
    <div class="name def" id="statsapi.player_stats">
    <p>def <span class="ident">player_stats</span>(</p><p>personId, group=&#39;[hitting,pitching,fielding]&#39;, type=&#39;season&#39;)</p>
    </div>
    

    
  
    <div class="desc"><p>Get current season or career stats for a given player.</p>
<p>For group use 'hitting', 'pitching', or 'fielding'.
Include multiple groups in the following format (this is a string, not actually a list):
group='[hitting,pitching]'</p>
<p>For type use 'career' or 'season'.
Include multiple types in the following format (this is a string, not actually a list):
group='[career,season]'</p>
<p>Example use:</p>
<p>Print Chase Utley's career hitting stats (using sports_players endpoint to look up person id)</p>
<p>print( statsapi.player_stats(next(x['id'] for x in statsapi.get('sports_players',{'season':2008,'gameType':'W'})['people'] if x['fullName']=='Chase Utley'), 'hitting', 'career') )</p>
<p>Output:</p>
<p>Chase "Silver Fox" Utley, 2B (2003-2018)</p>
<p>Career Hitting
gamesPlayed: 1937
groundOuts: 1792
runs: 1103
doubles: 411
triples: 58
homeRuns: 259
strikeOuts: 1193
baseOnBalls: 724
intentionalWalks: 62
hits: 1885
hitByPitch: 204
avg: .275
atBats: 6857
obp: .358
slg: .465
ops: .823
caughtStealing: 22
stolenBases: 154
groundIntoDoublePlay: 93
numberOfPitches: 31043
plateAppearances: 7863
totalBases: 3189
rbi: 1025
leftOnBase: 2780
sacBunts: 6
sacFlies: 72
babip: .297
groundOutsToAirouts: 0.84</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-statsapi.player_stats', this);">Show source &equiv;</a></p>
  <div id="source-statsapi.player_stats" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">player_stats</span><span class="p">(</span><span class="n">personId</span><span class="p">,</span><span class="n">group</span><span class="o">=</span><span class="s1">&#39;[hitting,pitching,fielding]&#39;</span><span class="p">,</span><span class="nb">type</span><span class="o">=</span><span class="s1">&#39;season&#39;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get current season or career stats for a given player.</span>

<span class="sd">    For group use &#39;hitting&#39;, &#39;pitching&#39;, or &#39;fielding&#39;.</span>
<span class="sd">    Include multiple groups in the following format (this is a string, not actually a list):</span>
<span class="sd">    group=&#39;[hitting,pitching]&#39;</span>

<span class="sd">    For type use &#39;career&#39; or &#39;season&#39;.</span>
<span class="sd">    Include multiple types in the following format (this is a string, not actually a list):</span>
<span class="sd">    group=&#39;[career,season]&#39;</span>

<span class="sd">    Example use:</span>

<span class="sd">    Print Chase Utley&#39;s career hitting stats (using sports_players endpoint to look up person id)</span>

<span class="sd">    print( statsapi.player_stats(next(x[&#39;id&#39;] for x in statsapi.get(&#39;sports_players&#39;,{&#39;season&#39;:2008,&#39;gameType&#39;:&#39;W&#39;})[&#39;people&#39;] if x[&#39;fullName&#39;]==&#39;Chase Utley&#39;), &#39;hitting&#39;, &#39;career&#39;) )</span>

<span class="sd">    Output:</span>

<span class="sd">    Chase &quot;Silver Fox&quot; Utley, 2B (2003-2018)</span>

<span class="sd">    Career Hitting</span>
<span class="sd">    gamesPlayed: 1937</span>
<span class="sd">    groundOuts: 1792</span>
<span class="sd">    runs: 1103</span>
<span class="sd">    doubles: 411</span>
<span class="sd">    triples: 58</span>
<span class="sd">    homeRuns: 259</span>
<span class="sd">    strikeOuts: 1193</span>
<span class="sd">    baseOnBalls: 724</span>
<span class="sd">    intentionalWalks: 62</span>
<span class="sd">    hits: 1885</span>
<span class="sd">    hitByPitch: 204</span>
<span class="sd">    avg: .275</span>
<span class="sd">    atBats: 6857</span>
<span class="sd">    obp: .358</span>
<span class="sd">    slg: .465</span>
<span class="sd">    ops: .823</span>
<span class="sd">    caughtStealing: 22</span>
<span class="sd">    stolenBases: 154</span>
<span class="sd">    groundIntoDoublePlay: 93</span>
<span class="sd">    numberOfPitches: 31043</span>
<span class="sd">    plateAppearances: 7863</span>
<span class="sd">    totalBases: 3189</span>
<span class="sd">    rbi: 1025</span>
<span class="sd">    leftOnBase: 2780</span>
<span class="sd">    sacBunts: 6</span>
<span class="sd">    sacFlies: 72</span>
<span class="sd">    babip: .297</span>
<span class="sd">    groundOutsToAirouts: 0.84</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">player</span> <span class="o">=</span> <span class="n">player_stat_data</span><span class="p">(</span><span class="n">personId</span><span class="p">,</span><span class="n">group</span><span class="p">,</span><span class="nb">type</span><span class="p">)</span>

    <span class="n">stats</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="n">stats</span> <span class="o">+=</span> <span class="n">player</span><span class="p">[</span><span class="s1">&#39;first_name&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">player</span><span class="p">[</span><span class="s1">&#39;nickname&#39;</span><span class="p">]:</span> <span class="n">stats</span> <span class="o">+=</span> <span class="s1">&#39; &quot;{nickname}&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">player</span><span class="p">)</span>
    <span class="n">stats</span> <span class="o">+=</span> <span class="s1">&#39; {last_name}, {position} ({mlb_debut:.4}-&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">player</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">player</span><span class="p">[</span><span class="s1">&#39;active&#39;</span><span class="p">]:</span> <span class="n">stats</span> <span class="o">+=</span> <span class="s1">&#39;{last_played:.4}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">player</span><span class="p">)</span>
    <span class="n">stats</span> <span class="o">+=</span> <span class="s1">&#39;)</span><span class="se">\n\n</span><span class="s1">&#39;</span>

    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">player</span><span class="p">[</span><span class="s1">&#39;stats&#39;</span><span class="p">]:</span>
        <span class="n">stats</span> <span class="o">+=</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">:</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="o">+</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">:]</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;group&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">:</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="o">+</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;group&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">:]</span>
        <span class="k">if</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;stats&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;position&#39;</span><span class="p">):</span> <span class="n">stats</span> <span class="o">+=</span> <span class="s1">&#39; ({})&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="s1">&#39;position&#39;</span><span class="p">][</span><span class="s1">&#39;abbreviation&#39;</span><span class="p">])</span>
        <span class="n">stats</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;stats&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">y</span><span class="o">==</span><span class="s1">&#39;position&#39;</span><span class="p">:</span> <span class="k">continue</span>
            <span class="n">stats</span> <span class="o">+=</span> <span class="s1">&#39;{}: {}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">y</span><span class="p">,</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;stats&#39;</span><span class="p">][</span><span class="n">y</span><span class="p">])</span>
        <span class="n">stats</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>

    <span class="k">return</span> <span class="n">stats</span>
</pre></div>

  </div>
</div>

  </div>
  
      
  <div class="item">
    <div class="name def" id="statsapi.roster">
    <p>def <span class="ident">roster</span>(</p><p>teamId, rosterType=None, season=2019, date=None)</p>
    </div>
    

    
  
    <div class="desc"><p>Get the roster for a given team.
Get a list of available rosterTypes by calling the meta endpoint with type=rosterTypes.
Default rosterType=active
Format for date = 'MM/DD/YYYY', e.g. '04/24/2019'</p>
<p>Example use:</p>
<p>Print the current Phillies active roster:</p>
<p>print( statsapi.roster(143) )</p>
<p>Output:</p>
<h1>23  CF  Aaron Altherr</h1>
<h1>27  P   Aaron Nola</h1>
<h1>46  P   Adam Morgan</h1>
<h1>15  C   Andrew Knapp</h1>
<h1>22  RF  Andrew McCutchen</h1>
<h1>3   RF  Bryce Harper</h1>
<h1>16  2B  Cesar Hernandez</h1>
<h1>25  RF  Dylan Cozens</h1>
<h1>61  P   Edubray Ramos</h1>
<h1>51  P   Enyel De Los Santos</h1>
<h1>50  P   Hector Neris</h1>
<h1>10  C   J.T. Realmuto</h1>
<h1>49  P   Jake Arrieta</h1>
<h1>48  P   Jerad Eickhoff</h1>
<h1>52  P   Jose Alvarez</h1>
<h1>12  P   Juan Nicasio</h1>
<h1>7   3B  Maikel Franco</h1>
<h1>5   RF  Nick Williams</h1>
<h1>93  P   Pat Neshek</h1>
<h1>9   2B  Phil Gosselin</h1>
<h1>17  1B  Rhys Hoskins</h1>
<h1>13  2B  Sean Rodriguez</h1>
<h1>58  P   Seranthony Dominguez</h1>
<h1>21  P   Vince Velasquez</h1>
<h1>56  P   Zach Eflin</h1></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-statsapi.roster', this);">Show source &equiv;</a></p>
  <div id="source-statsapi.roster" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">roster</span><span class="p">(</span><span class="n">teamId</span><span class="p">,</span><span class="n">rosterType</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">season</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">year</span><span class="p">,</span><span class="n">date</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get the roster for a given team.</span>
<span class="sd">    Get a list of available rosterTypes by calling the meta endpoint with type=rosterTypes.</span>
<span class="sd">    Default rosterType=active</span>
<span class="sd">    Format for date = &#39;MM/DD/YYYY&#39;, e.g. &#39;04/24/2019&#39;</span>

<span class="sd">    Example use:</span>
<span class="sd">    </span>
<span class="sd">    Print the current Phillies active roster:</span>

<span class="sd">    print( statsapi.roster(143) )</span>

<span class="sd">    Output:</span>

<span class="sd">    #23  CF  Aaron Altherr</span>
<span class="sd">    #27  P   Aaron Nola</span>
<span class="sd">    #46  P   Adam Morgan</span>
<span class="sd">    #15  C   Andrew Knapp</span>
<span class="sd">    #22  RF  Andrew McCutchen</span>
<span class="sd">    #3   RF  Bryce Harper</span>
<span class="sd">    #16  2B  Cesar Hernandez</span>
<span class="sd">    #25  RF  Dylan Cozens</span>
<span class="sd">    #61  P   Edubray Ramos</span>
<span class="sd">    #51  P   Enyel De Los Santos</span>
<span class="sd">    #50  P   Hector Neris</span>
<span class="sd">    #10  C   J.T. Realmuto</span>
<span class="sd">    #49  P   Jake Arrieta</span>
<span class="sd">    #48  P   Jerad Eickhoff</span>
<span class="sd">    #52  P   Jose Alvarez</span>
<span class="sd">    #12  P   Juan Nicasio</span>
<span class="sd">    #7   3B  Maikel Franco</span>
<span class="sd">    #5   RF  Nick Williams</span>
<span class="sd">    #93  P   Pat Neshek</span>
<span class="sd">    #9   2B  Phil Gosselin</span>
<span class="sd">    #17  1B  Rhys Hoskins</span>
<span class="sd">    #13  2B  Sean Rodriguez</span>
<span class="sd">    #58  P   Seranthony Dominguez</span>
<span class="sd">    #21  P   Vince Velasquez</span>
<span class="sd">    #56  P   Zach Eflin</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">rosterType</span><span class="p">:</span> <span class="n">rosterType</span><span class="o">=</span><span class="s1">&#39;active&#39;</span>
    <span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;rosterType&#39;</span><span class="p">:</span><span class="n">rosterType</span><span class="p">,</span><span class="s1">&#39;season&#39;</span><span class="p">:</span><span class="n">season</span><span class="p">,</span><span class="s1">&#39;teamId&#39;</span><span class="p">:</span><span class="n">teamId</span><span class="p">}</span>
    <span class="k">if</span> <span class="n">date</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;date&#39;</span><span class="p">:</span><span class="n">date</span><span class="p">})</span>

    <span class="n">r</span> <span class="o">=</span> <span class="n">get</span><span class="p">(</span><span class="s1">&#39;team_roster&#39;</span><span class="p">,</span><span class="n">params</span><span class="p">)</span>

    <span class="n">roster</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="n">players</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">r</span><span class="p">[</span><span class="s1">&#39;roster&#39;</span><span class="p">]:</span>
        <span class="n">players</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;jerseyNumber&#39;</span><span class="p">],</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;position&#39;</span><span class="p">][</span><span class="s1">&#39;abbreviation&#39;</span><span class="p">],</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;person&#39;</span><span class="p">][</span><span class="s1">&#39;fullName&#39;</span><span class="p">]])</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">players</span><span class="p">)):</span>
        <span class="n">roster</span> <span class="o">+=</span> <span class="p">(</span><span class="s1">&#39;#{:&lt;3} {:&lt;3} {}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">*</span><span class="n">players</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>

    <span class="k">return</span> <span class="n">roster</span>
</pre></div>

  </div>
</div>

  </div>
  
      
  <div class="item">
    <div class="name def" id="statsapi.schedule">
    <p>def <span class="ident">schedule</span>(</p><p>date=None, start_date=None, end_date=None, team=&#39;&#39;, opponent=&#39;&#39;, sportId=1, game_id=None)</p>
    </div>
    

    
  
    <div class="desc"><p>Get list of games for a given date/range and/or team/opponent.</p>
<p>Include a game_id to get data for that game.</p>
<p>Output will be a list containing a dict for each game. Fields in the dict:</p>
<p>'game_id': unique MLB game id (primary key, or gamePk)
'game_datetime': date and timestamp in UTC (be careful if you truncate the time--the date may be the next day for a late game)
'game_date': date of game (YYYY-MM-DD)
'game_type': Preseason, Regular season, Postseason, etc. Look up possible values using the meta endpoint with type=gameTypes
'status': Scheduled, Warmup, In Progress, Final, etc. Look up possible values using the meta endpoint with type=gameStatus
'away_name': team name for the away team (e.g. Philadelphia Phillies)
'home_name': team name for the home team (e.g. Philadelphia Phillies)
'away_id': team id for the away team, e.g. 143. Use this to look up other info about a team using the team endpoint with teamId=143
'home_id': team id for the home team, e.g. 143. Use this to look up other info about a team using the team endpoint with teamId=143
'doubleheader': indicates if the game is part of a straight doubleheader (Y), a split doubleheader (S), or not part of a doubleheader
'game_num': game sequence (1, 2) if part of a doubleheader (will be 1 when not part of a doubleheader)
'away_score': runs scored by the away team (even when game is in progress)
'home_score': runs scored by the home team (even when game is in progress)
'winning_team': team name for the winning team, if the game is final (e.g. Philadelphia Phillies)
'losing_team': team name for the losing team, if the game is final (e.g. Philadelphia Phillies)
'winning_pitcher': full name of the winning pitcher, if the game is final and has a winner (not postponed/tied)
'losing_pitcher': full name of the losing pitcher, if the game is final and has a winner (not postponed/tied)
'save_pitcher': full name of the pitcher credited with a save, if the game is final and has a winner (not postponed/tied)
'home_probable_pitcher': full name of the probable pitcher for the home team, if available
'away_probable_pitcher': full name of the probable pitcher for the away team, if available
'home_pitcher_note': pitching report for the home team probable pitcher, if available
'away_pitcher_note': pitching report for the away team probable pitcher, if available
'current_inning': current inning (applies best to in-progress games)
'inning_state': state of current inning: top, middle, bottom, end (applies best to in-progress games)
'summary':  if the game is final or in progress, the summary will include "<Date> - <Away Team Name> (<Away Score>) @ <Home Team Name> (<Home Score>) (<Game Status>)"
            if the game has not started yet, the summary will include "<Date> - <Away Team Name> @ <Home Team Name> (<Game Status>)"</p>
<p>Example use:</p>
<p>Games between Phillies and Mets in July 2018:</p>
<p>games = statsapi.schedule(start_date='07/01/2018',end_date='07/31/2018',team=143,opponent=121)</p>
<p>Print a list of those games with final score or game status:</p>
<p>for x in games:
    print(x['summary'])</p>
<p>Output:</p>
<p>2018-07-09 - Philadelphia Phillies (3) @ New York Mets (4) (Final)
2018-07-09 - Philadelphia Phillies (3) @ New York Mets (1) (Final)
2018-07-10 - Philadelphia Phillies (7) @ New York Mets (3) (Final)
2018-07-11 - Philadelphia Phillies (0) @ New York Mets (3) (Final)</p>
<p>Print a list of decisions for those games:</p>
<p>for x in games:
    print("%s Game %s - WP: %s, LP: %s" % (x['game_date'],x['game_num'],x['winning_pitcher'],x['losing_pitcher']))</p>
<p>Output:</p>
<p>2018-07-09 Game 1 - WP: Tim Peterson, LP: Victor Arano
2018-07-09 Game 2 - WP: Aaron Nola, LP: Corey Oswalt
2018-07-10 Game 1 - WP: Enyel De Los Santos, LP: Drew Gagnon
2018-07-11 Game 1 - WP: Robert Gsellman, LP: Mark Leiter Jr.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-statsapi.schedule', this);">Show source &equiv;</a></p>
  <div id="source-statsapi.schedule" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">schedule</span><span class="p">(</span><span class="n">date</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">start_date</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">end_date</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">team</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">opponent</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">sportId</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">game_id</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get list of games for a given date/range and/or team/opponent.</span>

<span class="sd">    Include a game_id to get data for that game.</span>

<span class="sd">    Output will be a list containing a dict for each game. Fields in the dict:</span>

<span class="sd">    &#39;game_id&#39;: unique MLB game id (primary key, or gamePk)</span>
<span class="sd">    &#39;game_datetime&#39;: date and timestamp in UTC (be careful if you truncate the time--the date may be the next day for a late game)</span>
<span class="sd">    &#39;game_date&#39;: date of game (YYYY-MM-DD)</span>
<span class="sd">    &#39;game_type&#39;: Preseason, Regular season, Postseason, etc. Look up possible values using the meta endpoint with type=gameTypes</span>
<span class="sd">    &#39;status&#39;: Scheduled, Warmup, In Progress, Final, etc. Look up possible values using the meta endpoint with type=gameStatus</span>
<span class="sd">    &#39;away_name&#39;: team name for the away team (e.g. Philadelphia Phillies)</span>
<span class="sd">    &#39;home_name&#39;: team name for the home team (e.g. Philadelphia Phillies)</span>
<span class="sd">    &#39;away_id&#39;: team id for the away team, e.g. 143. Use this to look up other info about a team using the team endpoint with teamId=143</span>
<span class="sd">    &#39;home_id&#39;: team id for the home team, e.g. 143. Use this to look up other info about a team using the team endpoint with teamId=143</span>
<span class="sd">    &#39;doubleheader&#39;: indicates if the game is part of a straight doubleheader (Y), a split doubleheader (S), or not part of a doubleheader</span>
<span class="sd">    &#39;game_num&#39;: game sequence (1, 2) if part of a doubleheader (will be 1 when not part of a doubleheader)</span>
<span class="sd">    &#39;away_score&#39;: runs scored by the away team (even when game is in progress)</span>
<span class="sd">    &#39;home_score&#39;: runs scored by the home team (even when game is in progress)</span>
<span class="sd">    &#39;winning_team&#39;: team name for the winning team, if the game is final (e.g. Philadelphia Phillies)</span>
<span class="sd">    &#39;losing_team&#39;: team name for the losing team, if the game is final (e.g. Philadelphia Phillies)</span>
<span class="sd">    &#39;winning_pitcher&#39;: full name of the winning pitcher, if the game is final and has a winner (not postponed/tied)</span>
<span class="sd">    &#39;losing_pitcher&#39;: full name of the losing pitcher, if the game is final and has a winner (not postponed/tied)</span>
<span class="sd">    &#39;save_pitcher&#39;: full name of the pitcher credited with a save, if the game is final and has a winner (not postponed/tied)</span>
<span class="sd">    &#39;home_probable_pitcher&#39;: full name of the probable pitcher for the home team, if available</span>
<span class="sd">    &#39;away_probable_pitcher&#39;: full name of the probable pitcher for the away team, if available</span>
<span class="sd">    &#39;home_pitcher_note&#39;: pitching report for the home team probable pitcher, if available</span>
<span class="sd">    &#39;away_pitcher_note&#39;: pitching report for the away team probable pitcher, if available</span>
<span class="sd">    &#39;current_inning&#39;: current inning (applies best to in-progress games)</span>
<span class="sd">    &#39;inning_state&#39;: state of current inning: top, middle, bottom, end (applies best to in-progress games)</span>
<span class="sd">    &#39;summary&#39;:  if the game is final or in progress, the summary will include &quot;&lt;Date&gt; - &lt;Away Team Name&gt; (&lt;Away Score&gt;) @ &lt;Home Team Name&gt; (&lt;Home Score&gt;) (&lt;Game Status&gt;)&quot;</span>
<span class="sd">                if the game has not started yet, the summary will include &quot;&lt;Date&gt; - &lt;Away Team Name&gt; @ &lt;Home Team Name&gt; (&lt;Game Status&gt;)&quot;</span>

<span class="sd">    Example use:</span>

<span class="sd">    Games between Phillies and Mets in July 2018:</span>

<span class="sd">    games = statsapi.schedule(start_date=&#39;07/01/2018&#39;,end_date=&#39;07/31/2018&#39;,team=143,opponent=121)</span>

<span class="sd">    Print a list of those games with final score or game status:</span>

<span class="sd">    for x in games:</span>
<span class="sd">        print(x[&#39;summary&#39;])</span>

<span class="sd">    Output:</span>

<span class="sd">    2018-07-09 - Philadelphia Phillies (3) @ New York Mets (4) (Final)</span>
<span class="sd">    2018-07-09 - Philadelphia Phillies (3) @ New York Mets (1) (Final)</span>
<span class="sd">    2018-07-10 - Philadelphia Phillies (7) @ New York Mets (3) (Final)</span>
<span class="sd">    2018-07-11 - Philadelphia Phillies (0) @ New York Mets (3) (Final)</span>

<span class="sd">    Print a list of decisions for those games:</span>

<span class="sd">    for x in games:</span>
<span class="sd">        print(&quot;%s Game %s - WP: %s, LP: %s&quot; % (x[&#39;game_date&#39;],x[&#39;game_num&#39;],x[&#39;winning_pitcher&#39;],x[&#39;losing_pitcher&#39;]))</span>

<span class="sd">    Output:</span>

<span class="sd">    2018-07-09 Game 1 - WP: Tim Peterson, LP: Victor Arano</span>
<span class="sd">    2018-07-09 Game 2 - WP: Aaron Nola, LP: Corey Oswalt</span>
<span class="sd">    2018-07-10 Game 1 - WP: Enyel De Los Santos, LP: Drew Gagnon</span>
<span class="sd">    2018-07-11 Game 1 - WP: Robert Gsellman, LP: Mark Leiter Jr.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">end_date</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">start_date</span><span class="p">:</span>
        <span class="n">date</span> <span class="o">=</span> <span class="n">end_date</span>
        <span class="n">end_date</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="k">if</span> <span class="n">start_date</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">end_date</span><span class="p">:</span>
        <span class="n">date</span> <span class="o">=</span> <span class="n">start_date</span>
        <span class="n">start_date</span> <span class="o">=</span> <span class="bp">None</span>

    <span class="n">params</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">if</span> <span class="n">date</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;date&#39;</span><span class="p">:</span><span class="n">date</span><span class="p">})</span>
    <span class="k">elif</span> <span class="n">start_date</span> <span class="ow">and</span> <span class="n">end_date</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;startDate&#39;</span><span class="p">:</span><span class="n">start_date</span><span class="p">,</span> <span class="s1">&#39;endDate&#39;</span><span class="p">:</span><span class="n">end_date</span><span class="p">})</span>

    <span class="k">if</span> <span class="n">team</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
        <span class="n">params</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;teamId&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">team</span><span class="p">)})</span>

    <span class="k">if</span> <span class="n">opponent</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
        <span class="n">params</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;opponentId&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">opponent</span><span class="p">)})</span>

    <span class="k">if</span> <span class="n">game_id</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;gamePks&#39;</span><span class="p">:</span><span class="n">game_id</span><span class="p">})</span>

    <span class="n">params</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;sportId&#39;</span><span class="p">:</span><span class="nb">str</span><span class="p">(</span><span class="n">sportId</span><span class="p">),</span> <span class="s1">&#39;hydrate&#39;</span><span class="p">:</span><span class="s1">&#39;decisions,probablePitcher(note),linescore&#39;</span><span class="p">})</span>

    <span class="n">r</span> <span class="o">=</span> <span class="n">get</span><span class="p">(</span><span class="s1">&#39;schedule&#39;</span><span class="p">,</span><span class="n">params</span><span class="p">)</span>

    <span class="n">games</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="n">r</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;totalItems&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">games</span> <span class="c1">#TODO: ValueError(&#39;No games to parse from schedule object.&#39;) instead?</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">date</span> <span class="ow">in</span> <span class="n">r</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;dates&#39;</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">game</span> <span class="ow">in</span> <span class="n">date</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;games&#39;</span><span class="p">):</span>
                <span class="n">game_info</span> <span class="o">=</span> <span class="p">{</span>
                                <span class="s1">&#39;game_id&#39;</span><span class="p">:</span> <span class="n">game</span><span class="p">[</span><span class="s1">&#39;gamePk&#39;</span><span class="p">],</span>
                                <span class="s1">&#39;game_datetime&#39;</span><span class="p">:</span> <span class="n">game</span><span class="p">[</span><span class="s1">&#39;gameDate&#39;</span><span class="p">],</span>
                                <span class="s1">&#39;game_date&#39;</span><span class="p">:</span> <span class="n">date</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">],</span>
                                <span class="s1">&#39;game_type&#39;</span><span class="p">:</span> <span class="n">game</span><span class="p">[</span><span class="s1">&#39;gameType&#39;</span><span class="p">],</span>
                                <span class="s1">&#39;status&#39;</span><span class="p">:</span> <span class="n">game</span><span class="p">[</span><span class="s1">&#39;status&#39;</span><span class="p">][</span><span class="s1">&#39;detailedState&#39;</span><span class="p">],</span>
                                <span class="s1">&#39;away_name&#39;</span><span class="p">:</span> <span class="n">game</span><span class="p">[</span><span class="s1">&#39;teams&#39;</span><span class="p">][</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;team&#39;</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">],</span>
                                <span class="s1">&#39;home_name&#39;</span><span class="p">:</span> <span class="n">game</span><span class="p">[</span><span class="s1">&#39;teams&#39;</span><span class="p">][</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;team&#39;</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">],</span>
                                <span class="s1">&#39;away_id&#39;</span><span class="p">:</span> <span class="n">game</span><span class="p">[</span><span class="s1">&#39;teams&#39;</span><span class="p">][</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;team&#39;</span><span class="p">][</span><span class="s1">&#39;id&#39;</span><span class="p">],</span>
                                <span class="s1">&#39;home_id&#39;</span><span class="p">:</span> <span class="n">game</span><span class="p">[</span><span class="s1">&#39;teams&#39;</span><span class="p">][</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;team&#39;</span><span class="p">][</span><span class="s1">&#39;id&#39;</span><span class="p">],</span>
                                <span class="s1">&#39;doubleheader&#39;</span><span class="p">:</span> <span class="n">game</span><span class="p">[</span><span class="s1">&#39;doubleHeader&#39;</span><span class="p">],</span>
                                <span class="s1">&#39;game_num&#39;</span><span class="p">:</span> <span class="n">game</span><span class="p">[</span><span class="s1">&#39;gameNumber&#39;</span><span class="p">],</span>
                                <span class="s1">&#39;home_probable_pitcher&#39;</span><span class="p">:</span> <span class="n">game</span><span class="p">[</span><span class="s1">&#39;teams&#39;</span><span class="p">][</span><span class="s1">&#39;home&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;probablePitcher&#39;</span><span class="p">,{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;fullName&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">),</span>
                                <span class="s1">&#39;away_probable_pitcher&#39;</span><span class="p">:</span> <span class="n">game</span><span class="p">[</span><span class="s1">&#39;teams&#39;</span><span class="p">][</span><span class="s1">&#39;away&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;probablePitcher&#39;</span><span class="p">,{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;fullName&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">),</span>
                                <span class="s1">&#39;home_pitcher_note&#39;</span><span class="p">:</span> <span class="n">game</span><span class="p">[</span><span class="s1">&#39;teams&#39;</span><span class="p">][</span><span class="s1">&#39;home&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;probablePitcher&#39;</span><span class="p">,{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;note&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">),</span>
                                <span class="s1">&#39;away_pitcher_note&#39;</span><span class="p">:</span> <span class="n">game</span><span class="p">[</span><span class="s1">&#39;teams&#39;</span><span class="p">][</span><span class="s1">&#39;away&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;probablePitcher&#39;</span><span class="p">,{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;note&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">),</span>
                                <span class="s1">&#39;away_score&#39;</span><span class="p">:</span> <span class="n">game</span><span class="p">[</span><span class="s1">&#39;teams&#39;</span><span class="p">][</span><span class="s1">&#39;away&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;score&#39;</span><span class="p">,</span><span class="s1">&#39;0&#39;</span><span class="p">),</span>
                                <span class="s1">&#39;home_score&#39;</span><span class="p">:</span> <span class="n">game</span><span class="p">[</span><span class="s1">&#39;teams&#39;</span><span class="p">][</span><span class="s1">&#39;home&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;score&#39;</span><span class="p">,</span><span class="s1">&#39;0&#39;</span><span class="p">),</span>
                                <span class="s1">&#39;current_inning&#39;</span><span class="p">:</span> <span class="n">game</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;linescore&#39;</span><span class="p">,{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;currentInning&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">),</span>
                                <span class="s1">&#39;inning_state&#39;</span><span class="p">:</span> <span class="n">game</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;linescore&#39;</span><span class="p">,{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;inningState&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
                            <span class="p">}</span>
                <span class="k">if</span> <span class="n">game_info</span><span class="p">[</span><span class="s1">&#39;status&#39;</span><span class="p">]</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;Final&#39;</span><span class="p">,</span><span class="s1">&#39;Game Over&#39;</span><span class="p">]:</span>
                    <span class="k">if</span> <span class="n">game</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;isTie&#39;</span><span class="p">):</span>
                        <span class="n">game_info</span><span class="o">.</span><span class="n">update</span><span class="p">({</span>
                                            <span class="s1">&#39;winning_team&#39;</span><span class="p">:</span> <span class="s1">&#39;Tie&#39;</span><span class="p">,</span>
                                            <span class="s1">&#39;losing_Team&#39;</span><span class="p">:</span> <span class="s1">&#39;Tie&#39;</span>
                                        <span class="p">})</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">game_info</span><span class="o">.</span><span class="n">update</span><span class="p">({</span>
                                            <span class="s1">&#39;winning_team&#39;</span><span class="p">:</span> <span class="n">game</span><span class="p">[</span><span class="s1">&#39;teams&#39;</span><span class="p">][</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;team&#39;</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="k">if</span> <span class="n">game</span><span class="p">[</span><span class="s1">&#39;teams&#39;</span><span class="p">][</span><span class="s1">&#39;away&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;isWinner&#39;</span><span class="p">)</span> <span class="k">else</span> <span class="n">game</span><span class="p">[</span><span class="s1">&#39;teams&#39;</span><span class="p">][</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;team&#39;</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">],</span>
                                            <span class="s1">&#39;losing_team&#39;</span><span class="p">:</span> <span class="n">game</span><span class="p">[</span><span class="s1">&#39;teams&#39;</span><span class="p">][</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;team&#39;</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="k">if</span> <span class="n">game</span><span class="p">[</span><span class="s1">&#39;teams&#39;</span><span class="p">][</span><span class="s1">&#39;away&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;isWinner&#39;</span><span class="p">)</span> <span class="k">else</span> <span class="n">game</span><span class="p">[</span><span class="s1">&#39;teams&#39;</span><span class="p">][</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;team&#39;</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">],</span>
                                            <span class="s1">&#39;winning_pitcher&#39;</span><span class="p">:</span> <span class="n">game</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;decisions&#39;</span><span class="p">,{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;winner&#39;</span><span class="p">,{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;fullName&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">),</span>
                                            <span class="s1">&#39;losing_pitcher&#39;</span><span class="p">:</span> <span class="n">game</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;decisions&#39;</span><span class="p">,{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;loser&#39;</span><span class="p">,{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;fullName&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">),</span>
                                            <span class="s1">&#39;save_pitcher&#39;</span><span class="p">:</span> <span class="n">game</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;decisions&#39;</span><span class="p">,{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;save&#39;</span><span class="p">,{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;fullName&#39;</span><span class="p">)</span>
                                        <span class="p">})</span>
                    <span class="n">summary</span> <span class="o">=</span> <span class="n">date</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39; - &#39;</span> <span class="o">+</span> <span class="n">game</span><span class="p">[</span><span class="s1">&#39;teams&#39;</span><span class="p">][</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;team&#39;</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39; (&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">game</span><span class="p">[</span><span class="s1">&#39;teams&#39;</span><span class="p">][</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;score&#39;</span><span class="p">])</span> <span class="o">+</span> <span class="s1">&#39;) @ &#39;</span> <span class="o">+</span> <span class="n">game</span><span class="p">[</span><span class="s1">&#39;teams&#39;</span><span class="p">][</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;team&#39;</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39; (&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">game</span><span class="p">[</span><span class="s1">&#39;teams&#39;</span><span class="p">][</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;score&#39;</span><span class="p">])</span> <span class="o">+</span> <span class="s1">&#39;) (&#39;</span> <span class="o">+</span> <span class="n">game</span><span class="p">[</span><span class="s1">&#39;status&#39;</span><span class="p">][</span><span class="s1">&#39;detailedState&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;)&#39;</span>
                    <span class="n">game_info</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;summary&#39;</span><span class="p">:</span> <span class="n">summary</span><span class="p">})</span>
                <span class="k">elif</span> <span class="n">game_info</span><span class="p">[</span><span class="s1">&#39;status&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;In Progress&#39;</span><span class="p">:</span>
                    <span class="n">game_info</span><span class="o">.</span><span class="n">update</span><span class="p">({</span>
                                        <span class="s1">&#39;summary&#39;</span><span class="p">:</span> <span class="n">date</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39; - &#39;</span> <span class="o">+</span> <span class="n">game</span><span class="p">[</span><span class="s1">&#39;teams&#39;</span><span class="p">][</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;team&#39;</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39; (&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">game</span><span class="p">[</span><span class="s1">&#39;teams&#39;</span><span class="p">][</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;score&#39;</span><span class="p">])</span> <span class="o">+</span> <span class="s1">&#39;) @ &#39;</span> <span class="o">+</span> <span class="n">game</span><span class="p">[</span><span class="s1">&#39;teams&#39;</span><span class="p">][</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;team&#39;</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39; (&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">game</span><span class="p">[</span><span class="s1">&#39;teams&#39;</span><span class="p">][</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;score&#39;</span><span class="p">])</span> <span class="o">+</span> <span class="s1">&#39;) (&#39;</span> <span class="o">+</span> <span class="n">game</span><span class="p">[</span><span class="s1">&#39;linescore&#39;</span><span class="p">][</span><span class="s1">&#39;inningState&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39; of the &#39;</span> <span class="o">+</span> <span class="n">game</span><span class="p">[</span><span class="s1">&#39;linescore&#39;</span><span class="p">][</span><span class="s1">&#39;currentInningOrdinal&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;)&#39;</span>
                                    <span class="p">})</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">summary</span> <span class="o">=</span> <span class="n">date</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39; - &#39;</span> <span class="o">+</span> <span class="n">game</span><span class="p">[</span><span class="s1">&#39;teams&#39;</span><span class="p">][</span><span class="s1">&#39;away&#39;</span><span class="p">][</span><span class="s1">&#39;team&#39;</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39; @ &#39;</span> <span class="o">+</span> <span class="n">game</span><span class="p">[</span><span class="s1">&#39;teams&#39;</span><span class="p">][</span><span class="s1">&#39;home&#39;</span><span class="p">][</span><span class="s1">&#39;team&#39;</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39; (&#39;</span> <span class="o">+</span> <span class="n">game</span><span class="p">[</span><span class="s1">&#39;status&#39;</span><span class="p">][</span><span class="s1">&#39;detailedState&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;)&#39;</span>
                    <span class="n">game_info</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;summary&#39;</span><span class="p">:</span> <span class="n">summary</span><span class="p">})</span>
                        
                <span class="n">games</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">game_info</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">games</span>
</pre></div>

  </div>
</div>

  </div>
  
      
  <div class="item">
    <div class="name def" id="statsapi.standings">
    <p>def <span class="ident">standings</span>(</p><p>leagueId=&#39;103,104&#39;, division=&#39;all&#39;, include_wildcard=True, season=None, standingsTypes=None, date=None)</p>
    </div>
    

    
  
    <div class="desc"><p>Get formatted standings for a given league/division and season.</p>
<p>Using both leagueId and divisionId is fine, as long as the division belongs to the specified league</p>
<p>Return value will be a formatted table including division and wildcard standings, unless include_wildcard=False</p>
<p>Format for date = 'MM/DD/YYYY', e.g. '04/24/2019'</p>
<p>Example use:</p>
<p>Print National League standings from 09/27/2008</p>
<p>print( statsapi.standings(leagueId=104,date='09/27/2008') )</p>
<p>Output:</p>
<p>National League Central
Rank Team                   W   L   GB  (E#) WC Rank WC GB (E#)
 1   Chicago Cubs          97  63   -    -      -      -    -
 2   Milwaukee Brewers     89  72  8.5   E      1      -    -
 3   Houston Astros        85  75  12.0  E      3     3.5   E
 4   St. Louis Cardinals   85  76  12.5  E      4     4.0   E
 5   Cincinnati Reds       74  87  23.5  E      7    15.0   E
 6   Pittsburgh Pirates    66  95  31.5  E     11    23.0   E</p>
<p>National League West
Rank Team                   W   L   GB  (E#) WC Rank WC GB (E#)
 1   Los Angeles Dodgers   84  77   -    -      -      -    -
 2   Arizona Diamondbacks  81  80  3.0   E      6     8.0   E
 3   Colorado Rockies      74  87  10.0  E      8    15.0   E
 4   San Francisco Giants  71  90  13.0  E     10    18.0   E
 5   San Diego Padres      63  98  21.0  E     12    26.0   E</p>
<p>National League East
Rank Team                   W   L   GB  (E#) WC Rank WC GB (E#)
 1   Philadelphia Phillies 91  70   -    -      -      -    -
 2   New York Mets         89  72  2.0   E      2      -    -
 3   Florida Marlins       83  77  7.5   E      5     5.5   E
 4   Atlanta Braves        72  89  19.0  E      9    17.0   E
 5   Washington Nationals  59  101 31.5  E     13    29.5   E</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-statsapi.standings', this);">Show source &equiv;</a></p>
  <div id="source-statsapi.standings" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">standings</span><span class="p">(</span><span class="n">leagueId</span><span class="o">=</span><span class="s1">&#39;103,104&#39;</span><span class="p">,</span><span class="n">division</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">,</span><span class="n">include_wildcard</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span><span class="n">season</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">standingsTypes</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">date</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get formatted standings for a given league/division and season.</span>

<span class="sd">    Using both leagueId and divisionId is fine, as long as the division belongs to the specified league</span>

<span class="sd">    Return value will be a formatted table including division and wildcard standings, unless include_wildcard=False</span>
<span class="sd">    </span>
<span class="sd">    Format for date = &#39;MM/DD/YYYY&#39;, e.g. &#39;04/24/2019&#39;</span>

<span class="sd">    Example use:</span>

<span class="sd">    Print National League standings from 09/27/2008</span>
<span class="sd">    </span>
<span class="sd">    print( statsapi.standings(leagueId=104,date=&#39;09/27/2008&#39;) )</span>

<span class="sd">    Output:</span>

<span class="sd">    National League Central</span>
<span class="sd">    Rank Team                   W   L   GB  (E#) WC Rank WC GB (E#)</span>
<span class="sd">     1   Chicago Cubs          97  63   -    -      -      -    -</span>
<span class="sd">     2   Milwaukee Brewers     89  72  8.5   E      1      -    -</span>
<span class="sd">     3   Houston Astros        85  75  12.0  E      3     3.5   E</span>
<span class="sd">     4   St. Louis Cardinals   85  76  12.5  E      4     4.0   E</span>
<span class="sd">     5   Cincinnati Reds       74  87  23.5  E      7    15.0   E</span>
<span class="sd">     6   Pittsburgh Pirates    66  95  31.5  E     11    23.0   E</span>

<span class="sd">    National League West</span>
<span class="sd">    Rank Team                   W   L   GB  (E#) WC Rank WC GB (E#)</span>
<span class="sd">     1   Los Angeles Dodgers   84  77   -    -      -      -    -</span>
<span class="sd">     2   Arizona Diamondbacks  81  80  3.0   E      6     8.0   E</span>
<span class="sd">     3   Colorado Rockies      74  87  10.0  E      8    15.0   E</span>
<span class="sd">     4   San Francisco Giants  71  90  13.0  E     10    18.0   E</span>
<span class="sd">     5   San Diego Padres      63  98  21.0  E     12    26.0   E</span>

<span class="sd">    National League East</span>
<span class="sd">    Rank Team                   W   L   GB  (E#) WC Rank WC GB (E#)</span>
<span class="sd">     1   Philadelphia Phillies 91  70   -    -      -      -    -</span>
<span class="sd">     2   New York Mets         89  72  2.0   E      2      -    -</span>
<span class="sd">     3   Florida Marlins       83  77  7.5   E      5     5.5   E</span>
<span class="sd">     4   Atlanta Braves        72  89  19.0  E      9    17.0   E</span>
<span class="sd">     5   Washington Nationals  59  101 31.5  E     13    29.5   E</span>
<span class="sd">    </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">divisions</span> <span class="o">=</span> <span class="n">standings_data</span><span class="p">(</span><span class="n">leagueId</span><span class="p">,</span> <span class="n">division</span><span class="p">,</span> <span class="n">include_wildcard</span><span class="p">,</span> <span class="n">season</span><span class="p">,</span> <span class="n">standingsTypes</span><span class="p">,</span> <span class="n">date</span><span class="p">)</span>

    <span class="n">standings</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>

    <span class="k">for</span> <span class="n">div_id</span><span class="p">,</span><span class="n">div</span> <span class="ow">in</span> <span class="n">divisions</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">standings</span> <span class="o">+=</span> <span class="n">div</span><span class="p">[</span><span class="s1">&#39;div_name&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="k">if</span> <span class="n">include_wildcard</span><span class="p">:</span>
            <span class="n">standings</span> <span class="o">+=</span> <span class="s1">&#39;{:^4} {:&lt;21} {:^3} {:^3} {:^4} {:^4} {:^7} {:^5} {:^4}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">*</span><span class="p">[</span><span class="s1">&#39;Rank&#39;</span><span class="p">,</span><span class="s1">&#39;Team&#39;</span><span class="p">,</span><span class="s1">&#39;W&#39;</span><span class="p">,</span><span class="s1">&#39;L&#39;</span><span class="p">,</span><span class="s1">&#39;GB&#39;</span><span class="p">,</span><span class="s1">&#39;(E#)&#39;</span><span class="p">,</span><span class="s1">&#39;WC Rank&#39;</span><span class="p">,</span><span class="s1">&#39;WC GB&#39;</span><span class="p">,</span><span class="s1">&#39;(E#)&#39;</span><span class="p">])</span>
            <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">div</span><span class="p">[</span><span class="s1">&#39;teams&#39;</span><span class="p">]:</span>
                <span class="n">standings</span> <span class="o">+=</span> <span class="s1">&#39;{div_rank:^4} {name:&lt;21} {w:^3} {l:^3} {gb:^4} {elim_num:^4} {wc_rank:^7} {wc_gb:^5} {wc_elim_num:^4}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">t</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">standings</span> <span class="o">+=</span> <span class="s1">&#39;{:^4} {:&lt;21} {:^3} {:^3} {:^4} {:^4}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">*</span><span class="p">[</span><span class="s1">&#39;Rank&#39;</span><span class="p">,</span><span class="s1">&#39;Team&#39;</span><span class="p">,</span><span class="s1">&#39;W&#39;</span><span class="p">,</span><span class="s1">&#39;L&#39;</span><span class="p">,</span><span class="s1">&#39;GB&#39;</span><span class="p">,</span><span class="s1">&#39;(E#)&#39;</span><span class="p">])</span>
            <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">div</span><span class="p">[</span><span class="s1">&#39;teams&#39;</span><span class="p">]:</span>
                <span class="n">standings</span> <span class="o">+=</span> <span class="s1">&#39;{div_rank:^4} {name:&lt;21} {w:^3} {l:^3} {gb:^4} {elim_num:^4}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">t</span><span class="p">)</span>
        <span class="n">standings</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>

    <span class="k">return</span> <span class="n">standings</span>
</pre></div>

  </div>
</div>

  </div>
  
      
  <div class="item">
    <div class="name def" id="statsapi.standings_data">
    <p>def <span class="ident">standings_data</span>(</p><p>leagueId=&#39;103,104&#39;, division=&#39;all&#39;, include_wildcard=True, season=None, standingsTypes=None, date=None)</p>
    </div>
    

    
  
    <div class="desc"><p>Get a dict of standings data for a given league/division and season.</p>
<p>Using both leagueId and divisionId is fine, as long as the division belongs to the specified league</p>
<p>Return value will be a dict including division and wildcard standings, unless include_wildcard=False</p>
<p>Format for date = 'MM/DD/YYYY', e.g. '04/24/2019'</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-statsapi.standings_data', this);">Show source &equiv;</a></p>
  <div id="source-statsapi.standings_data" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">standings_data</span><span class="p">(</span><span class="n">leagueId</span><span class="o">=</span><span class="s1">&#39;103,104&#39;</span><span class="p">,</span><span class="n">division</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">,</span><span class="n">include_wildcard</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span><span class="n">season</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">standingsTypes</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">date</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get a dict of standings data for a given league/division and season.</span>

<span class="sd">    Using both leagueId and divisionId is fine, as long as the division belongs to the specified league</span>

<span class="sd">    Return value will be a dict including division and wildcard standings, unless include_wildcard=False</span>
<span class="sd">    </span>
<span class="sd">    Format for date = &#39;MM/DD/YYYY&#39;, e.g. &#39;04/24/2019&#39;</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;leagueId&#39;</span><span class="p">:</span><span class="n">leagueId</span><span class="p">}</span>
    <span class="k">if</span> <span class="n">date</span><span class="p">:</span> <span class="n">params</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;date&#39;</span><span class="p">:</span><span class="n">date</span><span class="p">})</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">season</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">date</span><span class="p">:</span>
            <span class="n">season</span> <span class="o">=</span> <span class="n">date</span><span class="p">[</span><span class="o">-</span><span class="mi">4</span><span class="p">:]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">season</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">year</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">standingsTypes</span><span class="p">:</span> <span class="n">standingsTypes</span> <span class="o">=</span> <span class="s1">&#39;regularSeason&#39;</span>
    <span class="n">params</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;season&#39;</span><span class="p">:</span><span class="n">season</span><span class="p">,</span><span class="s1">&#39;standingsTypes&#39;</span><span class="p">:</span><span class="n">standingsTypes</span><span class="p">})</span>
    <span class="n">params</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;hydrate&#39;</span><span class="p">:</span><span class="s1">&#39;team(division)&#39;</span><span class="p">,</span><span class="s1">&#39;fields&#39;</span><span class="p">:</span><span class="s1">&#39;records,standingsType,teamRecords,team,name,division,id,nameShort,abbreviation,divisionRank,gamesBack,wildCardRank,wildCardGamesBack,wildCardEliminationNumber,divisionGamesBack,clinched,eliminationNumber,winningPercentage,type,wins,losses&#39;</span><span class="p">})</span>

    <span class="n">r</span> <span class="o">=</span> <span class="n">get</span><span class="p">(</span><span class="s1">&#39;standings&#39;</span><span class="p">,</span><span class="n">params</span><span class="p">)</span>

    <span class="n">divisions</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">r</span><span class="p">[</span><span class="s1">&#39;records&#39;</span><span class="p">]:</span>
        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">(</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">y</span><span class="p">[</span><span class="s1">&#39;teamRecords&#39;</span><span class="p">]</span> <span class="k">if</span> <span class="n">division</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">==</span><span class="s1">&#39;all&#39;</span> <span class="ow">or</span> <span class="n">division</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">==</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;team&#39;</span><span class="p">][</span><span class="s1">&#39;division&#39;</span><span class="p">][</span><span class="s1">&#39;abbreviation&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()):</span>
            <span class="k">if</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;team&#39;</span><span class="p">][</span><span class="s1">&#39;division&#39;</span><span class="p">][</span><span class="s1">&#39;id&#39;</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">divisions</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="n">divisions</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;team&#39;</span><span class="p">][</span><span class="s1">&#39;division&#39;</span><span class="p">][</span><span class="s1">&#39;id&#39;</span><span class="p">]:{</span><span class="s1">&#39;div_name&#39;</span><span class="p">:</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;team&#39;</span><span class="p">][</span><span class="s1">&#39;division&#39;</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">],</span><span class="s1">&#39;teams&#39;</span><span class="p">:[]}})</span>
            <span class="n">team</span> <span class="o">=</span>  <span class="p">{</span>
                        <span class="s1">&#39;name&#39;</span> <span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;team&#39;</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">],</span>
                        <span class="s1">&#39;div_rank&#39;</span> <span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;divisionRank&#39;</span><span class="p">],</span>
                        <span class="s1">&#39;w&#39;</span> <span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;wins&#39;</span><span class="p">],</span>
                        <span class="s1">&#39;l&#39;</span> <span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;losses&#39;</span><span class="p">],</span>
                        <span class="s1">&#39;gb&#39;</span> <span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;gamesBack&#39;</span><span class="p">],</span>
                        <span class="s1">&#39;wc_rank&#39;</span> <span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;wildCardRank&#39;</span><span class="p">,</span><span class="s1">&#39;-&#39;</span><span class="p">),</span>
                        <span class="s1">&#39;wc_gb&#39;</span> <span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;wildCardGamesBack&#39;</span><span class="p">,</span><span class="s1">&#39;-&#39;</span><span class="p">),</span>
                        <span class="s1">&#39;wc_elim_num&#39;</span> <span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;wildCardEliminationNumber&#39;</span><span class="p">,</span><span class="s1">&#39;-&#39;</span><span class="p">),</span>
                        <span class="s1">&#39;elim_num&#39;</span> <span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;eliminationNumber&#39;</span><span class="p">]</span>
                    <span class="p">}</span>
            <span class="n">divisions</span><span class="p">[</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;team&#39;</span><span class="p">][</span><span class="s1">&#39;division&#39;</span><span class="p">][</span><span class="s1">&#39;id&#39;</span><span class="p">]][</span><span class="s1">&#39;teams&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">team</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">divisions</span>
</pre></div>

  </div>
</div>

  </div>
  
      
  <div class="item">
    <div class="name def" id="statsapi.team_leader_data">
    <p>def <span class="ident">team_leader_data</span>(</p><p>teamId, leaderCategories, season=2019, leaderGameTypes=&#39;R&#39;, limit=10)</p>
    </div>
    

    
  
    <div class="desc"><p>Get stat leaders for a given team.</p>
<p>Get a list of available leaderCategories by calling the meta endpoint with type=leagueLeaderTypes</p>
<p>Example use:</p>
<p>Print the top 5 team leaders in walks for the 2008 Phillies</p>
<p>print(statsapi.team_leaders(143,'walks',limit=5,season=2008))</p>
<p>Output:</p>
<p>Rank Name                 Value
 1   Pat Burrell           102
 2   Ryan Howard           81
 3   Chase Utley           64
 4   Jimmy Rollins         58
 5   Jayson Werth          57</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-statsapi.team_leader_data', this);">Show source &equiv;</a></p>
  <div id="source-statsapi.team_leader_data" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">team_leader_data</span><span class="p">(</span><span class="n">teamId</span><span class="p">,</span><span class="n">leaderCategories</span><span class="p">,</span><span class="n">season</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">year</span><span class="p">,</span><span class="n">leaderGameTypes</span><span class="o">=</span><span class="s1">&#39;R&#39;</span><span class="p">,</span><span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get stat leaders for a given team.</span>

<span class="sd">    Get a list of available leaderCategories by calling the meta endpoint with type=leagueLeaderTypes</span>

<span class="sd">    Example use:</span>

<span class="sd">    Print the top 5 team leaders in walks for the 2008 Phillies</span>

<span class="sd">    print(statsapi.team_leaders(143,&#39;walks&#39;,limit=5,season=2008))</span>

<span class="sd">    Output:</span>

<span class="sd">    Rank Name                 Value</span>
<span class="sd">     1   Pat Burrell           102</span>
<span class="sd">     2   Ryan Howard           81</span>
<span class="sd">     3   Chase Utley           64</span>
<span class="sd">     4   Jimmy Rollins         58</span>
<span class="sd">     5   Jayson Werth          57</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;leaderCategories&#39;</span><span class="p">:</span><span class="n">leaderCategories</span><span class="p">,</span><span class="s1">&#39;season&#39;</span><span class="p">:</span><span class="n">season</span><span class="p">,</span><span class="s1">&#39;teamId&#39;</span><span class="p">:</span><span class="n">teamId</span><span class="p">,</span><span class="s1">&#39;leaderGameTypes&#39;</span><span class="p">:</span><span class="n">leaderGameTypes</span><span class="p">,</span><span class="s1">&#39;limit&#39;</span><span class="p">:</span><span class="n">limit</span><span class="p">}</span>
    <span class="n">params</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;fields&#39;</span> <span class="p">:</span> <span class="s1">&#39;teamLeaders,leaders,rank,value,person,fullName&#39;</span><span class="p">})</span>

    <span class="n">r</span> <span class="o">=</span> <span class="n">get</span><span class="p">(</span><span class="s1">&#39;team_leaders&#39;</span><span class="p">,</span><span class="n">params</span><span class="p">)</span>

    <span class="n">lines</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">player</span> <span class="ow">in</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">r</span><span class="p">[</span><span class="s1">&#39;teamLeaders&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;leaders&#39;</span><span class="p">]]:</span>
        <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">player</span><span class="p">[</span><span class="s1">&#39;rank&#39;</span><span class="p">],</span><span class="n">player</span><span class="p">[</span><span class="s1">&#39;person&#39;</span><span class="p">][</span><span class="s1">&#39;fullName&#39;</span><span class="p">],</span><span class="n">player</span><span class="p">[</span><span class="s1">&#39;value&#39;</span><span class="p">]])</span>

    <span class="k">return</span> <span class="n">lines</span>
</pre></div>

  </div>
</div>

  </div>
  
      
  <div class="item">
    <div class="name def" id="statsapi.team_leaders">
    <p>def <span class="ident">team_leaders</span>(</p><p>teamId, leaderCategories, season=2019, leaderGameTypes=&#39;R&#39;, limit=10)</p>
    </div>
    

    
  
    <div class="desc"><p>Get stat leaders for a given team.</p>
<p>Get a list of available leaderCategories by calling the meta endpoint with type=leagueLeaderTypes</p>
<p>Example use:</p>
<p>Print the top 5 team leaders in walks for the 2008 Phillies</p>
<p>print(statsapi.team_leaders(143,'walks',limit=5,season=2008))</p>
<p>Output:</p>
<p>Rank Name                 Value
 1   Pat Burrell           102
 2   Ryan Howard           81
 3   Chase Utley           64
 4   Jimmy Rollins         58
 5   Jayson Werth          57</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-statsapi.team_leaders', this);">Show source &equiv;</a></p>
  <div id="source-statsapi.team_leaders" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">team_leaders</span><span class="p">(</span><span class="n">teamId</span><span class="p">,</span><span class="n">leaderCategories</span><span class="p">,</span><span class="n">season</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">year</span><span class="p">,</span><span class="n">leaderGameTypes</span><span class="o">=</span><span class="s1">&#39;R&#39;</span><span class="p">,</span><span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Get stat leaders for a given team.</span>

<span class="sd">    Get a list of available leaderCategories by calling the meta endpoint with type=leagueLeaderTypes</span>

<span class="sd">    Example use:</span>

<span class="sd">    Print the top 5 team leaders in walks for the 2008 Phillies</span>

<span class="sd">    print(statsapi.team_leaders(143,&#39;walks&#39;,limit=5,season=2008))</span>

<span class="sd">    Output:</span>

<span class="sd">    Rank Name                 Value</span>
<span class="sd">     1   Pat Burrell           102</span>
<span class="sd">     2   Ryan Howard           81</span>
<span class="sd">     3   Chase Utley           64</span>
<span class="sd">     4   Jimmy Rollins         58</span>
<span class="sd">     5   Jayson Werth          57</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">lines</span> <span class="o">=</span> <span class="n">team_leader_data</span><span class="p">(</span><span class="n">teamId</span><span class="p">,</span><span class="n">leaderCategories</span><span class="p">,</span><span class="n">season</span><span class="p">,</span><span class="n">leaderGameTypes</span><span class="p">,</span><span class="n">limit</span><span class="p">)</span>

    <span class="n">leaders</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>

    <span class="n">leaders</span> <span class="o">+=</span> <span class="s1">&#39;{:&lt;4} {:&lt;20} {:&lt;5}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">*</span><span class="p">[</span><span class="s1">&#39;Rank&#39;</span><span class="p">,</span><span class="s1">&#39;Name&#39;</span><span class="p">,</span><span class="s1">&#39;Value&#39;</span><span class="p">])</span>
    <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
        <span class="n">leaders</span> <span class="o">+=</span> <span class="s1">&#39;{:^4} {:&lt;20} {:^5}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">*</span><span class="n">a</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">leaders</span>
</pre></div>

  </div>
</div>

  </div>
  


    <h2 class="section-title" id="header-submodules">Sub-modules</h2>
      <div class="item">
      <p class="name"><a href="endpoints.m.html">statsapi.endpoints</a></p>
      
  

      </div>
      <div class="item">
      <p class="name"><a href="version.m.html">statsapi.version</a></p>
      
  

      </div>
  </section>

    </article>
  <div class="clear"> </div>
  <footer id="footer">
    <p>
      Documentation generated by
      <a href="https://github.com/BurntSushi/pdoc">pdoc 0.3.2</a>
    </p>

    <p>pdoc is in the public domain with the
      <a href="http://unlicense.org">UNLICENSE</a></p>

    <p>Design by <a href="http://nadh.in">Kailash Nadh</a></p>
  </footer>
</div>
</body>
</html>
